/cases:
  get:
    tags:
      - Cases
    summary: Get all cases
    description: ''
    operationId: server.endpoints.cases.display_cases
    produces:
      - application/json
    responses:
      200:
        description: Success
        schema:
          type: object
          properties:
            cases:
              type: array
              items:
                $ref: '#/definitions/Case'

/cases/{case}:
  parameters:
    - name: case
      in: path
      description: The name of the case
      required: true
      type: string
  get:
    tags:
      - Cases
    summary: Get a case
    description: ''
    operationId: server.endpoints.cases.get_case
    produces:
      - application/json
    responses:
      200:
        description: Success
        schema:
          type: object
          properties:
            case:
              $ref: '#/definitions/Case'
  post:
    tags:
      - Cases
    summary: Update a case
    description: ''
    operationId: server.endpoints.cases.edit_case
    consumes:
      - application/x-www-form-urlencoded
    produces:
      - application/json
    parameters:
      - in: formData
        name: name
        description: New name of the case.
        required: false
        type: string
      - in: formData
        name: note
        description: Note to add to the case
        required: false
        type: string
    responses:
      200:
        description: Success
        schema:
          type: object
          properties:
            cases:
              type: array
              items:
                $ref: '#/definitions/Case'
  put:
    tags:
      - Cases
    summary: Add a case
    description: ''
    operationId: server.endpoints.cases.add_case
    produces:
      - application/json
    responses:
      200:
        description: Success
        schema:
          type: object
          description: All the cases and their subscriptions. Form of '{case_name -> CaseSubscriptions}'

  delete:
    tags:
      - Cases
    summary: Remove a case
    description: ''
    operationId: server.endpoints.cases.delete_case
    produces:
      - application/json
    responses:
      200:
        description: Success

/cases/import:
  get:
    tags:
      - Cases
    summary: Import case data
    description: ''
    operationId: server.endpoints.cases.import_cases
    consumes:
      - application/x-www-form-urlencoded
    produces:
      - application/json
    parameters:
      - in: formData
        name: filename
        description: Filename of JSON to import into case database.
        required: false
        type: string
    responses:
      200:
        description: Success

/cases/export:
  post:
    tags:
      - Cases
    summary: Export case data
    description: ''
    operationId: server.endpoints.cases.export_cases
    consumes:
      - application/x-www-form-urlencoded
    produces:
      - application/json
    parameters:
      - in: formData
        name: filename
        description: Filename of JSON to import into case database.
        required: false
        type: string
    responses:
      200:
        description: Success
/cases/subscriptions:
  get:
    tags:
      - Subscriptions
    summary: Gets all subscriptions for all cases
    description: ''
    operationId: server.endpoints.cases.display_subscriptions
    produces:
      - application/json
    responses:
      200:
        description: Success
        schema:
          type: object
          description: All the cases and their subscriptions. Form of '{case_name -> CaseSubscriptions}'
/cases/{case}/events:
  get:
    tags:
      - Cases
    summary: Get case events
    description: ''
    operationId: server.endpoints.cases.get_events
    parameters:
      - name: case
        in: path
        description: The name of the case
        required: true
        type: string
    produces:
      - application/json
    responses:
      200:
        description: Success
        schema:
          type: array
          items:
            $ref: '#/definitions/Event'

/cases/{case}/subscriptions:
  parameters:
    - name: case
      in: path
      description: The name of the case
      required: true
      type: string
  get:
    tags:
      - Subscriptions
    summary: Get a subscription
    description: ''
    operationId: server.endpoints.cases.get_subscription
    produces:
      - application/json
    responses:
      200:
        description: Success
        schema:
          description: The subscriptions of the case
          $ref: '#definitions/CaseSubscription'
  post:
    tags:
      - Subscriptions
    summary: Update a subscription
    description: ''
    operationId: server.endpoints.cases.update_subscription
    consumes:
      - application/json
    produces:
      - application/json
    parameters:
      - in: body
        name: element
        description: Edited subscription object
        required: true
        schema:
          $ref: '#/definitions/SubscriptionChange'
    responses:
      200:
        description: Success
        schema:
          type: object
          description: All the cases and their subscriptions. Form of '{case_name -> CaseSubscriptions}'
  put:
    tags:
      - Subscriptions
    summary: Add a subscription
    description: ''
    operationId: server.endpoints.cases.add_subscription
    consumes:
      - application/json
    produces:
      - application/json
    parameters:
      - in: body
        name: element
        description: Created subscription object
        required: true
        schema:
          $ref: '#/definitions/SubscriptionChange'
    responses:
      200:
        description: Success
        schema:
          type: object
          description: All the cases and their subscriptions. Form of '{case_name -> CaseSubscriptions}'
  delete:
    tags:
      - Subscriptions
    summary: Remove a subscription
    description: ''
    operationId: server.endpoints.cases.delete_subscription
    consumes:
      - application/json
    produces:
      - application/json
    parameters:
      - in: body
        name: ancestry
        description: Ancestry of execution element
        required: true
        schema:
          type: object
          required:
            - ancestry
          properties:
            ancestry:
              type: array
              items:
                type: string
    responses:
      200:
        description: Success