<!DOCTYPE html>
<html>
<title>WALKOFF-Automation for All</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/androidstudio.min.css">
<style>

body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif}
.w3-navbar,h1,button {font-family: "Montserrat", sans-serif}
.fa-graduation-cap,.fa-flask{font-size:200px}

#headerDiv{
    background-image:url("../../files/images/headerBackground2.png");
    background-size: 50% auto;
    background-repeat: no-repeat;
    background-position:50% 50%;
}

.imageList {
  list-style-type: none;
}

.topLevelList + h5{
  display:none;
}

.fa-circle, .fa-circle-o{
  font-size:12px;
  padding-right:10px;
}

.code{
    background-color:#edf0f4;
    padding:25px;
}


td{
    padding-right:10px;
    margin-bottom: 25px;
    margin-top:25px;
}

.image{
    text-align:center;
}

.image img{
    max-width:100%;
    max-height:100%;
}

.functionality_list li{
    margin-bottom:20px;
}

.tag{
    background-color:#edf0f4;
    text-align:center;
}

img.media-object.image{
    width:100%;
}

.tutorialTable td{
    border-bottom:1px solid black;
}

</style>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
    
<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-blue-grey w3-card-2 w3-left-align w3-large">
    <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-opennav w3-right w3-padding-large w3-hover-white w3-large w3-red" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
    <a href="../../index.html" class="w3-bar-item w3-button w3-padding-large w3-white">Home</a>
    <a href="../../documentation/build/index.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Documentation</a>
    <a href="https://github.com/iadgov/WALKOFF" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Source</a>
    <a href="../../swagger/index.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">API</a>
    <a href="index.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Tutorials</a>
  </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-navblock w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
    <a class="w3-padding-large" href="../../documentation/build/index.html">Documentation</a>
    <a class="w3-padding-large" href="https://github.com/iadgov/WALKOFF">Source</a>
    <a class="w3-padding-large" href="../../swagger/index.html">API</a>
    <a class="w3-padding-large" href="index.html">Tutorials</a>
  </div>
</div>

<!-- Header -->
<header id="headerDiv" class="w3-container w3-black w3-center w3-padding-64">
  <h1 class="headerText w3-margin w3-jumbo">WALKOFF</h1>
  <h5 class="headerText w3-margin w3-xxxlarge">Tutorials</h5>
</header>

<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-twothird">
      <h1>Advanced Workflow Creation Tutorial</h1>
        <p>In this tutorial, we will create a more extensive Workflow with multiple branching paths that is a little
            more analogous to something that might be used in production.</p>
        <ul type="1" class="media-list imageList">
            <li class="media">
                <div class="media-body">
                    <h4 class="media-heading"><b>Create a new Workflow</b></h4>
                    <p>In the top navigation bar, click "Playbook" to return to the playbook editor. Then, in the
                        toolbar, click the "New Workflow" button. You can specify an existing Playbook or create a
                        new one. Enter or select the Playbook name and enter the Workflow name, then click "Create
                        New Workflow."</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowEditor2/newworkflow.PNG">
                        <img class="media-object image"
                             src="images/workflowEditor2/newworkflow.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                    <h4 class="media-heading"><b>Open the newly created Workflow</b></h4>
                    <p>In the toolbar, click the "Open Workflow" button. You can click Playbook names to expand or
                        collapse them. You can also rename, duplicate, and delete workflows here. Click on the name
                        of the Workflow that was just created.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowEditor2/openworkflow.PNG">
                        <img class="media-object image"
                             src="images/workflowEditor2/openworkflow.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                  <h4 class="media-heading"><b>Add actions to the workspace</b></h4>
                  <p>In this workflow, we will use actions from the included Utilities app and the FileUtilities app
                      which can be found <a href="https://github.com/iadgov/WALKOFF-Apps">in the Apps repository</a>.
                      The outline of the workflow is as follows:</p>
                  <ol type="1">
                    <li>Take information from an action. In this example, it will be a random number from the
                        "System PRNG" action, but it could be retrieving logs, messages,
                        or other information.</li>
                    <li>If the number is greater than or equal to 0.5, we will proceed with storing it to a file, otherwise it will only
                        be logged in console.</li>
                    <li>Normalize the data by rounding it to 2 decimal points.</li>
                    <li>Check if the file "test.txt" exists</li>
                    <li>If it does, output the metadata of the file and make it writable before appending the
                        information to it. If it doesn't exist, we will first create the file before writing to it.</li>
                    <li>Then, the file will be marked as read-only and output the metadata again.</li> 
                  </ol>
                  <p>Drag the appropriate actions to the workspace, connect them as shown, and ensure that the "System
                      PRNG" action is the starting node.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowEditorAdv/addactions.PNG">
                        <img class="media-object image"
                             src="images/workflowEditorAdv/addactions.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                  <h4 class="media-heading"><b>Configure actions</b></h4>
                  <ol type="1">
                    <li><b>System PRNG:</b> Set the left branch condition with the "Utilities" app's "Number Compare" with inputs "l"
                        and "0.5". Set the right branch condition with the same, but with inputs "ge" and "0.5" instead.</li>
                    <li><b>repeatBackToMe:</b> Set the string as "not noteworthy".</li>
                    <li><b>Round to N:</b> Set the number to round as the output from System PRNG using the dropdown menu, and set the number of places to "2".</li>
                    <li><b>Exists in Directory:</b> Set the filename as "test.txt." Set the left branch with the return code "NotExists" and right branch with the return code "Exists."</li>
                    <li><b>Stats:</b> Set the filename as "test.txt"</li>
                    <li><b>Create File:</b> Set the filename as "test.txt", the contents as "This is the beginning of the file", and overwrite
                        to "false". Set the only branch with the return code "FileCreated."</li>
                    <li><b>Make Writable:</b> Set the file name as "test.txt"</li>
                    <li><b>Append File:</b> Set the file name as "test.txt", the contents as the output from Round to N, and newline as "True". Set the only branch with the return code "FileWritten."</li>
                    <li><b>Make Read Only:</b> Set the file name as "test.txt"</li>
                    <li><b>Stats:</b> Set the file name as "test.txt"</li>
                  </ol>
                  <p>Once you have all nodes configured as above, save and execute the workflow.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowEditorAdv/configactions.PNG">
                        <img class="media-object image"
                             src="images/workflowEditorAdv/configactions.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                  <h4 class="media-heading"><b>Examine results</b></h4>
                  <p>If you configured everything as shown, you should obtain similar results to what is shown. Take a
                      look at the generated "text.txt" if it gets generated. Run the Workflow a few more times to verify t
                      hat it was set up correctly.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowEditorAdv/flow.PNG">
                        <img class="media-object image"
                             src="images/workflowEditorAdv/flow.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowEditorAdv/results.PNG">
                        <img class="media-object image"
                             src="images/workflowEditorAdv/results.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
        </ul>
    </div>

   <div class="w3-third w3-center">
      <i class="fa fa-graduation-cap w3-padding-64 w3-text-blue-grey"></i>
    </div>
  </div>
</div>

<div class="w3-container w3-black w3-center w3-opacity w3-padding-64">
    <h1 class="w3-margin w3-xlarge">Questions? Comments? </h1>
    <h1 class="w3-margin w3-xlarge"> Reach out to us at <a href="mailto:walkoff@nsa.gov"> walkoff@nsa.gov </a> </h1>
</div>

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-center w3-opacity">
 <!-- <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank"> </a></p> -->
</footer>

<script src="../../files/plugins/jQuery/jQuery-2.1.4.min.js"></script>
<script>
// Used to toggle the menu on small screens when clicking on the menu button
function myFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>
</body>
</html>
