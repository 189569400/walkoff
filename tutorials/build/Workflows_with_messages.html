<!DOCTYPE html>
<html>
<title>WALKOFF-Automation for All</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/androidstudio.min.css">
<style>

body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif}
.w3-navbar,h1,button {font-family: "Montserrat", sans-serif}
.fa-graduation-cap,.fa-flask{font-size:200px}

#headerDiv{
    background-image:url("../../files/images/headerBackground2.png");
    background-size: 50% auto;
    background-repeat: no-repeat;
    background-position:50% 50%;
}

.imageList {
  list-style-type: none;
}

.topLevelList + h5{
  display:none;
}

.fa-circle, .fa-circle-o{
  font-size:12px;
  padding-right:10px;
}

.code{
    background-color:#edf0f4;
    padding:25px;
}


td{
    padding-right:10px;
    margin-bottom: 25px;
    margin-top:25px;
}

.image{
    text-align:center;
}

.image img{
    max-width:100%;
    max-height:100%;
}

.functionality_list li{
    margin-bottom:20px;
}

.tag{
    background-color:#edf0f4;
    text-align:center;
}

img.media-object.image{
    width:100%;
}

.tutorialTable td{
    border-bottom:1px solid black;
}

</style>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
    
<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-blue-grey w3-card-2 w3-left-align w3-large">
    <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-opennav w3-right w3-padding-large w3-hover-white w3-large w3-red" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
    <a href="../../index.html" class="w3-bar-item w3-button w3-padding-large w3-white">Home</a>
    <a href="../../documentation/build/index.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Documentation</a>
    <a href="https://github.com/iadgov/WALKOFF" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Source</a>
    <a href="../../swagger/index.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">API</a>
    <a href="index.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Tutorials</a>
  </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-navblock w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
    <a class="w3-padding-large" href="../../documentation/build/index.html">Documentation</a>
    <a class="w3-padding-large" href="https://github.com/iadgov/WALKOFF">Source</a>
    <a class="w3-padding-large" href="../../swagger/index.html">API</a>
    <a class="w3-padding-large" href="index.html">Tutorials</a>
  </div>
</div>

<!-- Header -->
<header id="headerDiv" class="w3-container w3-black w3-center w3-padding-64">
  <h1 class="headerText w3-margin w3-jumbo">WALKOFF</h1>
  <h5 class="headerText w3-margin w3-xxxlarge">Tutorials</h5>
</header>

<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-twothird">
      <h1>Sending Messages in Workflows</h1>
        <p> In this tutorial, we will create a workflow which sends Walkoff messages to users.</p>
        <ul type="1" class="media-list imageList">
            <li class="media">
                <div class="media-body">
                    <h4 class="media-heading"><b>Create a Workflow which sends a text message</b></h4>
                    <p> We'll start with a simple workflow which only sends a message containing a single text
                        component to a user. This workflow contains a single action -- the "send text message" action
                        from the "Utilities" app.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/01.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/01.PNG"
                             alt="...">
                    </a>
                </div>
                <div>
                    <p> The parameters for this action are the subject of the message and the text of the message as
                        well as users and roles. If a role is selected, all users with this role will receive the
                        message.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/02.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/02.PNG"
                             alt="...">
                    </a>
                </div>
                <div>
                    <p> A user will receive a notification when they receive a message, and it will appear beside
                        their username in the upper-right.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/03.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/03.PNG"
                             alt="...">
                    </a>
                </div>
                <div>
                    <p> When clicked, it will expand to reveal a list of either the last 5 messages received or up to
                        20 unread messages.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/04.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/04.PNG"
                             alt="...">
                    </a>
                </div>
                <div>
                    <p> Clicking on the notification, we'll be able to see the contents of the message.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/05.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/05.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                    <h4 class="media-heading"><b>Create a message with multiple components</b></h4>
                    <p> Walkoff also supports attaching URL links in messages through chained construction of the
                        message. We first construct a blank message containing only a subject and no body. We then
                        pass add a text component and a URL component to the message, and then send the message.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/06.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/06.PNG"
                             alt="...">
                    </a>
                </div>
                <div>
                    <p> In order the parameters of the actions are as follows: </p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/07.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/07.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/08.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/08.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/09.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/09.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/10.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/10.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/11.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/11.PNG"
                             alt="...">
                    </a>
                </div>
                <div>
                    <p> When executed the workflow will send the following message: </p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/12.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/12.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                  <h4 class="media-heading"><b>Human in the loop execution with messages</b></h4>
                  <p> In the previous examples, we have seen that messages which can be a good alternative to Walkoff's
                      case management system. An Accept/Decline component can be combined with a trigger to pause a
                      until some specified user allows it to continue. We send a message with an accept/decline
                      component in a message. Then the next action is an "accept/decline" action. This action will
                      return true if the message is accepted and false otherwise. On that message we add a trigger to
                      cause the workflow to halt execution. This trigger doesn't need to validate any data, in fact the
                      accept/decline action handles that, so we use the "always true" condition on our trigger
                      condition. Use use the "echo boolean" and "reverse boolean" conditions on the branches to handle
                      the accept and decline paths of the workflow.<i>(Note: In future releases we intend to provide event
                      more ways of interacting with a paused workflow</i></p>
                    <p>The resulting workflow looks like this:</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/13.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/13.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/14.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/14.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/15.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/15.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/16.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/16.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/17.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/17.PNG"
                             alt="...">
                    </a>
                </div>
                <div>
                    <p> All admin users will receive a message which looks like this: </p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/18.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/18.PNG"
                             alt="...">
                    </a>
                </div>
                <div class="media-left media-middle">
                    <a href="images/workflowMessaging/19.PNG">
                        <img class="media-object image"
                             src="images/workflowMessaging/19.PNG"
                             alt="...">
                    </a>
                </div>
                <p> More message composition functions are available in the Utilities app, and you can build your own
                    messaging actions. Look at the tutorial on
                    <a href="Develop_messaging_actions.html">Developing messaging actions</a> for more information.</p>
            </li>
        </ul>
   <div class="w3-third w3-center">
      <i class="fa fa-graduation-cap w3-padding-64 w3-text-blue-grey"></i>
    </div>
  </div>
</div>
</div>

<div class="w3-container w3-black w3-center w3-opacity w3-padding-64">
    <h1 class="w3-margin w3-xlarge">Questions? Comments? </h1>
    <h1 class="w3-margin w3-xlarge"> Reach out to us at <a href="mailto:walkoff@nsa.gov"> walkoff@nsa.gov </a> </h1>
</div>

<!-- Footer -->
<footer class="w3-container w3-padding-64 w3-center w3-opacity">
 <!-- <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank"> </a></p> -->
</footer>

<script src="../../files/plugins/jQuery/jQuery-2.1.4.min.js"></script>
<script>
// Used to toggle the menu on small screens when clicking on the menu button
function myFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>
</body>
</html>
