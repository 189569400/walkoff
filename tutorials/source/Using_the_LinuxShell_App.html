<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-twothird">
      <h1>LinuxShell tutorial</h1>
        <p>A flexible solution for interacting with devices when no app is available (or needed) is to simply access the device with SSH. The LinuxShell app (available in the WALKOFF-Apps repo) uses the Paramiko library to allow users to remotely log in, execute commands, and copy files to and from the remote server. This tutorial will demonstrate the basic functionality of the Paramiko library that has been placed into actions. We will run a shell script on a remote host which creates a file, copy that file to our local storage, then copy that file to a second remote host and verify its contents.</p>
        <ul type="1" class="media-list imageList">
            <li class="media">
                <div class="media-body">
                    <h4 class="media-heading"><b>1. Create two LinuxShell devices</b></h4>
                    <p>The LinuxShell app uses WALKOFF devices to store login information, create one for each login on each device you plan on using.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/LinuxShell/device.PNG">
                        <img class="media-object image"
                             src="images/LinuxShell/device.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                  <h4 class="media-heading"><b>2. Execute script</b></h4>
                    <p>The "Run Shell Script Remotely" action takes a filepath to a local shell script and runs the commands on the remote server specified in the device field. Keep in mind that any relative local paths will originate from the WALKOFF folder in which <code>walkoff.py</code> is located. To run other types of scripts such as Python or Ruby, use SCP or SFTP to transfer the script first, then execute it with the "Execute Command" action.</p>
                    <p>Our example script lists the directory contents, then uses <code>tee</code> to output the results to both <code>stdout</code> and a file called "Remote1File.txt"</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/LinuxShell/scripts.PNG">
                        <img class="media-object image"
                             src="images/LinuxShell/scripts.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                  <h4 class="media-heading"><b>3. Create local file</b></h4>
                  <p>We'll use the Create File action from the FileUtilities app to create LocalFile.txt prior to copying the remote file to local.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/LinuxShell/create.PNG">
                        <img class="media-object image"
                             src="images/LinuxShell/create.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                  <h4 class="media-heading"><b>4. Copy file from Remote 1 to local</b></h4>
                  <p>The app is bundled with SFTP actions for copying files to and from the remote device. These actions assume that both files already exist. Keep in mind that any relative remote file paths will originate from the home folder of the remote user (or other configured folder).</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/LinuxShell/sftp.PNG">
                        <img class="media-object image"
                             src="images/LinuxShell/sftp.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                    <h4 class="media-heading"><b>5. Create file on Remote 2</b></h4>
                    <p>The most basic functionality available is in the "Execute Command" action. This action takes a list of strings, where each string is a command (including arguments), and executes them in sequence. It will return the <code>stdout</code> of each command in a list. We will use the <code>touch</code> command to create the file Remote2File.txt if it does not exist.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/LinuxShell/commands.PNG">
                        <img class="media-object image"
                             src="images/LinuxShell/commands.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                    <h4 class="media-heading"><b>6. Copy file from local to Remote 2</b></h4>
                    <p>Now we will use the SFTP Put action to copy the file from local storage to the remote server.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/LinuxShell/sftp2.PNG">
                        <img class="media-object image"
                             src="images/LinuxShell/sftp2.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                    <h4 class="media-heading"><b>7. Read file on Remote 2</b></h4>
                    <p>To verify that the file was copied correctly to Remote 2, we'll read its contents into <code>stdout</code> using the <code>cat</code> command.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/LinuxShell/commands2.PNG">
                        <img class="media-object image"
                             src="images/LinuxShell/commands2.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
            <li class="media">
                <div class="media-body">
                    <h4 class="media-heading"><b>8. Shutting down</b></h4>
                    <p>At the end of the workflow, we can ensure that the session is closed properly by using the shutdown action.</p>
                </div>
                <div class="media-left media-middle">
                    <a href="images/LinuxShell/shutdown.PNG">
                        <img class="media-object image"
                             src="images/LinuxShell/shutdown.PNG"
                             alt="...">
                    </a>
                </div>
            </li>
            <br>
        </ul>
    </div>

   <div class="w3-third w3-center">
      <i class="fa fa-graduation-cap w3-padding-64 w3-text-blue-grey"></i>
    </div>
  </div>
</div>
