var ac_main=(function(t){function e(e){for(var a,r,s=e[0],l=e[1],c=e[2],u=0,p=[];u<s.length;u++)r=s[u],o[r]&&p.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);for(d&&d(e);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={1:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window.webpackJsonpac_name_=window.webpackJsonpac_name_||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;return i.push([1071,2]),n()})({1000:function(t,e){t.exports='<div class="modal-header">\n\t<h4 class="modal-title">{{title}}</h4>\n</div>\n<div id="userModalBody" class="modal-body">\n\t<div class="container-fluid">\n\t\t<div class="row">\n\t\t\t<form #userForm="ngForm" (ngSubmit)="submit()">\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="username">\n\t\t\t\t\t\t\tUsername\n\t\t\t\t\t\t\t<i class="fa fa-asterisk required" title="This field is required."></i>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingUser.username" name="username" #username="ngModel" required>\n\t\t\t\t\t\t<div *ngIf="username.errors && (username.dirty || username.touched)" class="alert alert-danger">\n\t\t\t\t\t\t\t<div [hidden]="!username.errors.required">\n\t\t\t\t\t\t\t\tUsername is required.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="active">Active</label>\n\t\t\t\t\t\t<input type="checkbox" class="form-control" [(ngModel)]="workingUser.active" name="active">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="role_ids">\n\t\t\t\t\t\t\tRoles\n\t\t\t\t\t\t\t<i class="fa fa-asterisk required" title="At least one role is required."></i>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<select2 [data]="roleSelectData" [value]="roleSelectInitialValue" [options]="roleSelectConfig"\n\t\t\t\t\t\t(valueChanged)="roleSelectChange($event)"></select2>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group" *ngIf="workingUser.id">\n\t\t\t\t\t\t<label for="currentPassword">Current Password</label>\n\t\t\t\t\t\t<input type="password" class="form-control" [(ngModel)]="workingUser.currentPassword" #currentPassword="ngModel" name="currentPassword">\n\t\t\t\t\t\t<div *ngIf="currentPassword.errors && (currentPassword.dirty || currentPassword.touched)" class="alert alert-danger">\n\t\t\t\t\t\t\t<div [hidden]="!currentPassword.errors.required">\n\t\t\t\t\t\t\t\tThe user\'s current password is required.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="newPassword">\n\t\t\t\t\t\t\tNew Password\n\t\t\t\t\t\t\t<i *ngIf="!this.workingUser.id" class="fa fa-asterisk required" title="This field is required."></i>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="password" class="form-control" [(ngModel)]="workingUser.newPassword" #newPassword="ngModel" name="newPassword">\n\t\t\t\t\t\t<div *ngIf="((currentPassword && currentPassword.value) || !workingUser.id) && (newPassword.dirty || newPassword.touched) && !newPassword.value"\n\t\t\t\t\t\t\tclass="alert alert-danger">\n\t\t\t\t\t\t\tPassword is required.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="confirmNewPassword">\n\t\t\t\t\t\t\tConfirm New Password\n\t\t\t\t\t\t\t<i *ngIf="!this.workingUser.id" class="fa fa-asterisk required" title="This field is required."></i>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="password" class="form-control" [(ngModel)]="workingUser.confirmNewPassword" #confirmNewPassword="ngModel" name="confirmNewPassword">\n\t\t\t\t\t\t<div *ngIf="confirmNewPassword.dirty && confirmNewPassword.touched && confirmNewPassword.value && newPassword.value !== confirmNewPassword.value"\n\t\t\t\t\t\t\tclass="alert alert-danger">\n\t\t\t\t\t\t\tPasswords do not match.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div *ngIf="confirmNewPassword.dirty && confirmNewPassword.touched && !confirmNewPassword.value" class="alert alert-danger">\n\t\t\t\t\t\t\tYou must re-enter the new password to confirm.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</div>\n<div class="modal-footer">\n\t<button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Undo Changes and Close</button>\n\t<button type="button" class="btn btn-primary" [disabled]="!userForm.form.valid || !workingUser.role_ids.length" (click)="submit()">{{submitText}}</button>\n</div>'},1001:function(t,e,n){var a=n(1002);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},1002:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".settingsMain {\n\tpadding: 10px 15px;\n}\n\n.settingsMain ngx-datatable datatable-body datatable-body-row datatable-body-cell .datatable-body-cell-label {\n\twhite-space: initial;\n}\n\n#roleModalBody .resourceGroup {\n\tpadding: 5px;\n}\n\n#roleModalBody .resourceGroup.odd {\n\tbackground-color: #EEE;\n}\n\n\n#roleModalBody .resourceGroup .row {\n\tpadding-bottom: 5px;\n}\n\n#roleModalBody .required,\n#userModalBody .required {\n\tcolor: crimson;\n\tmargin-left: 5px;\n}\n\n.settingsMain input[type=checkbox].form-control,\n.settingsMain input[type=radio].form-control,\n#userModalBody input[type=checkbox].form-control,\n#userModalBody input[type=radio].form-control {\n\twidth: 34px;\n\tmargin: 0 5px;\n}",""])},1003:function(t,e){t.exports='<div id="main" class="settingsMain">\n    <ul class="nav nav-tabs" role="tablist">\n        <li class="active"><a href="#systemSettings" data-toggle="tab" role="tab">System Settings</a></li>\n        <li><a href="#userSettings" data-toggle="tab" role="tab">User Settings</a></li>\n        <li><a href="#roleSettings" data-toggle="tab" role="tab">Role Settings</a></li>\n    </ul>\n    <div class="tab-content">\n        <div id="systemSettings" class="tab-pane fade in active">\n            <h1 class="settingsHeader">System Settings</h1>\n            <form (ngSubmit)="updateConfiguration()" #systemSettingsForm="ngForm">\n                <div class="row">\n                    <div class="col-md-6">\n                        <h3>Data Configuration</h3>\n                        <div class="form-group">\n                            <label for="db_path">WALKOFF Database Path</label>\n                            <input type="text" class="form-control" [(ngModel)]="configuration.db_path" name="db_path" required>\n                        </div>\n                        <div class="form-group">\n                            <label for="walkoff_db_type">WALKOFF Database Type</label>\n                            <select class="form-control" [(ngModel)]="configuration.walkoff_db_type" name="walkoff_db_type">\n                                <option *ngFor="let i of dbTypes" [value]="i" [label]="i">{{i}}</option>\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label for="case_db_path">Case Database Path</label>\n                            <input type="text" class="form-control" [(ngModel)]="configuration.case_db_path" name="case_db_path" required>\n                        </div>\n                        <div class="form-group">\n                            <label for="case_db_type">Case Database Type</label>\n                            <select class="form-control" [(ngModel)]="configuration.case_db_type" name="case_db_type">\n                                <option *ngFor="let i of dbTypes" [value]="i" [label]="i">{{i}}</option>\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label for="clear_case_db_on_startup">Clear Case Database on Startup</label>\n                            <input type="checkbox" class="form-control" [(ngModel)]="configuration.clear_case_db_on_startup" name="clear_case_db_on_startup"\n                                required>\n                        </div>\n                    </div>\n\n                    <div class="col-md-6">\n                        <h3>Interface Configuration</h3>\n                        <div class="form-group">\n                            <label for="host">Host Address</label>\n                            <input type="text" class="form-control" [(ngModel)]="configuration.host" name="host" required>\n                        </div>\n                        <div class="form-group">\n                            <label for="port">Port</label>\n                            <input type="number" min="1" max="65535" class="form-control" [(ngModel)]="configuration.port" name="port" required>\n                        </div>\n                        <div class="form-group">\n                            <label for="zmq_results_address">ZMQ Results Address</label>\n                            <input type="text" class="form-control" [(ngModel)]="configuration.zmq_results_address" name="zmq_results_address" required>\n                        </div>\n                        <div class="form-group">\n                            <label for="zmq_results_address">ZMQ Communication Address</label>\n                            <input type="text" class="form-control" [(ngModel)]="configuration.zmq_communication_address" name="zmq_communication_address" required>\n                        </div>\n                    </div>\n                    \n                </div>\n\n                <div class="row">\n                    <div class="col-md-6">\n                        <h3>Cache Configuration</h3>\n                        <div class="form-group">\n                            <label for="cache_type">Cache Type</label>\n                            <select class="form-control" [(ngModel)]="configuration.cache.type" name="cache_type">\n                                <option *ngFor="let i of cacheTypes" [value]="i" [label]="i">{{i}}</option>\n                            </select>\n                        </div>\n                        <div class="form-group" *ngIf="configuration.cache.type == \'disk\'" >\n                            <label for="cache_directory">Directory</label>\n                            <input type="text" class="form-control" [(ngModel)]="configuration.cache.directory" name="cache_directory" required>\n                        </div>\n                        <div class="form-group" *ngIf="configuration.cache.type == \'disk\'">\n                            <label for="cache_shards">Shards</label>\n                            <input type="number" min="1" class="form-control" [(ngModel)]="configuration.cache.shards" name="cache_shards" required>\n                        </div>\n                        <div class="form-group" *ngIf="configuration.cache.type == \'redis\'">\n                            <label for="cache_host">Host</label>\n                            <input type="text" class="form-control" [(ngModel)]="configuration.cache.host" name="cache_host" required>\n                        </div>\n                        <div class="form-group" *ngIf="configuration.cache.type == \'redis\'">\n                            <label for="cache_port">Port</label>\n                            <input type="number" min="1" max="65535" class="form-control" [(ngModel)]="configuration.cache.port" name="cache_port" required>\n                        </div>\n                        <div class="form-group" *ngIf="configuration.cache.type == \'redis\'">\n                            <label for="cache_unix_socket_path">Unix Socket Path</label>\n                            <input type="text" class="form-control" [(ngModel)]="configuration.cache.unix_socket_path" name="cache_unix_socket_path" required>\n                        </div>\n                        <div class="form-group">\n                            <label for="cache_timeout">Timeout</label>\n                            <input type="number" min="0.0" class="form-control" [(ngModel)]="configuration.cache.timeout" name="cache_timeout" required>\n                        </div>\n                        <div class="form-group">\n                            <label for="cache_retry">Retry Timed Out Connections</label>\n                            <input type="checkbox" class="form-control" [(ngModel)]="configuration.cache.retry" name="cache_retry" required>\n                        </div>\n                    </div>\n\n                    <div class="col-md-6">\n                        <h3>Other Configuration</h3>\n                        \x3c!-- <div class="form-group">\n                            <label for="name">Use HTTPS</label>\n                            <input type="checkbox" class="form-control" [(ngModel)]="configuration.https" name="https" required>\n                        </div> --\x3e\n                        \x3c!-- <div class="form-group">\n                            <label for="name">TLS Version (if enabled)</label>\n                            <select class="form-control" [(ngModel)]="configuration.tls_version" name="tls_version">\n                                <option *ngFor="let i of tlsVersions" [value]="i" [label]="i">{{i}}</option>\n                            </select>\n                        </div> --\x3e\n                        <div class="form-group">\n                            <label for="access_token_duration">JWT Access Token Duration (in minutes)</label>\n                            <input type="number" min="1" class="form-control" [(ngModel)]="configuration.access_token_duration" name="access_token_duration"\n                                required>\n                        </div>\n                        <div class="form-group">\n                            <label for="refresh_token_duration">JWT Refresh Token Duration (in days)</label>\n                            <input type="number" min="1" class="form-control" [(ngModel)]="configuration.refresh_token_duration" name="refresh_token_duration"\n                                required>\n                        </div>\n                        <div class="form-group">\n                            <label for="number_processes">Number of Processes</label>\n                            <input type="number" min="1" max="100" class="form-control" [(ngModel)]="configuration.number_processes" name="number_processes" required>\n                        </div>\n                        <div class="form-group">\n                            <label for="number_threads_per_process">Number of Threads per Process</label>\n                            <input type="number" min="1" max="100" class="form-control" [(ngModel)]="configuration.number_threads_per_process" name="number_threads_per_process" required>\n                        </div>\n                    </div>\n                </div>\n            </form>\n            <div>\n                <button (click)="updateConfiguration()" id="formSubmit" class="btn btn-primary">Submit Changes</button>\n                <button (click)="resetConfiguration()" id="resetConfiguration" class="btn btn-danger">Reset to Defaults</button>\n            </div>\n        </div>\n\n        <div id="userSettings" class="tab-pane fade">\n            <h1 class="settingsHeader">User Settings</h1>\n\n            <div class="row">\n                <div class="col-xs-6">\n                    <button (click)="addUser()" class="btn btn-primary"><i class="fa fa-plus"></i>Add User</button>\n                </div>\n                <div class="col-xs-6">\n                    <div class="form-group row">\n                        <label class="col-xs-2 col-form-label">Search Filter</label>\n                        <div class="col-xs-10">\n                            <input class="form-control" [formControl]="filterQuery" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <ngx-datatable #userTable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="displayUsers"\n             [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [sortType]="\'multi\'" [sorts]="[{prop: \'username\', dir: \'asc\'}]" [limit]="10">\n                \x3c!-- Column Templates --\x3e\n                <ngx-datatable-column name="Username" prop="username" [flexGrow]="3"></ngx-datatable-column>\n                <ngx-datatable-column name="Roles" [sortable]="false" [flexGrow]="3">\n                    <ng-template let-row="row" ngx-datatable-cell-template>\n                        {{getFriendlyRoles(row.roles)}}\n                    </ng-template>\n                </ngx-datatable-column>\n                <ngx-datatable-column name="Active" prop="active" [flexGrow]="1">\n                    <ng-template let-row="row" ngx-datatable-cell-template>\n                        {{getFriendlyBool(row.active)}}\n                    </ng-template>\n                </ngx-datatable-column>\n                <ngx-datatable-column name="Actions" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="2">\n                    <ng-template let-row="row" ngx-datatable-cell-template>\n                        <button (click)="editUser(row)" class="btn btn-primary" title="Edit User">\n                            <i class="fa fa-edit"></i>\n                        </button>\n                        <button (click)="deleteUser(row)" class="btn btn-danger" title="Delete User">\n                            <i class="fa fa-times"></i>\n                        </button>\n                    </ng-template>\n                </ngx-datatable-column>\n            </ngx-datatable>\n        </div>\n\n        <div id="roleSettings" class="tab-pane fade">\n            <settings-roles-component></settings-roles-component>\n        </div>\n    </div>\n</div>'},1004:function(t,e){t.exports='<div id="main" class="interfacesMain" #interfacesMain>\n\t\x3c!-- interface iframe goes here --\x3e\n</div>'},1005:function(t,e,n){var a=n(1006);t.exports="string"==typeof a?a:a.toString()},1006:function(t,e,n){var a=n(1007);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},1007:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"#main.interfacesMain {\n\tposition: absolute;\n\ttop: 50px;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n}\n\n#main.interfacesMain iframe {\n\tposition: absolute;\n\tborder: none;\n\ttop:0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}",""])},1008:function(t,e){t.exports='<div class="modal-header">\n    <h4 class="modal-title">Edit Environment Variables</h4>\n</div>\n<div class="modal-body">\n    <div class="container-fluid">\n        <div class="row">\n            <form #variableForm="ngForm" (ngSubmit)="execute(variableForm)">\n                <div *ngFor="let v of workflow.referenced_variables" class="col-xs-12">\n                    <div class="form-group">\n                        <label [for]="v.id">{{ v.name }}</label>\n                        <input [name]="v.id" [id]="v.id" type="text" class="form-control" [placeholder]="v.value" ngModel>\n                        <p *ngIf="v.description" class="help-block"><i>{{ v.description }}</i></p>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<div class="modal-footer">\n    <button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Close</button>\n    <button type="button" class="btn btn-primary" (click)="execute(variableForm)">Execute Workflow</button>\n</div>'},1009:function(t,e){t.exports='<div id="main" class="executionMain">\n\t<h1>Execution Control</h1>\n\n\t<div class="row">\n\t\t<div class="col-xs-4">\n\t\t\t<select2 [data]="availableWorkflows" [options]="workflowSelectConfig" (valueChanged)="workflowSelectChange($event)"></select2>\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<button [disabled]="!selectedWorkflow" (click)="executeSelectedWorkflow()" title="Execute Workflow" class="btn btn-secondary">\n\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\tExecute Workflow\n\t\t\t</button>\n\t\t\t<button *ngIf="selectedWorkflow && selectedWorkflow.referenced_variables.length > 0" (click)="openVariableModal()" title="Edit Environment Variables" class="btn btn-secondary">\n\t\t\t\t<i class="fa fa-cog"></i>\n\t\t\t\tEdit Environment Variables\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<div class="form-group row">\n\t\t\t\t<label class="col-xs-2 col-form-label">Search Filter</label>\n\t\t\t\t<div class="col-xs-10">\n\t\t\t\t\t<input class="form-control" [formControl]="filterQuery" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<ngx-datatable #workflowStatusTable class=\'material expandable workflowStatusTable\' [columnMode]="\'flex\'" [rows]="displayWorkflowStatuses"\n\t [sorts]="[{prop: \'started_at\', dir: \'desc\'}]" [sortType]="\'multi\'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [limit]="25">\n\t\t\x3c!-- Column Templates --\x3e\n\t\t<ngx-datatable-column name="Name" prop="name" [flexGrow]="1">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t<a href="#" (click)="openActionStatusModal($event, row)">{{row.name}}</a>\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Started At" prop="started_at" [flexGrow]="1">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t<span [title]="row.localized_started_at">\n\t\t\t\t\t{{workflowStatusStartedRelativeTimes[row.execution_id]}}\n\t\t\t\t</span>\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Completed At" prop="completed_at" [flexGrow]="1">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t<span [title]="row.localized_completed_at">\n\t\t\t\t\t{{workflowStatusCompletedRelativeTimes[row.execution_id]}}\n\t\t\t\t</span>\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Status" prop="status" [flexGrow]="1"></ngx-datatable-column>\n\t\t<ngx-datatable-column name="Current App" prop="current_action" [comparator]="appNameComparator" [flexGrow]="1">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t{{getAppName(row.current_action)}}\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Current Action" prop="current_action" [comparator]="actionNameComparator" [flexGrow]="1">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t{{getActionName(row.current_action)}}\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Actions" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="2">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t<button *ngIf="row.status === \'paused\'" (click)="performWorkflowStatusAction(row, workflowStatusActions.resume)" title="Start Scheduled Task"\n\t\t\t\t class="btn btn-primary">\n\t\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\t</button>\n\t\t\t\t<button *ngIf="row.status === \'running\'" (click)="performWorkflowStatusAction(row, workflowStatusActions.pause)" title="Pause Scheduled Task"\n\t\t\t\t class="btn btn-warning">\n\t\t\t\t\t<i class="fa fa-pause"></i>\n\t\t\t\t</button>\n\t\t\t\t<button *ngIf="!(row.status === \'completed\' || row.status === \'aborted\')" (click)="performWorkflowStatusAction(row, workflowStatusActions.abort)"\n\t\t\t\t title="Abort Scheduled Task" class="btn btn-danger">\n\t\t\t\t\t<i class="fa fa-stop"></i>\n\t\t\t\t</button>\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t</ngx-datatable>\n\n\t<div class="modal fade actionStatusModal" role="dialog" aria-labelledby="actionStatusModalTitle" aria-hidden="true">\n\t\t<div class="modal-dialog" role="document">\n\t\t\t<div *ngIf="loadedWorkflowStatus" class="modal-content">\n\t\t\t\t<div class="modal-header">\n\t\t\t\t\t<h5 class="modal-title" id="actionStatusModalTitle">Action Statuses for {{loadedWorkflowStatus.name}}</h5>\n\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-body" #actionStatusContainer>\n\t\t\t\t\t<ngx-datatable #actionStatusTable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="loadedWorkflowStatus.action_statuses"\n\t\t\t\t\t [sortType]="\'multi\'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [sorts]="[{prop: \'started_at\', dir: \'desc\'}]"\n\t\t\t\t\t [limit]="10">\n\t\t\t\t\t\t\x3c!-- Column Templates --\x3e\n\t\t\t\t\t\t<ngx-datatable-column name="Action ID" prop="action_id" [flexGrow]="1"></ngx-datatable-column>\n\t\t\t\t\t\t<ngx-datatable-column name="App Name" prop="app_name" [flexGrow]="1"></ngx-datatable-column>\n\t\t\t\t\t\t<ngx-datatable-column name="Action Name" prop="action_name" [flexGrow]="1"></ngx-datatable-column>\n\t\t\t\t\t\t<ngx-datatable-column name="Started At" prop="started_at" [flexGrow]="1">\n\t\t\t\t\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t\t\t\t\t<span [title]="row.localized_started_at">\n\t\t\t\t\t\t\t\t\t{{actionStatusStartedRelativeTimes[row.execution_id]}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t\t</ngx-datatable-column>\n\t\t\t\t\t\t<ngx-datatable-column name="Completed At" prop="completed_at" [flexGrow]="1">\n\t\t\t\t\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t\t\t\t\t<span [title]="row.localized_completed_at">\n\t\t\t\t\t\t\t\t\t{{actionStatusCompletedRelativeTimes[row.execution_id]}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t\t</ngx-datatable-column>\n\t\t\t\t\t\t<ngx-datatable-column name="Status" prop="status" [flexGrow]="1"></ngx-datatable-column>\n\t\t\t\t\t\t<ngx-datatable-column name="Arguments" [sortable]="false" [flexGrow]="2">\n\t\t\t\t\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t\t\t\t\t{{getFriendlyArguments(row.arguments)}}\n\t\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t\t</ngx-datatable-column>\n\t\t\t\t\t\t<ngx-datatable-column name="Result" [sortable]="false" [flexGrow]="4">\n\t\t\t\t\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t\t\t\t\t{{getFriendlyJSON(row.result)}}\n\t\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t\t</ngx-datatable-column>\n\t\t\t\t\t</ngx-datatable>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},101:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(129),o=(function(){function t(){this.fields=[]}return t.prototype.toWorkingDevice=function(){var t=new a.a;return t.id=this.id,t.name=this.name,t.description=this.description,t.app_name=this.app_name,t.type=this.type,t.fields={},this.fields.forEach((function(e){t.fields[e.name]=void 0!==e.value?e.value:null})),t},t})()},1010:function(t,e,n){var a=n(1011);t.exports="string"==typeof a?a:a.toString()},1011:function(t,e,n){var a=n(1012);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},1012:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".executionMain {\n\tpadding: 10px 15px;\n}\n\n.executionMain ngx-datatable datatable-body datatable-body-row datatable-body-cell .datatable-body-cell-label {\n\twhite-space: initial;\n}\n\n.actionStatusModal > .modal-dialog {\n\twidth: 95%;\n}",""])},1013:function(t,e){t.exports='<div class="wrapper">\n\n  \x3c!-- Main Header --\x3e\n  <header>\n    <nav id="walkoffNav" class="navbar navbar-default navbar-custom">\n      <div class="container-fluid">\n        \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n        <div class="navbar-header">\n          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"\n            aria-expanded="false">\n            <span class="sr-only">Toggle navigation</span>\n            <span class="icon-bar"></span>\n            <span class="icon-bar"></span>\n            <span class="icon-bar"></span>\n            </button>\n            <a class="navbar-brand" href="#"><b>WALK</b>OFF</a>\n        </div>\n\n        \x3c!-- Collect the nav links, forms, and other content for toggling --\x3e\n        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n          <ul class="nav navbar-nav">\n            <li class="dropdown">\n              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">\n                Interfaces\n                <span class="caret"></span>\n              </a>\n              <ul class="dropdown-menu">\n                <li *ngFor="let interfaceName of interfaceNames">\n                  <a class="installedInterface" routerLink="/interfaces/{{interfaceName}}"><i class="fa fa-gear"></i><span>{{interfaceName}}</span></a>\n                </li>\n                <li *ngIf="!interfaceNames || !interfaceNames.length">\n                  <span class="dropdown-item">No custom WALKOFF interfaces are installed.</span>\n                </li>\n              </ul>\n            </li>\n            <li>\n              <a routerLink="/playbook" routerLinkActive="active"><i class="fa fa-sitemap"></i><span class="navLink">Playbook</span></a>\n            </li>\n            <li>\n              <a routerLink="/execution" routerLinkActive="active"><i class="fa fa-flag-checkered"></i><span class="navLink">Execution</span></a>\n            </li>\n            <li>\n              <a routerLink="/scheduler" routerLinkActive="active"><i class="fa fa-calendar"></i><span class="navLink">Scheduler</span></a>\n            </li>\n            <li>\n              <a routerLink="/devices" routerLinkActive="active"><i class="fa fa-desktop"></i><span class="navLink">Devices</span></a>\n            </li>\n            <li>\n              <a routerLink="/messages" routerLinkActive="active"><i class="fa fa-envelope-o"></i><span class="navLink">Messages</span></a>\n            </li>\n            <li>\n              <a routerLink="/cases" routerLinkActive="active"><i class="fa fa-list-alt"></i><span class="navLink">Cases</span></a>\n            </li>\n            <li>\n              <a routerLink="/metrics" routerLinkActive="active"><i class="fa fa-pie-chart"></i><span class="navLink">Metrics</span></a>\n            </li>\n            <li>\n              <a routerLink="/settings" routerLinkActive="active"><i class="fa fa-wrench"></i><span class="navLink">Settings</span></a>\n            </li>\n          </ul>\n\n          \x3c!-- Navbar Right Menu --\x3e\n          <div class="navbar-custom-menu">\n            <ul class="nav navbar-nav navbar-right">\n              <li class="dropdown messages messages-menu">\n                <a href="#" class="dropdown-toggle" [class.newMessages]="newMessagesCount" data-toggle="dropdown" (click)="recalculateRelativeTimes()">\n                  <i class="fa" [ngClass]="{ \'fa-envelope\': newMessagesCount, \'fa-envelope-open-o\': !newMessagesCount }"></i>\n                  <span>{{newMessagesCount}}</span>\n                </a>\n                <div class="dropdown-menu">\n                  <span *ngIf="!messageListings.length" class="noMessages">You have no messages.</span>\n                  <table class="messageTable">\n                    <tr *ngFor="let messageListing of messageListings" [class.oldMessage]="messageListing.is_read">\n                      <td>\n                          <i *ngIf="messageListing.awaiting_response" class="fa fa-exclamation required" title="This message is awaiting response."></i>\n                      </td>\n                      <td>\n                          <a class="dropdown-item" href="#" (click)="openMessage($event, messageListing)">{{utils.getTruncatedString(messageListing.subject, 25, \'(no subject)\')}}</a>    \n                      </td>\n                      <td [title]="utils.getLocalTime(messageListing.created_at)">{{notificationRelativeTimes[messageListing.id]}}</td>\n                    </tr>\n                  </table>\n                </div>\n              </li>\n              \x3c!-- User Account Menu --\x3e\n              <li class="dropdown user user-menu">\n                \x3c!-- Menu Toggle Button --\x3e\n                <a href="#" class="dropdown-toggle" data-toggle="dropdown">\n                  \x3c!-- The user image in the navbar--\x3e\n                  <img src="client/assets/img/genericUser.png" class="user-image" alt="User Image">\n                  \x3c!-- hidden-xs hides the username on small devices so only the image appears. --\x3e\n                  <span class="userName">{{currentUser}}</span>\n                </a>\n                <ul class="dropdown-menu">\n                  \x3c!-- The user image in the menu --\x3e\n                  <li class="user-header">\n                    <img src="client/assets/img/genericUser.png" class="rounded-circle" alt="User Image">\n\n                    <p>\n                      {{currentUser}}\n                    </p>\n                  </li>\n                  \x3c!-- Menu Body --\x3e\n                  <li class="user-body">\n                    <div class="row">\n\n                    </div>\n                    \x3c!-- /.row --\x3e\n                  </li>\n                  \x3c!-- Menu Footer--\x3e\n                  <li class="user-footer">\n\n                    <div class="pull-right">\n                      <button (click)="logout()" class="btn btn-default btn-primary">Sign out</button>\n                    </div>\n                  </li>\n                </ul>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </nav>\n  </header>\n\n  <div>\n    <section>\n      <div>\n        <router-outlet></router-outlet>\n        \x3c!--Modal container for ng-bootstrap, should remove if upgrading to bootstrap 4 / ng-bootstrap 1.0.0-alpha.18+--\x3e\n        <template ngbModalContainer></template>\n        \x3c!--Container for ng2-toasty toast messages--\x3e\n        <ng2-toasty></ng2-toasty>\n      </div>\n    </section>\n    <div></div>\n  </div>\n\n  \x3c!--<footer class="footer">\n    <strong>WALKOFF</strong>\n  </footer>--\x3e\n</div>'},1014:function(t,e,n){var a=n(1015);t.exports="string"==typeof a?a:a.toString()},1015:function(t,e,n){var a=n(1016);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},1016:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"/* @import '~@swimlane/ngx-datatable/release/index.css';\n@import '~@swimlane/ngx-datatable/release/themes/material.css';\n@import '~@swimlane/ngx-datatable/release/assets/icons.css';\n@import '~bootstrap/dist/css/bootstrap.min.css';\n@import '~font-awesome/css/font-awesome.min.css';\n@import '~ng2-toasty/style-bootstrap.css';\n@import '~select2/dist/css/select2.min.css'; */\n\n/* h1 {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, sans-serif;\n  font-weight: bold;\n  font-size: 30px;\n  color: #255876;\n}\n\nh3 {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, sans-serif;\n  font-weight: bold;\n} */\n\n.contentContainer {\n    position: relative;\n    padding-bottom: 56.25%; /* 16:9 */\n    padding-top: 25px;\n    height: 0;\n}\n\n/* .contentContainer iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n} */\n\n#walkoffNav {\n  background-color: #3c8dbc;\n}\n\n#walkoffNav a {\n  color: #f6f6f6;\n}\n\n#walkoffNav a .navLink {\n  margin-left: 5px;\n}\n\n#walkoffNav .dropdown-item {\n  color: #333333;\n}\n\n#walkoffNav {\n  margin-bottom: 0;\n  border: none;\n  border-radius: 0;\n}\n\n#walkoffNav .navbar-nav > .user-menu .user-image {\n  float: left;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  margin-right: 10px;\n  margin-top: -2px;\n}\n\n@media (max-width: 767px) {\n  #walkoffNav .navbar-nav > .user-menu .user-image {\n    float: none;\n    margin-right: 0;\n    margin-top: -8px;\n    line-height: 10px;\n  }\n}\n\n#walkoffNav .navbar-nav .dropdown .dropdown-menu {\n  background-color: #3c8dbc;\n}\n\n#walkoffNav .navbar-nav .dropdown .dropdown-menu .installedInterface {\n  color: white;\n}\n\n#walkoffNav .navbar-nav .dropdown .dropdown-menu .installedInterface:hover {\n  color: #3c8dbc;\n}\n\n#walkoffNav .navbar-nav .dropdown .dropdown-menu .installedInterface span {\n  margin-left: 5px;\n}\n\n#walkoffNav .navbar-nav>.open>a {\n  color: #3c8dbc;\n}\n\n#walkoffNav .navbar-nav .newMessages {\n  color: orange;\n  font-weight: bold;\n}\n\n#walkoffNav .navbar-nav .required {\n  color: crimson;\n}\n\n#walkoffNav .navbar-nav .messages-menu table,\n#walkoffNav .navbar-nav .messages-menu table a {\n  width: 320px;\n  color: white;\n  margin: 5px;\n}\n\n#walkoffNav .navbar-nav .messages-menu table .oldMessage,\n#walkoffNav .navbar-nav .messages-menu table .oldMessage a {\n  color: #DDD;\n  font-style: italic;\n}\n\n#walkoffNav .navbar-nav .messages-menu .noMessages {\n  color: #DDD;\n  font-style: italic;\n  margin-left: 10px;\n}\n\n#walkoffNav .navbar-nav .messages-menu table tr {\n  border-bottom: 1px solid #AAA;\n}\n\n#walkoffNav .navbar-nav .messages-menu table tr:last-child {\n  border-bottom: none;\n}\n\n.footer {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 51px;\n  background-color: #e7e7e7;\n  padding: 15px;\n}\n",""])},1017:function(t,e){t.exports='<div class="modal-header">\n\t<h4 class="modal-title">{{title}}</h4>\n</div>\n<div id="roleModalBody" class="modal-body">\n\t<div class="container-fluid">\n\t\t<form #roleForm="ngForm">\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">\n\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t<i class="fa fa-asterisk required" title="This field is required."></i>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingRole.name" name="name" #name="ngModel" required>\n\t\t\t\t\t\t<div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger">\n\t\t\t\t\t\t\t<div [hidden]="!name.errors.required">\n\t\t\t\t\t\t\t\tName is required.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="description">Description</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingRole.description" name="ip" tabindex="2">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<label>Resource</label>\n\t\t\t\t\t<select class="form-control" [(ngModel)]="selectedAvailableResourceActionName" name="selectedAvailableResourceActionName">\n\t\t\t\t\t\t<option *ngFor="let i of resourceNames" [value]="i" [label]="i">{{i}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<button class="btn btn-primary pull-right" (click)="addResource()" [disabled]="!selectedAvailableResourceActionName">\n\t\t\t\t\t\t\t<i class="fa fa-plus"></i>Add Resource\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="resourceGroup form-group {{id % 2 ? \'odd\' : \'even\'}}" *ngFor="let resource of workingRole.resources; let id = index">\n\t\t\t\t<div class="row">\n\t\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t\t<label>Resource {{id+1}}: {{resource.name}}{{resource.app_name ? \' (\' + resource.app_name + \')\' : \'\'}}</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t\t<div class="pull-right">\n\t\t\t\t\t\t\t<button class="btn btn-danger" (click)="removeResource(resource)" title="Remove Resource"><i class="fa fa-close"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<select2 [data]="selectPermissionMapping[resource.resource_id]" [value]="resource.permissions" [options]="permissionSelectConfig"\n\t\t\t\t (valueChanged)="permissionSelectChange($event, resource)"></select2>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>\n<div class="modal-footer">\n\t<button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Undo Changes and Close</button>\n\t<button type="button" class="btn btn-primary" [disabled]="!roleForm.form.valid" (click)="submit()">{{submitText}}</button>\n</div>'},1018:function(t,e){t.exports='<div class="form-group argument {{id % 2 ? \'odd\' : \'even\'}}">\n\t\x3c!-- Label for argument with optional required icon --\x3e\n\t<label *ngIf="!isDeviceArgument" for="{{argument.name}}">\n\t\tArgument {{id+1}}: {{argument.name}} ({{parameterSchema.type}})\n\t\t<i *ngIf="parameterApi.description != null" class="fa fa-info-circle" [title]="parameterApi.description"></i>\n\t\t<i *ngIf="parameterApi.required" class="fa fa-asterisk required" title="This field is required."></i>\n\t</label>\n\n\t\x3c!-- Columns for allowing users to specify outputs of other action as arguments for this one --\x3e\n\t<div class="row">\n\t\t<div class="col-xs-4">\n\t\t\t<select name="playbookSelect" class="form-control" [(ngModel)]="valueType">\n\t\t\t\t<option *ngFor="let i of valueTypes" [ngValue]="i.id" [label]="i.name">{{i.name}}</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="col-xs-8">\n\t\t\t\x3c!-- Normal string text entries --\x3e\n\t\t\t<input *ngIf="isStringSelect" class="form-control" name="{{argument.name}}" [(ngModel)]="argument.value" (change)="clearReference()"\n\t\t\t\ttype="text" [attr.minlength]="parameterSchema.minLength > 0 ? parameterSchema.minLength : null" [attr.maxlength]="parameterSchema.maxLength > 0 ? parameterSchema.maxLength : null"\n\t\t\t\t[attr.pattern]="parameterSchema.pattern ? parameterSchema.pattern : null" [attr.required]="parameterApi.required" [attr.placeholder]="parameterApi.placeholder">\n\n\t\t\t\x3c!-- Enum types, make a select box --\x3e\n\t\t\t<select *ngIf="isEnumSelect" class="form-control" name="{{argument.name}}" [(ngModel)]="argument.value"  (change)="clearReference()" [attr.required]="parameterApi.required">\n\t\t\t\t<option *ngIf="!parameterApi.required" value=""></option>\n\t\t\t\t<option *ngFor="let i of parameterSchema.enum" [value]="i" [label]="i">{{i}}</option>\n\t\t\t</select>\n\n\t\t\t\x3c!-- For numbers enter number info --\x3e\n\t\t\t<input *ngIf="isNumberSelect" class="form-control" name="{{argument.name}}" [(ngModel)]="argument.value" \n\t\t\t\t(change)="clearReference()" type="number" [attr.min]="getMin(parameterSchema)" [attr.max]="getMax(parameterSchema)"\n\t\t\t\t[attr.step]="parameterSchema.multipleOf > 0 ? parameterSchema.multipleOf : null" [attr.required]="parameterApi.required"\n\t\t\t\t[attr.placeholder]="parameterApi.placeholder">\n\n\t\t\t\x3c!-- Checkbox for boolean values --\x3e\n\t\t\t<input *ngIf="isBooleanSelect" type="checkbox" class="form-control" name="{{argument.name}}" [(ngModel)]="argument.value" (change)="clearReference()">\n\n\t\t\t\x3c!-- User select --\x3e\n\t\t\t<select2 *ngIf="isStatic && isUserSelect" [data]="selectData" [value]="selectInitialValue" [options]="selectConfig"\n\t\t\t\t(valueChanged)="selectChange($event)"></select2>\n\n\t\t\t\x3c!-- Role select --\x3e\n\t\t\t<select2 *ngIf="isStatic && isRoleSelect" [data]="selectData" [value]="selectInitialValue" [options]="selectConfig"\n\t\t\t\t(valueChanged)="selectChange($event)"></select2>\n\n\t\t\t\x3c!-- Device select --\x3e\n\t\t\t<select *ngIf="isDeviceSelect" class="form-control" name="device_id" [(ngModel)]="argument.value" (change)="clearReference()">\n\t\t\t\t<option [ngValue]="\'\'"></option>\n\t\t\t\t<option *ngFor="let i of devices" [ngValue]="i.id" [label]="i.name">{{i.name}}</option>\n\t\t\t</select>\n\n\t\t\t\x3c!-- Branch Counter select --\x3e\n\t\t\t<select *ngIf="isBranchCounterSelect" class="form-control" [(ngModel)]="argument.reference">\n\t\t\t\t<option [ngValue]="0"></option>\n\t\t\t\t<option *ngFor="let i of branchCounters" [ngValue]="i.id" [label]="i.text">{{i.text}}</option>\n\t\t\t</select>\n\t\t\t\n\t\t\t\x3c!-- Action select --\x3e\n\t\t\t<ng-container *ngIf="isActionSelect">\n\t\t\t\t<select class="form-control" [(ngModel)]="argument.reference">\n                \t<option [ngValue]="\'\'"></option>\n                \t<option *ngFor="let i of getPreviousActions()" [ngValue]="i.id" [label]="i.name">{{i.name}}</option>\n\t\t\t\t</select>\n\t\t\t\t<input type="text" class="form-control" [(ngModel)]="argument.selection" name="selection" placeholder="(Optional) Selection for object-based outputs">\n\t\t\t</ng-container>\n\n\t\t\t\x3c!-- Action select --\x3e\n\t\t\t<ng-container *ngIf="isVariableSelect">\n\t\t\t\t<div class="row">\n\t\t\t\t\t<div class="col-xs-8" *ngIf="loadedWorkflow?.environment_variables.length > 0">\n\t\t\t\t\t\t<select class="form-control" [(ngModel)]="argument.reference">\n\t\t\t\t\t\t\t<option [ngValue]="\'\'"></option>\n\t\t\t\t\t\t\t<option *ngFor="let i of loadedWorkflow.environment_variables" [ngValue]="i.id" [label]="i.name">{{ i.name }}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button (click)="addVariable()" class="btn btn-primary btn-link">+ {{ (loadedWorkflow?.environment_variables.length > 0) ? \'Add New\' : \'Add Environment Variable\' }}</button>\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\n\t\t</div>\n\t</div>\n</div>\n<div *ngIf="!isDeviceArgument && isStatic && isNormalArray(parameterSchema)" class="indent">\n\t<div class="row">\n\t\t<div class="col-xs-6">\n\t\t\t<select class="form-control" [(ngModel)]="selectedType" name="selectedType">\n\t\t\t\t\t<option *ngFor="let i of availableTypes" [value]="i" [label]="i">{{i}}</option>\n\t\t\t\t</select>\n\t\t</div>\n\t\t<div class="col-xs-6">\n\t\t\t<div class="form-group">\n\t\t\t\t<button class="btn btn-primary pull-right" (click)="addItem()" [disabled]="!selectedType">\n\t\t\t\t\t<i class="fa fa-plus"></i>Add Item\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="form-group argument arrayItem {{itemId % 2 ? \'odd\' : \'even\'}}" *ngFor="let item of argument.value; let itemId = index; trackBy:trackArraysBy">\n\t\t<div class="row propertyHeader">\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<label>Item {{itemId+1}}:</label>\n\t\t\t</div>\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<div class="pull-right">\n\t\t\t\t\t<button *ngIf="itemId > 0" class="btn btn-primary" (click)="moveUp(itemId)" title="Move Up"><i class="fa fa-arrow-up"></i></button>\n\t\t\t\t\t<button *ngIf="itemId < argument.value.length - 1" class="btn btn-primary" (click)="moveDown(itemId)" title="Move Down"><i class="fa fa-arrow-down"></i></button>\n\t\t\t\t\t<button class="btn btn-danger" (click)="removeItem(itemId)" title="Remove Item"><i class="fa fa-close"></i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<input *ngIf="arrayTypes[itemId] === \'string\'" type="text" class="form-control" [(ngModel)]="argument.value[itemId]">\n\t\t<input *ngIf="arrayTypes[itemId] === \'number\'" type="number" class="form-control" [(ngModel)]="argument.value[itemId]">\n\t\t<input *ngIf="arrayTypes[itemId] === \'boolean\'" type="checkbox" class="form-control" [(ngModel)]="argument.value[itemId]">\n\t</div>\n</div>\n<div *ngIf="!isDeviceArgument && isStatic && parameterSchema.type === \'object\'" class="indent">\n\t<div class="row">\n\t\t<div class="col-xs-6">\n\t\t\t<input type="text" class="form-control" [(ngModel)]="propertyName" placeholder="Enter a parameter name">\n\t\t</div>\n\t\t<div class="col-xs-3">\n\t\t\t<select class="form-control" [(ngModel)]="selectedType" name="selectedType">\n\t\t\t\t<option *ngFor="let i of availableTypes" [value]="i" [label]="i">{{i}}</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="col-xs-3">\n\t\t\t<div class="form-group">\n\t\t\t\t<button class="btn btn-primary pull-right" (click)="addProperty()" [disabled]="!propertyName.trim() || !selectedType">\n\t\t\t\t\t<i class="fa fa-plus"></i>Add Property\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="form-group argument {{itemId % 2 ? \'odd\' : \'even\'}}" *ngFor="let key of argument.value | keys; let itemId = index">\n\t\t<div class="row propertyHeader">\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<label>Property "{{key}}":</label>\n\t\t\t</div>\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<div class="pull-right">\n\t\t\t\t\t<button class="btn btn-danger" (click)="removeProperty(key)" title="Remove Item"><i class="fa fa-close"></i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<input *ngIf="objectTypes[key] === \'string\'" type="text" class="form-control" [(ngModel)]="argument.value[key]">\n\t\t<input *ngIf="objectTypes[key] === \'number\'" type="number" class="form-control" [(ngModel)]="argument.value[key]">\n\t\t<input *ngIf="objectTypes[key] === \'boolean\'" type="checkbox" class="form-control" [(ngModel)]="argument.value[key]">\n\t</div>\n</div>'},1019:function(t,e){t.exports='<div *ngIf="appNamesWithConditions.length">\n\t<div class="row addBar">\n\t\t<div class="col-xs-4">\n\t\t\t<label>App</label>\n\t\t\t<select class="form-control" [(ngModel)]="selectedAppName" (change)="resetConditionSelection($event.target.value)">\n\t\t\t\t<option *ngFor="let i of appNamesWithConditions" [value]="i" [label]="i">{{i}}</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<label>Action</label>\n\t\t\t<select class="form-control" [(ngModel)]="selectedConditionApi">\n\t\t\t\t<option *ngFor="let i of getConditionNamesForApp()" [value]="i" [label]="i">{{i}}</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<div class="form-group">\n\t\t\t\t<button class="btn btn-primary pull-right" (click)="addCondition()">\n\t\t\t\t\t<i class="fa fa-plus"></i>Add Condition\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div *ngFor="let condition of conditions; let id = index">\n\t\t<div class="row">\n\t\t\t<div class="col-xs-4">\n\t\t\t\t<label>Condition {{id+1}}: {{condition.app_name}} - {{condition.action_name}}</label>\n\t\t\t</div>\n\t\t\t<div class="col-xs-4">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label>Negated</label>\n\t\t\t\t\t<input type="checkbox" class="form-control" [(ngModel)]="condition.is_negated">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="col-xs-4">\n\t\t\t\t<div class="pull-right">\n\t\t\t\t\t<button *ngIf="id > 0" class="btn btn-primary" (click)="moveUp(id)" title="Move Up">\n\t\t\t\t\t\t<i class="fa fa-arrow-up"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button *ngIf="id < conditions.length - 1" class="btn btn-primary" (click)="moveDown(id)" title="Move Down">\n\t\t\t\t\t\t<i class="fa fa-arrow-down"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="btn btn-danger" (click)="removeCondition(id)" title="Remove Condition">\n\t\t\t\t\t\t<i class="fa fa-close"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<playbook-argument-component *ngFor="let parameterApi of getConditionApi(condition.app_name, condition.action_name).parameters; let id = index"\n\t\t [loadedWorkflow]="loadedWorkflow" [argument]="getOrInitializeArgument(condition, parameterApi)" [parameterApi]="parameterApi"\n\t\t [id]="id" (createVariable)="onCreateVariable($event)"></playbook-argument-component>\n\t\t<div>\n\t\t\t<h4>Transforms</h4>\n\t\t\t<playbook-transforms-component [transforms]="condition.transforms" [appApis]="appApis" [selectedAppName]="selectedAppName"\n\t\t\t [loadedWorkflow]="loadedWorkflow" (createVariable)="onCreateVariable($event)"></playbook-transforms-component>\n\t\t</div>\n\t</div>\n</div>'},102:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(1),o=n(3),i=n(162),r=n(103),s=(function(){function t(){this.action_statuses=[]}return a.a([Object(o.Type)((function(){return r.a})),a.c("design:type",r.a)],t.prototype,"current_action",void 0),a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],t.prototype,"action_statuses",void 0),a.a([Object(o.Exclude)({toPlainOnly:!0}),a.c("design:type",String)],t.prototype,"localized_started_at",void 0),a.a([Object(o.Exclude)({toPlainOnly:!0}),a.c("design:type",String)],t.prototype,"localized_completed_at",void 0),t})()},1020:function(t,e){t.exports='<div *ngIf="appNamesWithTransforms.length" class="indent">\n\t<div class="row addBar">\n\t\t<div class="col-xs-4">\n\t\t\t<label>App</label>\n\t\t\t<select class="form-control" [(ngModel)]="selectedAppName" (change)="resetTransformSelection($event.target.value)">\n\t\t\t\t<option *ngFor="let i of appNamesWithTransforms" [value]="i" [label]="i">{{i}}</option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<label>Action</label>\n\t\t\t<select class="form-control" [(ngModel)]="selectedTransformApi">\n\t\t\t\t<option *ngFor="let i of getTransformNamesForApp()" [value]="i" [label]="i">{{i}}</option>\n\t\t\t</select>\n\t\t\t</div>\n\t\t<div class="col-xs-4">\n\t\t\t<div class="form-group">\n\t\t\t\t<button class="btn btn-primary pull-right" (click)="addTransform()"><i class="fa fa-plus"></i>Add Transform</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div *ngFor="let transform of transforms; let id = index">\n\t\t<div class="row">\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<label>Transform {{id+1}}: {{transform.app_name}} - {{transform.action_name}}</label>\n\t\t\t</div>\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<div class="pull-right">\n\t\t\t\t\t<button *ngIf="id > 0" class="btn btn-primary" (click)="moveUp(id)" title="Move Up"><i class="fa fa-arrow-up"></i></button>\n\t\t\t\t\t<button *ngIf="id < transforms.length - 1" class="btn btn-primary" (click)="moveDown(id)" title="Move Down"><i class="fa fa-arrow-down"></i></button>\n\t\t\t\t\t<button class="btn btn-danger" (click)="removeTransform(id)" title="Remove Transform"><i class="fa fa-close"></i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<playbook-argument-component *ngFor="let parameterApi of getTransformApi(transform.app_name, transform.action_name).parameters; let id = index"\n\t\t[loadedWorkflow]="loadedWorkflow" [argument]="getOrInitializeArgument(transform, parameterApi)" [parameterApi]="parameterApi"\n\t\t[id]="id" (createVariable)="onCreateVariable($event)"></playbook-argument-component>\n\t</div>\n</div>'},1021:function(t,e){t.exports='<div class="indent">\n\t\x3c!-- Basic Info --\x3e\n\t<div class="row">\n\t\t<div class="col-xs-6">\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Operator</label>\n\t\t\t\t<select class="form-control" [(ngModel)]="conditionalExpression.operator">\n\t\t\t\t\t<option *ngFor="let i of availableOperators" [value]="i" [label]="i.toUpperCase()">{{i.toUpperCase()}}</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-xs-6">\n\t\t\t<div class="form-group">\n\t\t\t\t<label>Negated</label>\n\t\t\t\t<input type="checkbox" class="form-control" [(ngModel)]="conditionalExpression.is_negated">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\x3c!-- Conditions Component --\x3e\n\t<div>\n\t\t<h4>Conditions</h4>\n\t\t<playbook-conditions-component [conditions]="conditionalExpression.conditions" [appApis]="appApis" [loadedWorkflow]="loadedWorkflow"\n\t\t [selectedAppName]="selectedAppName" (createVariable)="onCreateVariable($event)"></playbook-conditions-component>\n\t</div>\n\t\x3c!-- Add Child Expressions Header --\x3e\n\t<div class="row">\n\t\t<div class="col-xs-6">\n\t\t\t<h4>Child Expressions</h4>\n\t\t</div>\n\t\t<div class="col-xs-6">\n\t\t\t<div class="form-group">\n\t\t\t\t<button class="btn btn-primary pull-right" (click)="addChildExpression()">\n\t\t\t\t\t<i class="fa fa-plus"></i>Add Child Expression\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\x3c!-- Child expressions control and component --\x3e\n\t<div *ngFor="let childExpression of conditionalExpression.child_expressions; let id = index">\n\t\t<div class="row">\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<label>Child Expression {{id+1}}</label>\n\t\t\t</div>\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<div class="pull-right">\n\t\t\t\t\t<button *ngIf="id > 0" class="btn btn-primary" (click)="moveUp(id)" title="Move Up">\n\t\t\t\t\t\t<i class="fa fa-arrow-up"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button *ngIf="id < conditionalExpression.child_expressions.length - 1" class="btn btn-primary" (click)="moveDown(id)" title="Move Down">\n\t\t\t\t\t\t<i class="fa fa-arrow-down"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="btn btn-danger" (click)="removeChildExpression(id)" title="Remove Conditional Expression">\n\t\t\t\t\t\t<i class="fa fa-close"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<playbook-conditional-expression-component [conditionalExpression]="childExpression" [appApis]="appApis" [selectedAppName]="selectedAppName"\n\t\t [loadedWorkflow]="loadedWorkflow" (createVariable)="onCreateVariable($event)"></playbook-conditional-expression-component>\n\t</div>\n</div>'},1022:function(t,e){t.exports='<h1 class="settingsHeader">\n\tRole Settings</h1>\n\n<div class="row">\n\t<div class="col-xs-6">\n\t\t<button (click)="addRole()" class="btn btn-primary">\n\t\t\t<i class="fa fa-plus"></i>Add Role</button>\n\t</div>\n\t<div class="col-xs-6">\n\t\t<div class="form-group row">\n\t\t\t<label class="col-xs-2 col-form-label">Search Filter</label>\n\t\t\t<div class="col-xs-10">\n\t\t\t\t<input class="form-control" [formControl]="filterQuery" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<ngx-datatable #roleTable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="displayRoles" [headerHeight]="50" [footerHeight]="50"\n [rowHeight]="undefined" [sorts]="[{prop: \'name\', dir: \'asc\'}]" [limit]="10">\n\t\x3c!-- Column Templates --\x3e\n\t<ngx-datatable-column name="Role Name" prop="name" [flexGrow]="1"></ngx-datatable-column>\n\t<ngx-datatable-column name="Permissions" [sortable]="false" [flexGrow]="5">\n\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t<div *ngFor="let resource of row.resources">\n\t\t\t\t{{resource.name}}: {{resource.permissions.join(\', \')}}\n\t\t\t</div>\n\t\t</ng-template>\n\t</ngx-datatable-column>\n\t<ngx-datatable-column name="Actions" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="2">\n\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t<button (click)="editRole(row)" class="btn btn-primary" title="Edit Role" [disabled]="row.name === \'admin\'">\n\t\t\t\t<i class="fa fa-edit"></i>\n\t\t\t</button>\n\t\t\t<button (click)="deleteRole(row)" class="btn btn-danger" title="Delete Role" [disabled]="row.name === \'admin\'">\n\t\t\t\t<i class="fa fa-times"></i>\n\t\t\t</button>\n\t\t</ng-template>\n\t</ngx-datatable-column>\n</ngx-datatable>'},103:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=(function(){return function(){}})()},104:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(105),o=(function(){function t(){this.cache=new a.a}return t.getDefaultConfiguration=function(){return{db_path:"./data/walkoff.db",walkoff_db_type:"sqlite",case_db_path:"./data/events.db",case_db_type:"sqlite",clear_case_db_on_startup:!1,host:"127.0.0.1",port:5e3,access_token_duration:15,refresh_token_duration:30,zmq_results_address:"tcp://127.0.0.1:5556",zmq_communication_address:"tcp://127.0.0.1:5557",number_processes:4,number_threads_per_process:3,cache:a.a.getDefault()}},t})()},105:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=(function(){function t(){this.type="disk"}return t.getDefault=function(){return{type:"disk",directory:"./data/cache",shards:8,timeout:.01,retry:!0}},t})()},106:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(1),o=n(3),i=n(61),r=n(97),s=(function(){function t(){this.roles=[]}return t.prototype.toWorkingUser=function(){var t=new r.a;return t.id=this.id,t.username=this.username,Array.isArray(this.roles)?t.role_ids=this.roles.map((function(t){return t.id})):t.role_ids=[],t.active=this.active,t},a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],t.prototype,"roles",void 0),t})()},107:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(1),o=n(0),i=n(10),r=n(89),s=(function(){function t(t){this.activeModal=t,this.variable=new r.a,this.existing=!1}return a.a([Object(o.Input)(),a.c("design:type",r.a)],t.prototype,"variable",void 0),t=a.a([Object(o.Component)({selector:"playbook-environment-variable-modal-component",template:n(961)}),a.c("design:paramtypes",[i.a])],t)})()},1071:function(t,e,n){"use strict";n.r(e);var a=n(495),o=n(1),i=n(0),r=n(27),s=n(43),l=n(13),c=n(10),d=n(47),u=n(6),p=n(484),f=n(21),m=n(485),h=n(494),g=n(128),v=n(158),b=(n(86),n(4)),y=(n(153),n(126),n(3)),w=(function(){return function(){}})(),k=(function(){function t(){this.workflows=[],this.task_trigger=new w}return o.a([Object(y.Type)((function(){return w})),o.c("design:type",w)],t.prototype,"task_trigger",void 0),t})(),x=n(40),S=n(8),_={0:"stopped",1:"running",2:"paused"},T=(function(){function t(t,e){this.authHttp=t,this.utils=e}return t.prototype.getSchedulerStatus=function(){return this.authHttp.get("/api/scheduler").toPromise().then(this.utils.extractResponseData).then((function(t){return _[t.status]})).catch(this.utils.handleResponseError)},t.prototype.changeSchedulerStatus=function(t){return this.authHttp.put("/api/scheduler",{status:t}).toPromise().then(this.utils.extractResponseData).then((function(t){return _[t.status]})).catch(this.utils.handleResponseError)},t.prototype.getAllScheduledTasks=function(){return this.utils.paginateAll(this.getScheduledTasks.bind(this))},t.prototype.getScheduledTasks=function(t){return void 0===t&&(t=1),this.authHttp.get("/api/scheduledtasks?page="+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(k,t)})).catch(this.utils.handleResponseError)},t.prototype.addScheduledTask=function(t){return this.authHttp.post("/api/scheduledtasks",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(k,t)})).catch(this.utils.handleResponseError)},t.prototype.editScheduledTask=function(t){return this.authHttp.put("/api/scheduledtasks",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(k,t)})).catch(this.utils.handleResponseError)},t.prototype.deleteScheduledTask=function(t){return this.authHttp.delete("/api/scheduledtasks/"+t).toPromise().then((function(){return null})).catch(this.utils.handleResponseError)},t.prototype.changeScheduledTaskStatus=function(t,e){return this.authHttp.patch("/api/scheduledtasks",{id:t,action:e}).toPromise().then((function(){return null})).catch(this.utils.handleResponseError)},t.prototype.getPlaybooks=function(){return this.authHttp.get("/api/playbooks").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(x.a,t)})).catch(this.utils.handleResponseError)},t=o.a([Object(i.Injectable)(),o.c("design:paramtypes",[f.JwtHttp,S.a])],t)})(),C=(function(){return function(){}})(),A=(function(){return function(){}})(),E=(function(){return function(){}})(),M=(function(){function t(t,e,n,a){this.schedulerService=t,this.activeModal=e,this.toastyService=n,this.toastyConfig=a,this.workingScheduledTask=new k,this.availableWorkflows=[],this.scheduledItemTriggerTypes=["date","interval","cron"],this.cron=new C,this.interval=new A,this.date=new E}return t.prototype.ngOnInit=function(){this.toastyConfig.theme="bootstrap",this.workflowSelectConfig={width:"100%",multiple:!0,allowClear:!0,placeholder:"Select workflow(s) to run...",closeOnSelect:!1}},t.prototype.submit=function(){var t=this,e=this.validate();e?this.toastyService.error(e):("cron"===this.workingScheduledTask.task_trigger.type&&this.convertStringsToInt(this.workingScheduledTask.task_trigger.args),this.workingScheduledTask.id?this.schedulerService.editScheduledTask(this.workingScheduledTask).then((function(e){return t.activeModal.close({scheduledTask:e,isEdit:!0})})).catch((function(e){return t.toastyService.error(e.message)})):this.schedulerService.addScheduledTask(this.workingScheduledTask).then((function(e){return t.activeModal.close({scheduledTask:e,isEdit:!1})})).catch((function(e){return t.toastyService.error(e.message)})))},t.prototype.validate=function(){if(!this.workingScheduledTask.name)return"A name is required.";if(!this.workingScheduledTask.workflows||!this.workingScheduledTask.workflows.length)return"Please specify at least one workflow to be run.";var t=this.workingScheduledTask.task_trigger.args;if(!t)return"Please select a type and fill out the trigger parameters.";if(!t.start_date&&!t.run_date)return"A start date is required.";if(("interval"===this.workingScheduledTask.task_trigger.type||"cron"===this.workingScheduledTask.task_trigger.type)&&+t.start_date>+t.end_date)return"The end date cannot be before the start date.";return"interval"!==this.workingScheduledTask.task_trigger.type||this._doesArgsHaveAnything(t)?"cron"!==this.workingScheduledTask.task_trigger.type||this._doesArgsHaveAnything(t)?"":"You must specify some cron parameters for the actions to occur.":"You must specify some interval of time for the actions to occur."},t.prototype._doesArgsHaveAnything=function(t){var e=!1;return Object.keys(t).forEach((function(n){!e&&"start_date"!==n&&"end_date"!==n&&t[n]&&("string"==typeof t[n]?(t[n]=t[n].trim(),t[n]&&"0"!==t[n]&&"*"!==t[n]&&(e=!0)):e=!0)})),e},t.prototype.changeType=function(t){switch(t){case"cron":this.workingScheduledTask.task_trigger.args=this.cron;break;case"interval":this.workingScheduledTask.task_trigger.args=this.interval;break;case"date":this.workingScheduledTask.task_trigger.args=this.date;break;default:this.workingScheduledTask.task_trigger.args=null}},t.prototype.workflowsSelectChanged=function(t){this.workingScheduledTask.workflows=t.value},t.prototype.getToday=function(){return b().format("YYYY-MM-DD")},t.prototype.convertStringsToInt=function(t){if("object"==typeof t)for(var e=0,n=Object.entries(t);e<n.length;e++){var a=n[e],o=a[0],i=a[1];if("start_date"===o||"end_date"===o)return;if(isNaN(i))return;t[o]=+i}},o.a([Object(i.Input)(),o.c("design:type",k)],t.prototype,"workingScheduledTask",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"title",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"submitText",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"availableWorkflows",void 0),t=o.a([Object(i.Component)({selector:"scheduler-modal",template:n(973),styles:[n(479)],providers:[T,S.a]}),o.c("design:paramtypes",[T,c.a,u.c,u.a])],t)})(),j=(function(){function t(t,e,n,a,o){this.schedulerService=t,this.modalService=e,this.toastyService=n,this.toastyConfig=a,this.utils=o,this.scheduledTasks=[],this.displayScheduledTasks=[],this.availableWorkflows=[],this.filterQuery=new l.FormControl}return t.prototype.ngOnInit=function(){var t=this;this.toastyConfig.theme="bootstrap",this.getSchedulerStatus(),this.getWorkflows(),this.getScheduledTasks(),this.filterQuery.valueChanges.debounceTime(500).subscribe((function(e){return t.filterScheduledTasks()}))},t.prototype.filterScheduledTasks=function(){var t=this.filterQuery.value?this.filterQuery.value.toLocaleLowerCase():"";this.displayScheduledTasks=this.scheduledTasks.filter((function(e){return e.name.toLocaleLowerCase().includes(t)||e.description.toString().includes(t)}))},t.prototype.getSchedulerStatus=function(){var t=this;this.schedulerService.getSchedulerStatus().then((function(e){return t.schedulerStatus=e})).catch((function(e){return t.toastyService.error("Error retrieving scheduler status: "+e.message)}))},t.prototype.changeSchedulerStatus=function(t){var e=this;"start"===t&&"paused"===this.schedulerStatus&&(t="resume"),this.schedulerService.changeSchedulerStatus(t).then((function(t){t&&(e.schedulerStatus=t)})).catch((function(t){return e.toastyService.error("Error changing scheduler status: "+t.message)}))},t.prototype.getScheduledTasks=function(){var t=this;this.schedulerService.getAllScheduledTasks().then((function(e){return t.displayScheduledTasks=t.scheduledTasks=e})).catch((function(e){return t.toastyService.error("Error retrieving scheduled tasks: "+e.message)}))},t.prototype.addScheduledTask=function(){var t=this.modalService.open(M,{size:"lg"});t.componentInstance.title="Schedule a New Task",t.componentInstance.submitText="Add Scheduled Task",t.componentInstance.availableWorkflows=this.availableWorkflows,this._handleModalClose(t)},t.prototype.editScheduledTask=function(t){var e=this.modalService.open(M,{size:"lg"});e.componentInstance.title="Edit Task "+t.name,e.componentInstance.submitText="Save Changes",e.componentInstance.availableWorkflows=this.availableWorkflows,e.componentInstance.workingScheduledTask=this.utils.cloneDeep(t),delete e.componentInstance.workingScheduledTask.$$index,this._handleModalClose(e)},t.prototype.deleteScheduledTask=function(t){var e=this;confirm('Are you sure you want to delete the scheduled task "'+t.name+'"?')&&this.schedulerService.deleteScheduledTask(t.id).then((function(){e.scheduledTasks=e.scheduledTasks.filter((function(e){return e.id!==t.id})),e.filterScheduledTasks(),e.toastyService.success('Scheduled Task "'+t.name+'" successfully deleted.')})).catch((function(t){return e.toastyService.error("Error deleting task: "+t.message)}))},t.prototype.changeScheduledTaskStatus=function(t,e){var n,a=this;switch(e){case"start":n="running";break;case"pause":n="paused";break;case"stop":n="stopped";break;default:this.toastyService.error("Attempted to set an unknown status "+e)}n&&this.schedulerService.changeScheduledTaskStatus(t.id,e).then((function(){t.status=n})).catch((function(t){return a.toastyService.error("Error changing scheduler status: "+t.message)}))},t.prototype.getWorkflows=function(){var t=this;this.schedulerService.getPlaybooks().then((function(e){e.forEach((function(e){e.workflows.forEach((function(n){t.availableWorkflows.push({id:n.id,text:e.name+" - "+n.name})}))}))}))},t.prototype.getRule=function(t){var e=JSON.stringify(t.task_trigger.args,null,1);return e=e.substr(1,e.length-2).replace(/"/g,"")},t.prototype.getFriendlyWorkflows=function(t){return this.availableWorkflows&&t.workflows&&t.workflows.length?this.availableWorkflows.filter((function(e){return t.workflows.indexOf(e.id)>=0})).map((function(t){return t.text})).join(", "):""},t.prototype._handleModalClose=function(t){var e=this;t.result.then((function(t){if(t&&t.scheduledTask)if(t.isEdit){var n=e.scheduledTasks.find((function(e){return e.id===t.scheduledTask.id}));Object.assign(n,t.scheduledTask),e.filterScheduledTasks(),e.toastyService.success('Scheduled task "'+t.scheduledTask.name+'" successfully edited.')}else e.scheduledTasks.push(t.scheduledTask),e.filterScheduledTasks(),e.toastyService.success('Scheduled task "'+t.scheduledTask.name+'" successfully added.')}),(function(t){t&&e.toastyService.error(t.message)}))},t=o.a([Object(i.Component)({selector:"scheduler-component",template:n(976),styles:[n(479),n(977)],encapsulation:i.ViewEncapsulation.None,providers:[T]}),o.c("design:paramtypes",[T,c.b,u.c,u.a,S.a])],t)})(),O=n(60),I=n(129),R=(function(){function t(t,e,n,a,o){this.devicesService=t,this.activeModal=e,this.toastyService=n,this.toastyConfig=a,this.cdr=o,this.workingDevice=new I.a,this.appNames=[],this.appApis=[],this.deviceTypesForApp=[],this.deviceTypeFields={},this.validationErrors={},this.encryptedConfirmFields={},this.encryptedFieldsToBeCleared={}}return t.prototype.ngOnInit=function(){this.toastyConfig.theme="bootstrap"},t.prototype.ngAfterViewInit=function(){var t=this;this.workingDevice.app_name&&(this.deviceTypesForApp=this.appApis.find((function(e){return e.name===t.workingDevice.app_name})).device_apis),this.cdr.detectChanges(),this.workingDevice.type&&(this.deviceTypeFields[this.workingDevice.type]=this.workingDevice.fields,this.typeRef.nativeElement.value=this.workingDevice.type,this.handleDeviceTypeSelection(null,this.workingDevice.type)),this.cdr.detectChanges()},t.prototype.handleAppSelection=function(t,e){this.workingDevice.app_name=e,this.deviceTypesForApp=this.appApis.find((function(t){return t.name===e})).device_apis,this.selectedDeviceType&&this._clearDeviceTypeData()},t.prototype.handleDeviceTypeSelection=function(t,e){var n=this;e?(this.selectedDeviceType=this.appApis.find((function(t){return t.name===n.workingDevice.app_name})).device_apis.find((function(t){return t.name===e})),this.workingDevice.type=e,this.workingDevice.fields=this.deviceTypeFields[e]=this.deviceTypeFields[e]||this._getDefaultValues(this.selectedDeviceType),this._getEncryptedConfirmFields(this.selectedDeviceType),this.validationErrors={}):this._clearDeviceTypeData()},t.prototype.handleEncryptedFieldClear=function(t,e){this.encryptedFieldsToBeCleared[t]=e},t.prototype.submit=function(){var t=this;if(this.validate()){var e=this.workingDevice.toDevice();this.workingDevice.id?(e.fields.forEach((function(e,n,a){t.selectedDeviceType.fields.find((function(t){return t.name===e.name})).encrypted&&(t.encryptedFieldsToBeCleared[e.name]?e.value="":("string"==typeof e.value&&!e.value.trim()||"number"==typeof e.value&&!e.value)&&a.splice(n,1))})),this.devicesService.editDevice(e).then((function(e){return t.activeModal.close({device:e,isEdit:!0})})).catch((function(e){return t.toastyService.error(e.message)}))):this.devicesService.addDevice(e).then((function(e){return t.activeModal.close({device:e,isEdit:!1})})).catch((function(e){return t.toastyService.error(e.message)}))}},t.prototype.isBasicInfoValid=function(){return!!(this.workingDevice.name&&this.workingDevice.name.trim()&&this.workingDevice.app_name&&this.workingDevice.type)},t.prototype.validate=function(){var t=this;this.validationErrors={};var e=this.workingDevice.fields;return Object.keys(e).forEach((function(n){"string"==typeof e[n]&&(e[n]=e[n].trim(),t.encryptedConfirmFields[n]&&(t.encryptedConfirmFields[n]=t.encryptedConfirmFields[n].trim()))})),this.selectedDeviceType.fields.forEach((function(n){if(!n.required||t.workingDevice.id&&n.encrypted||!(null==e[n.name]||"string"==typeof e[n.name]&&!e[n.name]||"number"==typeof e[n.name]&&null===e[n.name]))switch(n.schema.type){case"string":if(null==e[n.name]&&(e[n.name]=""),n.encrypted&&!t.encryptedFieldsToBeCleared[n.name]&&t.encryptedConfirmFields[n.name]!==e[n.name]&&t._concatValidationMessage(n.name,"The values for "+n.name+" do not match."),n.schema.enum){var a=n.schema.enum.slice(0);n.required||a.push(""),a.indexOf(e[n.name])<0&&t._concatValidationMessage(n.name,"You must select a value from the list.")}if(!e[n.name])break;void 0!==n.schema.minLength&&e[n.name].length<n.schema.minLength&&t._concatValidationMessage(n.name,"Must be at least "+n.schema.minLength+" characters."),void 0!==n.schema.maxLength&&e[n.name].length>n.schema.maxLength&&t._concatValidationMessage(n.name,"Must be at most "+n.schema.minLength+" characters."),n.schema.pattern&&!new RegExp(n.schema.pattern).test(e[n.name])&&t._concatValidationMessage(n.name,"Input must match a given pattern: "+n.schema.pattern+".");break;case"number":case"integer":if(null==e[n.name])break;var o=t.getMin(n.schema),i=t.getMax(n.schema);null!==o&&e[n.name]<o&&t._concatValidationMessage(n.name,"The minimum value is "+o+"."),null!==i&&e[n.name]>i&&t._concatValidationMessage(n.name,"The maximum value is "+i+"."),void 0!==n.schema.multipleOf&&e[n.name]%n.schema.multipleOf&&t._concatValidationMessage(n.name,"The value must be a multiple of "+n.schema.multipleOf+".");break;case"boolean":e[n.name]=e[n.name]||!1;break;default:t._concatValidationMessage(n.name,"The type specified for field "+n.name+" is invalid.")}else t.validationErrors[n.name]="You must enter a value for "+n.name+"."})),!Object.keys(this.validationErrors).length},t.prototype.getMin=function(t){return void 0===t.minimum?null:t.exclusiveMinimum?t.minimum+1:t.minimum},t.prototype.getMax=function(t){return void 0===t.maximum?null:t.exclusiveMaximum?t.maximum-1:t.maximum},t.prototype._getEncryptedConfirmFields=function(t){var e=this;this.encryptedConfirmFields={},t.fields.forEach((function(t){t.encrypted&&(e.encryptedConfirmFields[t.name]="")}))},t.prototype._getDefaultValues=function(t){var e={};return t.fields.forEach((function(t){t.schema.default?e[t.name]=t.schema.default:e[t.name]=null})),e},t.prototype._clearDeviceTypeData=function(){this.selectedDeviceType=null,this.workingDevice.type=null,this.workingDevice.fields=null,this.validationErrors={},this.encryptedConfirmFields={}},t.prototype._concatValidationMessage=function(t,e){this.validationErrors[t]?this.validationErrors[t]+="\n"+e:this.validationErrors[t]=e},o.a([Object(i.Input)(),o.c("design:type",I.a)],t.prototype,"workingDevice",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"title",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"submitText",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"appNames",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"appApis",void 0),o.a([Object(i.ViewChild)("typeRef"),o.c("design:type",i.ElementRef)],t.prototype,"typeRef",void 0),t=o.a([Object(i.Component)({selector:"device-modal",template:n(980),styles:[n(480)],providers:[O.a,S.a]}),o.c("design:paramtypes",[O.a,c.a,u.c,u.a,i.ChangeDetectorRef])],t)})(),P=(function(){function t(t,e,n,a){this.devicesService=t,this.modalService=e,this.toastyService=n,this.toastyConfig=a,this.devices=[],this.displayDevices=[],this.appNames=[],this.availableApps=[],this.appApis=[],this.selectedApps=[],this.filterQuery=new l.FormControl}return t.prototype.ngOnInit=function(){var t=this;this.toastyConfig.theme="bootstrap",this.appSelectConfig={width:"100%",multiple:!0,allowClear:!0,placeholder:"Filter by app(s)...",closeOnSelect:!1},this.getDevices(),this.getDeviceApis(),this.filterQuery.valueChanges.debounceTime(500).subscribe((function(e){return t.filterDevices()}))},t.prototype.appSelectChange=function(t){this.selectedApps=t.value,this.filterDevices()},t.prototype.filterDevices=function(){var t=this,e=this.filterQuery.value?this.filterQuery.value.toLocaleLowerCase():"";this.displayDevices=this.devices.filter((function(n){return(n.name.toLocaleLowerCase().includes(e)||n.app_name.toLocaleLowerCase().includes(e))&&(!t.selectedApps.length||t.selectedApps.indexOf(n.app_name)>-1)}))},t.prototype.getDevices=function(){var t=this;this.devicesService.getAllDevices().then((function(e){return t.displayDevices=t.devices=e})).catch((function(e){return t.toastyService.error("Error retrieving devices: "+e.message)}))},t.prototype.addDevice=function(){var t=this.modalService.open(R);t.componentInstance.title="Add New Device",t.componentInstance.submitText="Add Device",t.componentInstance.appNames=this.appNames,t.componentInstance.appApis=this.appApis,this._handleModalClose(t)},t.prototype.editDevice=function(t){var e=this.modalService.open(R);e.componentInstance.title="Edit Device "+t.name,e.componentInstance.submitText="Save Changes",e.componentInstance.appNames=this.appNames,e.componentInstance.appApis=this.appApis,e.componentInstance.workingDevice=t.toWorkingDevice(),this._handleModalClose(e)},t.prototype.deleteDevice=function(t){var e=this;confirm('Are you sure you want to delete the device "'+t.name+'"?')&&this.devicesService.deleteDevice(t.id).then((function(){e.devices=e.devices.filter((function(e){return e.id!==t.id})),e.filterDevices(),e.toastyService.success('Device "'+t.name+'" successfully deleted.')})).catch((function(t){return e.toastyService.error("Error deleting device: "+t.message)}))},t.prototype.getDeviceApis=function(){var t=this;this.devicesService.getDeviceApis().then((function(e){t.appApis=e,t.appNames=e.map((function(t){return t.name})),t.availableApps=t.appNames.map((function(t){return{id:t,text:t}}))})).catch((function(e){return t.toastyService.error("Error retrieving device types: "+e.message)}))},t.prototype.getCustomFields=function(t){var e={};t.fields.forEach((function(t){t.value&&(e[t.name]=t.value)}));var n=JSON.stringify(e,null,1);return n=n.substr(1,n.length-2).replace(/"/g,"")},t.prototype._handleModalClose=function(t){var e=this;t.result.then((function(t){if(t&&t.device)if(t.isEdit){var n=e.devices.find((function(e){return e.id===t.device.id}));Object.assign(n,t.device),e.filterDevices(),e.toastyService.success('Device "'+t.device.name+'" successfully edited.')}else e.devices.push(t.device),e.filterDevices(),e.toastyService.success('Device "'+t.device.name+'" successfully added.')}),(function(t){t&&e.toastyService.error(t.message)}))},t=o.a([Object(i.Component)({selector:"devices-component",template:n(983),styles:[n(480)],encapsulation:i.ViewEncapsulation.None,providers:[O.a]}),o.c("design:paramtypes",[O.a,c.b,u.c,u.a])],t)})(),D=(function(){return function(){}})(),N=(function(){function t(){this.body=[],this.read_by=[]}return o.a([Object(y.Type)((function(){return D})),o.c("design:type",Array)],t.prototype,"body",void 0),t})(),W=(function(){return function(){}})(),L=n(24),F=(function(){function t(t,e){this.authHttp=t,this.utils=e}return t.prototype.getAllMessageListings=function(){return this.utils.paginateAll(this.getMessageListings.bind(this))},t.prototype.getMessageListings=function(t){return void 0===t&&(t=1),this.authHttp.get("/api/messages?page="+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(W,t)})).catch(this.utils.handleResponseError)},t.prototype.getMessage=function(t){return this.authHttp.get("/api/messages/"+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(N,t)})).catch(this.utils.handleResponseError)},t.prototype.performActionOnMessages=function(t,e){return Array.isArray(t)||(t=[t]),this.authHttp.put("/api/messages",{ids:t,action:e}).toPromise().then((function(){return null})).catch(this.utils.handleResponseError)},t.prototype.respondToMessage=function(t,e){var n=new L.a;n.name="action",n.value=e;var a={execution_ids:[t],data_in:e,arguments:[n]};return this.authHttp.put("/api/triggers/send_data",a).toPromise().then(this.utils.extractResponseData).catch(this.utils.handleResponseError)},t=o.a([Object(i.Injectable)(),o.c("design:paramtypes",[f.JwtHttp,S.a])],t)})(),H=(function(){function t(t,e,n,a,o){this.messagesService=t,this.activeModal=e,this.toastyService=n,this.toastyConfig=a,this.utils=o}return t.prototype.ngOnInit=function(){this.toastyConfig.theme="bootstrap"},t.prototype.performMessageAction=function(t){var e=this;this.messagesService.respondToMessage(this.message.workflow_execution_id,t).then((function(){e.message.awaiting_response=!1,e.message.responded_at=e.utils.getCurrentIsoString(),e.toastyService.success('Successfully performed "'+t+'" on message.')})).catch((function(n){return e.toastyService.error("Error performing "+t+" on message: "+n.message)}))},t.prototype.dismiss=function(){this.activeModal.dismiss()},o.a([Object(i.Input)(),o.c("design:type",N)],t.prototype,"message",void 0),t=o.a([Object(i.Component)({selector:"messages-modal",template:n(984),styles:[n(481)],providers:[F,S.a]}),o.c("design:paramtypes",[F,c.a,u.c,u.a,S.a])],t)})(),V=(function(){function t(t,e,n,a,o){this.messagesService=t,this.modalService=e,this.toastyService=n,this.toastyConfig=a,this.utils=o,this.messages=[],this.displayMessages=[],this.filterQuery=new l.FormControl,this.selectMapping={},this.messageRelativeTimes={}}return t.prototype.ngOnInit=function(){var t=this;this.toastyConfig.theme="bootstrap",this.listMessages(),this.filterQuery.valueChanges.debounceTime(500).subscribe((function(e){return t.filterMessages()}))},t.prototype.filterMessages=function(){var t=this,e=this.filterQuery.value?this.filterQuery.value.toLocaleLowerCase():"";this.displayMessages=this.messages.filter((function(n){return t.messageRelativeTimes[n.id]=t.utils.getRelativeLocalTime(n.created_at),n.subject.toLocaleLowerCase().includes(e)}))},t.prototype.listMessages=function(){var t=this;this.messagesService.getAllMessageListings().then((function(e){t.messages=e,t.filterMessages()})).catch((function(e){return t.toastyService.error("Error retrieving messages: "+e.message)}))},t.prototype.openMessage=function(t,e){var n=this;t.preventDefault(),this.messagesService.getMessage(e.id).then((function(t){e.is_read=!0,e.last_read_at=n.utils.getCurrentIsoString();var a=n.modalService.open(H);a.componentInstance.message=n.utils.cloneDeep(t),n._handleModalClose(a)})).catch((function(t){return n.toastyService.error("Error opening message: "+t.message)}))},t.prototype.deleteSelected=function(){var t=this,e=this._getSelectedIds();confirm("Are you sure you want to delete "+e.length+" messages?")&&this.messagesService.performActionOnMessages(e,"delete").then((function(){t.messages=t.messages.filter((function(t){return-1===e.indexOf(t.id)})),e.forEach((function(e){t.selectMapping[e]=!1})),t.filterMessages()})).catch((function(e){return t.toastyService.error("Error deleting messages: "+e.message)}))},t.prototype.markSelectedAsRead=function(){var t=this,e=this._getSelectedIds();this.messagesService.performActionOnMessages(e,"read").then((function(){t.messages.forEach((function(n){-1!==e.indexOf(n.id)&&(n.is_read=!0,n.last_read_at=t.utils.getCurrentIsoString())}))})).catch((function(e){return t.toastyService.error("Error marking messages as read: "+e.message)}))},t.prototype.markSelectedAsUnread=function(){var t=this,e=this._getSelectedIds();this.messagesService.performActionOnMessages(e,"unread").then((function(){t.messages.forEach((function(t){-1!==e.indexOf(t.id)&&(t.is_read=!1,t.last_read_at=null)}))})).catch((function(e){return t.toastyService.error("Error marking messages as unread: "+e.message)}))},t.prototype._getSelectedIds=function(){var t=this,e=[];return Object.keys(this.selectMapping).forEach((function(n){t.selectMapping[n]&&e.push(+n)})),e},t.prototype._handleModalClose=function(t){var e=this;t.result.then((function(t){return null}),(function(t){t&&e.toastyService.error(t.message)}))},t=o.a([Object(i.Component)({selector:"messages-component",template:n(987),styles:[n(481)],providers:[F]}),o.c("design:paramtypes",[F,c.b,u.c,u.a,S.a])],t)})(),q=(function(){return function(){this.events=[]}})(),U=(function(){function t(){this.subscriptions=[]}return o.a([Object(y.Type)((function(){return q})),o.c("design:type",Array)],t.prototype,"subscriptions",void 0),t})(),z=(function(){function t(){}return o.a([Object(y.Type)((function(){return U})),o.c("design:type",Array)],t.prototype,"cases",void 0),t})(),G=(function(){return function(){this.events=[]}})(),B=(function(){function t(t,e){this.authHttp=t,this.utils=e}return t.prototype.getAllCases=function(){return this.utils.paginateAll(this.getCases.bind(this))},t.prototype.getCases=function(t){return void 0===t&&(t=1),this.authHttp.get("/api/cases?page="+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(U,t)})).catch(this.utils.handleResponseError)},t.prototype.getEventsForCase=function(t){return this.authHttp.get("/api/cases/"+t+"/events").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(z,t)})).catch(this.utils.handleResponseError)},t.prototype.addCase=function(t){return this.authHttp.post("/api/cases",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(U,t)})).catch(this.utils.handleResponseError)},t.prototype.editCase=function(t){return this.authHttp.put("/api/cases",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(U,t)})).catch(this.utils.handleResponseError)},t.prototype.deleteCase=function(t){return this.authHttp.delete("/api/cases/"+t).toPromise().then((function(){return null})).catch(this.utils.handleResponseError)},t.prototype.getAvailableSubscriptions=function(){return this.authHttp.get("/api/availablesubscriptions").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(G,t)})).catch(this.utils.handleResponseError)},t.prototype.getPlaybooks=function(){return this.authHttp.get("/api/playbooks?full=true").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(y.plainToClass)(x.a,t)})).catch(this.utils.handleResponseError)},t=o.a([Object(i.Injectable)(),o.c("design:paramtypes",[f.JwtHttp,S.a])],t)})(),J=n(77),Q=(function(){return function(){this.children=[]}})(),$=(function(){function t(t,e,n,a){this.casesService=t,this.activeModal=e,this.toastyService=n,this.toastyConfig=a,this.availableSubscriptions=[],this.workingEvents=[],this.selectedNode={name:"",id:"",type:""},this.i=0}return t.prototype.ngOnInit=function(){var t=this;this.toastyConfig.theme="bootstrap",this.existingSubscriptionIds=this.workingCase.subscriptions.map((function(t){return t.id}));var e=20,n=90,a=30,o=90,i=1350-o-n,r=500-e-a;this.svg=J.b("svg#caseSubscriptionsTree").attr("width",i+n+o).attr("height",r+e+a).append("g").attr("transform","translate("+o+","+e+")"),this.treemap=J.d().size([r,i]),this.root=J.a(this.subscriptionTree),this.root.x0=r/2,this.root.y0=0,this.existingSubscriptionIds.indexOf("controller")>=0&&(this.root.data._included=!0),this.root.children&&this.root.children.length&&this.root.children.forEach((function(e){return t.checkInclusionAndCheckChildrenForExpansion(e)})),this.update(this.root)},t.prototype.update=function(t){var e=this,n=this.treemap(this.root),a=n.descendants(),o=n.descendants().slice(1);a.forEach((function(t){return t.y=180*t.depth}));var i=this.svg.selectAll("g.node").data(a,(function(t){return t.id||(t.id=++e.i)})),r=i.enter().append("g").classed("node",!0).classed("included",(function(t){return t.data._included})).attr("transform",(function(e){return"translate("+t.y0+","+t.x0+")"})).attr("id",(function(t){return"id-"+t.data.id})).on("click",(function(t){return e.click(t)})).on("dblclick",(function(t){return e.dblclick(t)}));r.append("circle").classed("node",!0).attr("r",1e-6).style("fill",(function(t){return t._children?"lightsteelblue":"#fff"})),r.append("text").attr("dy",".35em").attr("x",(function(t){return t.children||t._children?-13:13})).attr("text-anchor",(function(t){return t.children||t._children?"end":"start"})).text((function(t){return t.data.name}));var s=r.merge(i);s.transition().duration(400).attr("transform",(function(t){return"translate("+t.y+","+t.x+")"})),s.select("circle.node").attr("r",10).style("fill",(function(t){return t._children?"lightsteelblue":"#fff"}));var l=i.exit().transition().duration(400).attr("transform",(function(e){return"translate("+t.y+","+t.x+")"})).remove();l.select("circle").attr("r",1e-6),l.select("text").style("fill-opacity",1e-6);var c=this.svg.selectAll("path.link").data(o,(function(t){return t.id}));c.enter().insert("path","g").classed("link",!0).attr("d",(function(n){var a={x:t.x0,y:t.y0};return e.diagonal(a,a)})).merge(c).transition().duration(400).attr("d",(function(t){return e.diagonal(t,t.parent)})),c.exit().transition().duration(400).attr("d",(function(n){var a={x:t.x,y:t.y};return e.diagonal(a,a)})).remove(),a.forEach((function(t){t.x0=t.x,t.y0=t.y}))},t.prototype.checkInclusionAndCheckChildrenForExpansion=function(t){var e=this;this.existingSubscriptionIds.indexOf(t.data.id)>=0&&(t.data._included=!0);var n=!1;return t.children&&t.children.forEach((function(t){n=e.checkInclusionAndCheckChildrenForExpansion(t)||n})),!n&&t.children&&(t._children=t.children,t.children=null),t.data._included},t.prototype.diagonal=function(t,e){return"M "+t.y+" "+t.x+"\n\t\t\tC "+(t.y+e.y)/2+" "+t.x+",\n\t\t\t"+(t.y+e.y)/2+" "+e.x+",\n\t\t\t"+e.y+" "+e.x},t.prototype.click=function(t){var e=this;if(t.data.type){this.selectedNode={name:t.data.name,id:t.data.id,type:t.data.type};var n=this.availableSubscriptions.find((function(e){return e.type===t.data.type})).events,a=this.workingCase.subscriptions.find((function(e){return e.id===t.data.id})),o=a?a.events:[];this.workingEvents=[],n.forEach((function(t){e.workingEvents.push({name:t,isChecked:o.indexOf(t)>-1})})),J.c("g.node.highlighted").classed("highlighted",!1),J.b("g.node#id-"+this.selectedNode.id).classed("highlighted",!0)}},t.prototype.dblclick=function(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),this.update(t)},t.prototype.handleEventSelectionChange=function(t,e){var n=this;if(this.selectedNode.name){t.isChecked=e;var a=this.workingCase.subscriptions.find((function(t){return t.id===n.selectedNode.id}));if(a||((a=new q).id=this.selectedNode.id,this.workingCase.subscriptions.push(a),J.b("svg#caseSubscriptionsTree").select("g.node#id-"+this.selectedNode.id).classed("included",!0).datum((function(t){return t.data._included=!0,t}))),a.events=this.workingEvents.filter((function(t){return t.isChecked})).map((function(t){return t.name})),!a.events.length){var o=this.workingCase.subscriptions.indexOf(a);this.workingCase.subscriptions.splice(o,1),J.b("svg#caseSubscriptionsTree").select("g.node#id-"+this.selectedNode.id).classed("included",!1).datum((function(t){return t.data._included=!1,t}))}}else console.error("Attempted to select events without a node selected.")},t.prototype.submit=function(){var t=this,e=this.validate();e?this.toastyService.error(e):this.workingCase.id?this.casesService.editCase(this.workingCase).then((function(e){return t.activeModal.close({case:e,isEdit:!0})})).catch((function(e){return t.toastyService.error(e.message)})):this.casesService.addCase(this.workingCase).then((function(e){return t.activeModal.close({case:e,isEdit:!1})})).catch((function(e){return t.toastyService.error(e.message)}))},t.prototype.validate=function(){return""},o.a([Object(i.Input)(),o.c("design:type",U)],t.prototype,"workingCase",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"title",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"submitText",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"availableSubscriptions",void 0),o.a([Object(i.Input)(),o.c("design:type",Q)],t.prototype,"subscriptionTree",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"workingEvents",void 0),t=o.a([Object(i.Component)({encapsulation:i.ViewEncapsulation.None,selector:"case-modal",template:n(988),styles:[n(989)],providers:[B,S.a]}),o.c("design:paramtypes",[B,c.a,u.c,u.a])],t)})(),Y=(function(){function t(t,e,n,a,o){this.casesService=t,this.modalService=e,this.toastyService=n,this.toastyConfig=a,this.utils=o,this.cases=[],this.availableCases=[],this.availableSubscriptions=[],this.caseEvents=[],this.displayCases=[],this.displayCaseEvents=[],this.eventFilterQuery=new l.FormControl,this.caseFilterQuery=new l.FormControl,this.caseHierarchy={subscriptionType:"playbook",arrayPropertyName:"playbooks",children:[{subscriptionType:"workflow",arrayPropertyName:"workflows",children:[{subscriptionType:"action",arrayPropertyName:"actions",children:[{subscriptionType:"conditional_expression",arrayPropertyName:"trigger",prefix:"Trigger: ",recursivePropertyName:"child_expressions",children:[{subscriptionType:"condition",arrayPropertyName:"conditions",prefix:"Condition: ",children:[{subscriptionType:"transform",arrayPropertyName:"transforms",prefix:"Transform: ",children:[]}]}]},{subscriptionType:"branch",arrayPropertyName:"branches",prefix:"Branch: ",children:[{subscriptionType:"conditional_expression",arrayPropertyName:"condition",prefix:"Condition: ",recursivePropertyName:"child_expressions",children:[{subscriptionType:"condition",arrayPropertyName:"conditions",prefix:"Condition: ",children:[{subscriptionType:"transform",arrayPropertyName:"transforms",prefix:"Transform: ",children:[]}]}]}]}]}]}]}}return t.prototype.ngOnInit=function(){var t=this;this.toastyConfig.theme="bootstrap",this.caseSelectConfig={width:"100%",placeholder:"Select a Case to view its Events"},this.getCases(),this.getAvailableSubscriptions(),this.getPlaybooks(),this.eventFilterQuery.valueChanges.debounceTime(500).subscribe((function(e){return t.filterEvents()})),this.caseFilterQuery.valueChanges.debounceTime(500).subscribe((function(e){return t.filterCases()}))},t.prototype.caseSelectChange=function(t){t.value&&""!==t.value&&this.getCaseEvents(t.value)},t.prototype.filterEvents=function(){var t=this.eventFilterQuery.value?this.eventFilterQuery.value.toLocaleLowerCase():"";this.displayCaseEvents=this.caseEvents.filter((function(e){return e.type.toLocaleLowerCase().includes(t)||e.message.includes(t)}))},t.prototype.filterCases=function(){var t=this.caseFilterQuery.value?this.caseFilterQuery.value.toLocaleLowerCase():"";this.displayCases=this.cases.filter((function(e){return e.name.toLocaleLowerCase().includes(t)||e.note.includes(t)}))},t.prototype.getCases=function(){var t=this;this.casesService.getAllCases().then((function(e){t.displayCases=t.cases=e,t.availableCases=[{id:"",text:""}].concat(e.map((function(t){return{id:t.id.toString(),text:t.name}})))})).catch((function(e){return t.toastyService.error("Error retrieving cases: "+e.message)}))},t.prototype.getCaseEvents=function(t){var e=this;this.casesService.getEventsForCase(+t).then((function(t){e.displayCaseEvents=e.caseEvents=t,e.filterEvents()})).catch((function(t){return e.toastyService.error("Error retrieving events: "+t.message)}))},t.prototype.addCase=function(){var t=this.modalService.open($,{windowClass:"casesModal"});t.componentInstance.title="Add New Case",t.componentInstance.submitText="Add Case",t.componentInstance.workingCase=new U,t.componentInstance.availableSubscriptions=this.availableSubscriptions,t.componentInstance.subscriptionTree=this.utils.cloneDeep(this.subscriptionTree),this._handleModalClose(t)},t.prototype.editCase=function(t){var e=this.modalService.open($,{windowClass:"casesModal"});e.componentInstance.title="Edit Case: "+t.name,e.componentInstance.submitText="Save Changes",e.componentInstance.workingCase=this.utils.cloneDeep(t),delete e.componentInstance.workingCase.$$index,e.componentInstance.availableSubscriptions=this.availableSubscriptions,e.componentInstance.subscriptionTree=this.utils.cloneDeep(this.subscriptionTree),this._handleModalClose(e)},t.prototype.deleteCase=function(t){var e=this;confirm('Are you sure you want to delete the case "'+t.name+'"? This will also delete any associated events.')&&this.casesService.deleteCase(t.id).then((function(){e.cases=e.cases.filter((function(e){return e.id!==t.id})),e.filterCases(),e.toastyService.success('Case "'+t.name+'" successfully deleted.')})).catch((function(t){return e.toastyService.error(t.message)}))},t.prototype.getAvailableSubscriptions=function(){var t=this;this.casesService.getAvailableSubscriptions().then((function(e){return t.availableSubscriptions=e})).catch((function(e){return t.toastyService.error("Error retrieving case subscriptions: "+e.message)}))},t.prototype.getPlaybooks=function(){var t=this;this.casesService.getPlaybooks().then((function(e){return t.subscriptionTree=t.convertPlaybooksToSubscriptionTree(e)})).catch((function(e){return t.toastyService.error("Error retrieving subscription tree: "+e.message)}))},t.prototype.convertPlaybooksToSubscriptionTree=function(t){var e=this,n={name:"Controller",id:"controller",type:"controller",children:[]};return t.forEach((function(t){t.workflows.forEach((function(t){t.actions.forEach((function(t){t.branches=[],t.trigger&&(t.trigger=[t.trigger])})),t.branches.forEach((function(e){var n=t.actions.find((function(t){return t.id===e.destination_id}));n&&(e.name=n.name),t.actions.find((function(t){return t.id===e.source_id})).branches.push(e),e.condition&&(e.condition=[e.condition])}))}))})),t.forEach((function(t){n.children.push(e.getNodeRecursive(t,e.caseHierarchy))})),n},t.prototype.getNodeRecursive=function(t,e){var n=this,a="";e.prefix&&(a=e.prefix),t.name?a+=t.name:t.action_name?a+=t.action_name:t.operator?a+=t.operator:a="(name unknown)";var o={name:a,id:t.id?t.id:"",type:e.subscriptionType,children:[]};return e.recursivePropertyName&&Array.isArray(t[e.recursivePropertyName])&&t[e.recursivePropertyName].forEach((function(t){o.children.push(n.getNodeRecursive(t,e))})),e.children.forEach((function(e){Array.isArray(t[e.arrayPropertyName])&&t[e.arrayPropertyName].forEach((function(t){o.children.push(n.getNodeRecursive(t,e))}))})),o.children.length||delete o.children,o},t.prototype.getFriendlyArray=function(t){return t.join(", ")},t.prototype.getFriendlyObject=function(t){var e=JSON.stringify(t,null,1);return e=e.substr(1,e.length-2).replace(/"/g,"")},t.prototype._handleModalClose=function(t){var e=this;t.result.then((function(t){if(t&&t.case)if(t.isEdit){var n=e.cases.find((function(e){return e.id===t.case.id}));Object.assign(n,t.case),e.filterCases(),e.toastyService.success('Case "'+t.case.name+'" successfully edited.')}else e.cases.push(t.case),e.filterCases(),e.toastyService.success('Case "'+t.case.name+'" successfully added.')}),(function(t){t&&e.toastyService.error(t.message)}))},t=o.a([Object(i.Component)({selector:"cases-component",template:n(992),encapsulation:i.ViewEncapsulation.None,styles:[n(993)],providers:[B]}),o.c("design:paramtypes",[B,c.b,u.c,u.a,S.a])],t)})(),K=n(164),X=n(37),Z=n(97),tt=(function(){function t(t,e,n,a){this.settingsService=t,this.activeModal=e,this.toastyService=n,this.toastyConfig=a,this.toastyConfig.theme="bootstrap"}return t.prototype.ngOnInit=function(){this.roleSelectData=this.roles.map((function(t){return{id:t.id.toString(),text:t.name}})),this.roleSelectConfig={width:"100%",placeholder:"Select role(s)",multiple:!0,allowClear:!0,closeOnSelect:!1},this.workingUser.role_ids||(this.workingUser.role_ids=[]),this.roleSelectInitialValue=JSON.parse(JSON.stringify(this.workingUser.role_ids))},t.prototype.roleSelectChange=function(t){this.workingUser.role_ids=t.value.map((function(t){return+t}))},t.prototype.submit=function(){var t=this,e=this.validate();if(e)this.toastyService.error(e);else{var n=this.workingUser.toSave();n.id?this.settingsService.editUser(n).then((function(e){return t.activeModal.close({user:e,isEdit:!0})})).catch((function(e){return t.toastyService.error(e.message)})):this.settingsService.addUser(n).then((function(e){return t.activeModal.close({user:e,isEdit:!1})})).catch((function(e){return t.toastyService.error(e.message)}))}},t.prototype.validate=function(){return this.workingUser?this.workingUser.id||this.workingUser.newPassword?this.workingUser.confirmNewPassword!==this.workingUser.newPassword?"Passwords do not match.":"":"You must specify a password.":"User is not specified."},o.a([Object(i.Input)(),o.c("design:type",Z.a)],t.prototype,"workingUser",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"title",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"submitText",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"roles",void 0),t=o.a([Object(i.Component)({selector:"user-modal",template:n(1e3),styles:[n(155)],providers:[X.a,S.a]}),o.c("design:paramtypes",[X.a,c.a,u.c,u.a])],t)})(),et=n(104),nt=n(105),at=(function(){function t(t,e,n,a){var o=this;this.settingsService=t,this.modalService=e,this.toastyService=n,this.toastyConfig=a,this.configuration=new et.a,this.cacheTypes=["disk","redis"],this.dbTypes=["sqlite","mysql","postgresql","oracle","mssql"],this.tlsVersions=["1.1","1.2","1.3"],this.users=[],this.displayUsers=[],this.filterQuery=new l.FormControl,this.roles=[],this.toastyConfig.theme="bootstrap",this.getConfiguration(),this.getUsers(),this.getRoles(),this.filterQuery.valueChanges.debounceTime(500).subscribe((function(t){return o.filterUsers()}))}return t.prototype.filterUsers=function(){var t=this.filterQuery.value?this.filterQuery.value.toLocaleLowerCase():"";this.displayUsers=this.users.filter((function(e){return e.username.toLocaleLowerCase().includes(t)}))},t.prototype.getConfiguration=function(){var t=this;this.settingsService.getConfiguration().then((function(e){Object.assign(t.configuration,e),t.configuration.cache||(t.configuration.cache=new nt.a)})).catch((function(e){return t.toastyService.error(e.message)}))},t.prototype.updateConfiguration=function(){var t=this;this.settingsService.updateConfiguration(this.configuration).then((function(e){Object.assign(t.configuration,e),t.configuration.cache||(t.configuration.cache=new nt.a),t.toastyService.success("Configuration successfully updated.")})).catch((function(e){return t.toastyService.error(e.message)}))},t.prototype.resetConfiguration=function(){confirm("Are you sure you want to reset the configuration? \t\t\tNote that you'll have to save the configuration after reset to update it on the server.")&&Object.assign(this.configuration,et.a.getDefaultConfiguration())},t.prototype.getRoles=function(){var t=this;this.settingsService.getRoles().then((function(e){return t.roles=e})).catch((function(e){return t.toastyService.error("Error retrieving roles: "+e.message)}))},t.prototype.getUsers=function(){var t=this;this.settingsService.getAllUsers().then((function(e){return t.displayUsers=t.users=e})).catch((function(e){return t.toastyService.error("Error retrieving users: "+e.message)}))},t.prototype.addUser=function(){var t=this.modalService.open(tt);t.componentInstance.title="Add New User",t.componentInstance.submitText="Add User",t.componentInstance.roles=this.roles;var e=new Z.a;e.active=!0,t.componentInstance.workingUser=e,this._handleModalClose(t)},t.prototype.editUser=function(t){var e=this.modalService.open(tt);e.componentInstance.title="Edit User: "+t.username,e.componentInstance.submitText="Save Changes",e.componentInstance.roles=this.roles,e.componentInstance.workingUser=t.toWorkingUser(),this._handleModalClose(e)},t.prototype.deleteUser=function(t){var e=this;confirm('Are you sure you want to delete the user "'+t.username+'"?')&&this.settingsService.deleteUser(t.id).then((function(){e.users=e.users.filter((function(e){return e.id!==t.id})),e.filterUsers(),e.toastyService.success('User "'+t.username+'" successfully deleted.')})).catch((function(t){return e.toastyService.error(t.message)}))},t.prototype.getFriendlyRoles=function(t){return t.map((function(t){return t.name})).join(", ")},t.prototype.getFriendlyBool=function(t){return t?"Yes":"No"},t.prototype._handleModalClose=function(t){var e=this;t.result.then((function(t){if(t&&t.user)if(t.isEdit){var n=e.users.find((function(e){return e.id===t.user.id}));Object.assign(n,t.user),e.filterUsers(),e.toastyService.success('User "'+t.user.username+'" successfully edited.')}else e.users.push(t.user),e.filterUsers(),e.toastyService.success('User "'+t.user.username+'" successfully added.')}),(function(t){t&&e.toastyService.error(t.message)}))},t=o.a([Object(i.Component)({selector:"settings-component",template:n(1003),styles:[n(155)],providers:[X.a]}),o.c("design:paramtypes",[X.a,c.b,u.c,u.a])],t)})(),ot=n(52),it=(function(){function t(t,e,n,a){this.route=t,this.authService=e,this.toastyService=n,this.toastyConfig=a}return t.prototype.ngOnInit=function(){var t=this;this.toastyConfig.theme="bootstrap",this.paramsSub=this.route.params.subscribe((function(e){t.interfaceName=e.interfaceName,t.getInterface()}))},t.prototype.getInterface=function(){var t=this;this.authService.getAccessTokenRefreshed().then((function(e){var n=new XMLHttpRequest;n.open("GET","custominterfaces/"+t.interfaceName+"/",!0),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(t.main.nativeElement.removeChild(t.main.nativeElement.lastChild),t.activeIFrame=document.createElement("iframe"),t.activeIFrame.srcdoc=n.responseText,t.activeIFrame.src="data:text/html;charset=utf-8,"+n.responseText,t.main.nativeElement.appendChild(t.activeIFrame))},n.setRequestHeader("Authorization","Bearer "+e),n.send()})).catch((function(e){return t.toastyService.error("Error retrieving interface: "+e.message)}))},o.a([Object(i.ViewChild)("interfacesMain"),o.c("design:type",i.ElementRef)],t.prototype,"main",void 0),t=o.a([Object(i.Component)({selector:"interfaces-component",template:n(1004),styles:[n(1005)],encapsulation:i.ViewEncapsulation.None,providers:[ot.a]}),o.c("design:paramtypes",[g.a,ot.a,u.c,u.a])],t)})(),rt=n(165),st=[{path:"",redirectTo:"/playbook",pathMatch:"full"},{path:"playbook",component:v.a},{path:"scheduler",component:j},{path:"devices",component:P},{path:"messages",component:V},{path:"cases",component:Y},{path:"metrics",component:K.a},{path:"settings",component:at},{path:"execution",component:rt.a},{path:"interfaces/:interfaceName",component:it}],lt=(function(){function t(){}return t=o.a([Object(i.NgModule)({imports:[g.b.forRoot(st)],exports:[g.b]})],t)})(),ct=n(66);function dt(t,e){var n={endPoint:"/api/auth/refresh",beforeSeconds:300,tokenName:"refresh_token",refreshTokenGetter:function(){var t=sessionStorage.getItem("refresh_token");if(t&&Object(ct.tokenNotExpired)(null,t))return t;location.href="/login"},tokenSetter:function(t){return(t=t.json()).access_token?(sessionStorage.setItem("access_token",t.access_token),!0):(sessionStorage.removeItem("access_token"),sessionStorage.removeItem("refresh_token"),location.href="/login",!1)}},a=new ct.AuthConfig({noJwtError:!0,tokenName:"access_token",tokenGetter:function(){return sessionStorage.getItem("access_token")}});return new f.JwtHttp(new f.JwtConfigService(n,a),t,e)}var ut=(function(){function t(t){this.authHttp=t}return t.prototype.getInterfaceNames=function(){return this.authHttp.get("/api/interfaces").toPromise().then(this.extractData).catch(this.handleError)},t.prototype.getInitialNotifications=function(){return this.authHttp.get("/api/notifications").toPromise().then(this.extractData).then((function(t){return Object(y.plainToClass)(W,t)})).catch(this.handleError)},t.prototype.getMessage=function(t){return this.authHttp.get("/api/messages/"+t).toPromise().then(this.extractData).then((function(t){return Object(y.plainToClass)(N,t)})).catch(this.handleError)},t.prototype.extractData=function(t){return t.json()||{}},t.prototype.handleError=function(t){var e,n;if(t instanceof r.Response){var a=t.json()||"";n=a.error||a.detail||JSON.stringify(a),e=t.status+" - "+(t.statusText||"")+" "+n}else n=e=t.message?t.message:t.toString();throw console.error(e),new Error(n)},t=o.a([Object(i.Injectable)(),o.c("design:paramtypes",[f.JwtHttp])],t)})(),pt=(function(){return function(){}})(),ft=(function(){function t(t,e,n,a,o,i){this.mainService=t,this.authService=e,this.modalService=n,this.toastyService=a,this.toastyConfig=o,this.utils=i,this.interfaceNames=[],this.jwtHelper=new ct.JwtHelper,this.messageListings=[],this.newMessagesCount=0,this.notificationRelativeTimes={}}return t.prototype.ngOnInit=function(){this.toastyConfig.theme="bootstrap",this.currentUser=this.authService.getAndDecodeAccessToken().user_claims.username,this.getInterfaceNames(),this.getInitialNotifications(),this.getNotificationsSSE()},t.prototype.ngOnDestroy=function(){this.eventSource&&this.eventSource.close&&this.eventSource.close()},t.prototype.getInterfaceNames=function(){var t=this;this.mainService.getInterfaceNames().then((function(e){return t.interfaceNames=e})).catch((function(e){return t.toastyService.error("Error retrieving interfaces: "+e.message)}))},t.prototype.getInitialNotifications=function(){var t=this;this.mainService.getInitialNotifications().then((function(e){t.messageListings=e.concat(t.messageListings),t._recalculateNewMessagesCount()})).catch((function(e){return t.toastyService.error("Error retrieving notifications: "+e.message)}))},t.prototype.getNotificationsSSE=function(){var t=this;this.authService.getAccessTokenRefreshed().then((function(e){t.eventSource=new window.EventSource("/api/streams/messages/notifications?access_token="+e),t.eventSource.addEventListener("created",(function(e){var n=Object(y.plainToClass)(W,JSON.parse(e.data)),a=t.messageListings.find((function(t){return t.id===n.id})),o=t.messageListings.indexOf(a);o>-1?t.messageListings[o]=n:t.messageListings.unshift(n),(t.messageListings.filter((function(t){return t.is_read})).length>5||t.messageListings.length>20)&&t.messageListings.pop(),t._recalculateNewMessagesCount(),t.recalculateRelativeTimes()})),t.eventSource.addEventListener("responded",(function(e){var n=Object(y.plainToClass)(pt,JSON.parse(e.data)),a=t.messageListings.find((function(t){return t.id===n.id}));a&&(a.awaiting_response=!1)})),t.eventSource.addEventListener("error",(function(t){console.error(t)}))}))},t.prototype.logout=function(){this.authService.logout().then((function(){return location.href="/login"})).catch((function(t){return console.error(t)}))},t.prototype.openMessage=function(t,e){var n=this;t.preventDefault(),this.mainService.getMessage(e.id).then((function(t){e.is_read=!0,e.last_read_at=n.utils.getCurrentIsoString(),n._recalculateNewMessagesCount(),n.messageModalRef=n.modalService.open(H),n.messageModalRef.componentInstance.message=n.utils.cloneDeep(t),n._handleModalClose(n.messageModalRef)})).catch((function(t){return n.toastyService.error("Error opening message: "+t.message)}))},t.prototype.recalculateRelativeTimes=function(){var t=this;this.messageListings.forEach((function(e){t.notificationRelativeTimes[e.id]=t.utils.getRelativeLocalTime(e.created_at)}))},t.prototype._recalculateNewMessagesCount=function(){this.newMessagesCount=this.messageListings.filter((function(t){return!t.is_read})).length},t.prototype._handleModalClose=function(t){var e=this;t.result.then((function(t){return null}),(function(t){t&&e.toastyService.error(t.message)}))},t=o.a([Object(i.Component)({selector:"main-component",template:n(1013),styles:[n(1014)],providers:[ut,ot.a,S.a]}),o.c("design:paramtypes",[ut,ot.a,c.b,u.c,u.a,S.a])],t)})(),mt=n(61),ht=(function(){function t(t,e,n,a,o){this.settingsService=t,this.activeModal=e,this.toastyService=n,this.toastyConfig=a,this.utils=o,this.resourceNames=[],this.selectPermissionMapping={},this.newResourceTempIdTracker=-1,this.toastyConfig.theme="bootstrap",this.permissionSelectConfig={width:"100%",placeholder:"Select permission(s) for this resource",multiple:!0,allowClear:!0,closeOnSelect:!1}}return t.prototype.ngOnInit=function(){var t=this;this.availableResourceActions.forEach((function(e){var n=e.name;e.app_name&&(n+=" - "+e.app_name),t.resourceNames.push(n)})),this.workingRole.resources.forEach((function(e){var n=t.availableResourceActions.find((function(t){return t.name===e.name&&t.app_name===e.app_name}));t.selectPermissionMapping[e.resource_id]=n.actions.map((function(t){return{id:t,text:t}}))}))},t.prototype.addResource=function(){var t=this,e=this.availableResourceActions.find((function(e){var n=t.selectedAvailableResourceActionName.split(" - ");return 1===n.length?e.name===n[0]:e.name===n[0]&&e.app_name===n[1]})),n={resource_id:this.newResourceTempIdTracker--,role_id:this.workingRole.id,name:e.name,permissions:[]};e.app_name&&(n.app_name=e.app_name),this.selectPermissionMapping[n.resource_id]=e.actions.map((function(t){return{id:t,text:t}})),this.workingRole.resources.push(n)},t.prototype.removeResource=function(t){this.workingRole.resources.splice(this.workingRole.resources.indexOf(t),1)},t.prototype.permissionSelectChange=function(t,e){e.permissions=t.value},t.prototype.submit=function(){var t=this,e=this.validate();if(e)this.toastyService.error(e);else{var n=this.utils.cloneDeep(this.workingRole);n.resources.forEach((function(t){t.resource_id<0&&delete t.resource_id})),n.id?this.settingsService.editRole(n).then((function(e){return t.activeModal.close({role:e,isEdit:!0})})).catch((function(e){return t.toastyService.error(e.message)})):this.settingsService.addRole(n).then((function(e){return t.activeModal.close({role:e,isEdit:!1})})).catch((function(e){return t.toastyService.error(e.message)}))}},t.prototype.validate=function(){return""},o.a([Object(i.Input)(),o.c("design:type",mt.a)],t.prototype,"workingRole",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"title",void 0),o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"submitText",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"availableResourceActions",void 0),t=o.a([Object(i.Component)({selector:"settings-role-modal",template:n(1017),styles:[n(155)],providers:[X.a,S.a]}),o.c("design:paramtypes",[X.a,c.a,u.c,u.a,S.a])],t)})(),gt=n(130),vt=n(107),bt=n(30),yt=n(75),wt=["string","number","boolean"],kt=(function(){function t(){this.createVariable=new i.EventEmitter,this.valueType="static",this.propertyName="",this.availableTypes=wt,this.arrayTypes=[],this.objectTypes={}}return t.prototype.ngOnChanges=function(){this.initParameterSchema(),this.initDeviceSelect(),this.initBranchCounterSelect(),this.initTypeSelector(),this.initUserSelect(),this.initRoleSelect()},t.prototype.initDeviceSelect=function(){this.isDeviceArgument&&(this.argument.name="__device__")},t.prototype.initParameterSchema=function(){if(!this.isDeviceArgument)if(this.parameterSchema=this.parameterApi.schema,null==this.argument.reference&&(this.argument.reference=""),null==this.argument.value)"array"===this.parameterSchema.type?this.argument.value=[]:"object"===this.parameterSchema.type&&(this.argument.value={});else if(this.argument.value&&"array"===this.parameterSchema.type)for(var t=0,e=this.argument.value;t<e.length;t++){var n=e[t];this.arrayTypes.push(typeof n)}else if(this.argument.value&&"object"===this.parameterSchema.type)for(var a in this.argument.value)this.argument.value.hasOwnProperty(a)&&(this.objectTypes[a]=typeof this.argument.value[a])},t.prototype.initTypeSelector=function(){var t=this;this.valueTypes=this.isDeviceArgument?[{id:"device",name:"Device"},{id:"action",name:"Action Output"}]:[{id:"static",name:"Static Value"},{id:"action",name:"Action Output"},{id:"branch",name:"Branch Counter"},{id:"variable",name:"Environment Variable"}],this.valueType="static",this.isDeviceArgument&&!this.argument.reference?this.valueType="device":this.argument.reference&&(this.loadedWorkflow.actions.find((function(e){return e.id==t.argument.reference}))?this.valueType="action":this.loadedWorkflow.branches.find((function(e){return e.id==t.argument.reference}))?this.valueType="branch":this.loadedWorkflow.environment_variables.find((function(e){return e.id==t.argument.reference}))&&(this.valueType="variable")),this.selectedType=this.availableTypes[0]},t.prototype.initUserSelect=function(){this.isUserSelect&&(this.selectData=this.users.map((function(t){return{id:t.id.toString(),text:t.username}})),this.selectConfig={width:"100%",placeholder:"Select user"},this.selectInitialValue=JSON.parse(JSON.stringify(this.argument.value)),"array"===this.parameterSchema.type&&(this.selectConfig.placeholder+="(s)",this.selectConfig.multiple=!0,this.selectConfig.allowClear=!0,this.selectConfig.closeOnSelect=!1,Array.isArray(this.argument.value)&&(this.selectInitialValue=this.argument.value.map((function(t){return t.toString()})))))},t.prototype.initRoleSelect=function(){this.isRoleSelect&&(this.selectData=this.roles.map((function(t){return{id:t.id.toString(),text:t.name}})),this.selectConfig={width:"100%",placeholder:"Select role"},this.selectInitialValue=JSON.parse(JSON.stringify(this.argument.value)),"array"===this.parameterSchema.type&&(this.selectConfig.placeholder+="(s)",this.selectConfig.multiple=!0,this.selectConfig.allowClear=!0,this.selectConfig.closeOnSelect=!1,Array.isArray(this.argument.value)&&(this.selectInitialValue=this.argument.value.map((function(t){return t.toString()})))))},t.prototype.initBranchCounterSelect=function(){this.branchCounters=this.loadedWorkflow.listBranchCounters()},t.prototype.selectChange=function(t){if(this.clearReference(),"array"===this.parameterSchema.type){var e=t.value.map((function(t){return+t}));this.argument.value=e}else this.argument.value=+t.value},t.prototype.clearReference=function(){delete this.argument.reference},t.prototype.addItem=function(){switch(this.clearReference(),this.selectedType){case"string":this.argument.value.push("");break;case"number":this.argument.value.push(null);break;case"boolean":this.argument.value.push(!1);break;default:return}this.arrayTypes.push(this.selectedType)},t.prototype.moveUp=function(t){var e=t-1,n=this.argument.value[e],a=this.arrayTypes[e];this.argument.value[e]=this.argument.value[t],this.argument.value[t]=n,this.arrayTypes[e]=this.arrayTypes[t],this.arrayTypes[t]=a},t.prototype.moveDown=function(t){var e=t+1,n=this.argument.value[e],a=this.arrayTypes[e];this.argument.value[e]=this.argument.value[t],this.argument.value[t]=n,this.arrayTypes[e]=this.arrayTypes[t],this.arrayTypes[t]=a},t.prototype.removeItem=function(t){this.argument.value.splice(t,1),this.arrayTypes.splice(t,1)},t.prototype.addProperty=function(){if(this.clearReference(),!this.argument.value.hasOwnProperty(this.propertyName)){switch(this.propertyName=this.propertyName.trim(),this.selectedType){case"string":this.argument.value[this.propertyName]="";break;case"number":this.argument.value[this.propertyName]=null;break;case"boolean":this.argument.value[this.propertyName]=!1;break;default:return}this.objectTypes[this.propertyName]=this.selectedType,this.propertyName=""}},t.prototype.removeProperty=function(t){delete this.argument.value[t],delete this.objectTypes[t]},t.prototype.trackArraysBy=function(t,e){return t},t.prototype.getPreviousActions=function(){return this.loadedWorkflow.actions},t.prototype.getMin=function(t){return void 0===t.minimum?null:t.exclusiveMinimum?t.minimum+1:t.minimum},t.prototype.getMax=function(t){return void 0===t.maximum?null:t.exclusiveMaximum?t.maximum-1:t.maximum},t.prototype.isNormalArray=function(t){if("array"!==t.type)return!1;if(Array.isArray(t.items))t.items.forEach((function(t){if("user"===t.type||"role"===t.type)return!1}));else if(t.items&&("user"===t.items.type||"role"===t.items.type))return!1;return!0},Object.defineProperty(t.prototype,"isDeviceArgument",{get:function(){return this.devices&&!this.parameterApi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUserSelect",{get:function(){return this.parameterSchema&&("user"===this.parameterSchema.type||"array"===this.parameterSchema.type&&this.parameterSchema.items&&!Array.isArray(this.parameterSchema.items)&&"user"===this.parameterSchema.items.type)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoleSelect",{get:function(){return this.parameterSchema&&("role"===this.parameterSchema.type||"array"===this.parameterSchema.type&&this.parameterSchema.items&&!Array.isArray(this.parameterSchema.items)&&"role"===this.parameterSchema.items.type)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReference",{get:function(){return-1==["static","device","branch","variable"].indexOf(this.valueType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStatic",{get:function(){return"static"==this.valueType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActionSelect",{get:function(){return"action"==this.valueType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVariableSelect",{get:function(){return"variable"==this.valueType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStringSelect",{get:function(){return this.isStatic&&this.parameterSchema&&"string"===this.parameterSchema.type&&!this.parameterSchema.enum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNumberSelect",{get:function(){return this.isStatic&&this.parameterSchema&&("number"===this.parameterSchema.type||"integer"===this.parameterSchema.type)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnumSelect",{get:function(){return this.isStatic&&this.parameterSchema&&this.parameterSchema.enum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBooleanSelect",{get:function(){return this.isStatic&&this.parameterSchema&&"boolean"===this.parameterSchema.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDeviceSelect",{get:function(){return"device"==this.valueType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBranchCounterSelect",{get:function(){return"branch"==this.valueType},enumerable:!0,configurable:!0}),t.prototype.addVariable=function(){this.createVariable.emit(this.argument)},o.a([Object(i.Input)(),o.c("design:type",Number)],t.prototype,"id",void 0),o.a([Object(i.Input)(),o.c("design:type",L.a)],t.prototype,"argument",void 0),o.a([Object(i.Input)(),o.c("design:type",yt.a)],t.prototype,"parameterApi",void 0),o.a([Object(i.Input)(),o.c("design:type",bt.a)],t.prototype,"loadedWorkflow",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"users",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"roles",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"devices",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"branchCounters",void 0),o.a([Object(i.Output)(),o.c("design:type",Object)],t.prototype,"createVariable",void 0),t=o.a([Object(i.Component)({selector:"playbook-argument-component",template:n(1018),styles:[],encapsulation:i.ViewEncapsulation.None,providers:[]}),o.c("design:paramtypes",[])],t)})(),xt=n(159),St=(function(){function t(){this.createVariable=new i.EventEmitter}return t.prototype.ngOnInit=function(){var t=this,e=this.appApis.filter((function(t){return t.condition_apis&&t.condition_apis.length}));if(!e.find((function(e){return e.name===t.selectedAppName}))){var n=e[0];n&&(this.selectedAppName=n.name)}this.appNamesWithConditions=e.map((function(t){return t.name})),this.resetConditionSelection(this.selectedAppName)},t.prototype.resetConditionSelection=function(t){var e=this.appApis.find((function(e){return e.name===t}));e.condition_apis&&e.condition_apis.length&&(this.selectedConditionApi=e.condition_apis[0].name)},t.prototype.addCondition=function(){if(this.selectedAppName&&this.selectedConditionApi){var t=new xt.a;t.app_name=this.selectedAppName,t.action_name=this.selectedConditionApi,this.conditions.push(t)}},t.prototype.moveUp=function(t){var e=t-1,n=this.conditions[e];this.conditions[e]=this.conditions[t],this.conditions[t]=n},t.prototype.moveDown=function(t){var e=t+1,n=this.conditions[e];this.conditions[e]=this.conditions[t],this.conditions[t]=n},t.prototype.removeCondition=function(t){this.conditions.splice(t,1)},t.prototype.getConditionApi=function(t,e){var n=this.appApis.find((function(e){return e.name===t})).condition_apis.find((function(t){return t.name===e}));return n.parameters=n.parameters.filter((function(t){return t.name!==n.data_in})),n},t.prototype.getOrInitializeArgument=function(t,e){var n=t.arguments.find((function(t){return t.name===e.name}));return n||(n=this.getDefaultArgument(e),t.arguments.push(n),n)},t.prototype.getDefaultArgument=function(t){return Object(y.plainToClass)(L.a,{name:t.name,value:null!=t.schema.default?t.schema.default:null,reference:"",selection:""})},t.prototype.getConditionNamesForApp=function(){var t=this;return this.appApis.find((function(e){return e.name===t.selectedAppName})).condition_apis.map((function(t){return t.name}))},t.prototype.onCreateVariable=function(t){this.createVariable.emit(t)},o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"selectedAppName",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"conditions",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"appApis",void 0),o.a([Object(i.Input)(),o.c("design:type",bt.a)],t.prototype,"loadedWorkflow",void 0),o.a([Object(i.Output)(),o.c("design:type",Object)],t.prototype,"createVariable",void 0),t=o.a([Object(i.Component)({selector:"playbook-conditions-component",template:n(1019),styles:[],encapsulation:i.ViewEncapsulation.None,providers:[]}),o.c("design:paramtypes",[])],t)})(),_t=n(160),Tt=(function(){function t(){this.createVariable=new i.EventEmitter}return t.prototype.ngOnInit=function(){var t=this,e=this.appApis.filter((function(t){return t.transform_apis&&t.transform_apis.length}));if(!e.find((function(e){return e.name===t.selectedAppName}))){var n=e[0];n&&(this.selectedAppName=n.name)}this.appNamesWithTransforms=e.map((function(t){return t.name})),this.resetTransformSelection(this.selectedAppName)},t.prototype.resetTransformSelection=function(t){var e=this.appApis.find((function(e){return e.name===t}));e.transform_apis&&e.transform_apis.length&&(this.selectedTransformApi=e.transform_apis[0].name)},t.prototype.addTransform=function(){if(this.selectedAppName&&this.selectedTransformApi){var t=new _t.a;t.app_name=this.selectedAppName,t.action_name=this.selectedTransformApi,this.transforms.push(t)}},t.prototype.moveUp=function(t){var e=t-1,n=this.transforms[e];this.transforms[e]=this.transforms[t],this.transforms[t]=n},t.prototype.moveDown=function(t){var e=t+1,n=this.transforms[e];this.transforms[e]=this.transforms[t],this.transforms[t]=n},t.prototype.removeTransform=function(t){this.transforms.splice(t,1)},t.prototype.getTransformApi=function(t,e){var n=this.appApis.find((function(e){return e.name===t})).transform_apis.find((function(t){return t.name===e}));return n.parameters=n.parameters.filter((function(t){return t.name!==n.data_in})),n},t.prototype.getOrInitializeArgument=function(t,e){var n=t.arguments.find((function(t){return t.name===e.name}));return n||(n=this.getDefaultArgument(e),t.arguments.push(n),n)},t.prototype.getDefaultArgument=function(t){return Object(y.plainToClass)(L.a,{name:t.name,value:null!=t.schema.default?t.schema.default:null,reference:"",selection:""})},t.prototype.getTransformNamesForApp=function(){var t=this;return this.appApis.find((function(e){return e.name===t.selectedAppName})).transform_apis.map((function(t){return t.name}))},t.prototype.onCreateVariable=function(t){this.createVariable.emit(t)},o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"selectedAppName",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"transforms",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"appApis",void 0),o.a([Object(i.Input)(),o.c("design:type",bt.a)],t.prototype,"loadedWorkflow",void 0),o.a([Object(i.Output)(),o.c("design:type",Object)],t.prototype,"createVariable",void 0),t=o.a([Object(i.Component)({selector:"playbook-transforms-component",template:n(1020),styles:[],encapsulation:i.ViewEncapsulation.None,providers:[]}),o.c("design:paramtypes",[])],t)})(),Ct=n(51),At=(function(){function t(){this.createVariable=new i.EventEmitter}return t.prototype.ngOnInit=function(){this.availableOperators=["and","or","xor"],this.conditionalExpression&&!this.conditionalExpression.operator&&(this.conditionalExpression.operator="and")},t.prototype.addChildExpression=function(){this.conditionalExpression.child_expressions.push(new Ct.a)},t.prototype.moveUp=function(t){var e=t-1,n=this.conditionalExpression.child_expressions[e];this.conditionalExpression.child_expressions[e]=this.conditionalExpression.child_expressions[t],this.conditionalExpression.child_expressions[t]=n},t.prototype.moveDown=function(t){var e=t+1,n=this.conditionalExpression.child_expressions[e];this.conditionalExpression.child_expressions[e]=this.conditionalExpression.child_expressions[t],this.conditionalExpression.child_expressions[t]=n},t.prototype.removeChildExpression=function(t){this.conditionalExpression.child_expressions.splice(t,1)},t.prototype.onCreateVariable=function(t){this.createVariable.emit(t)},o.a([Object(i.Input)(),o.c("design:type",String)],t.prototype,"selectedAppName",void 0),o.a([Object(i.Input)(),o.c("design:type",Ct.a)],t.prototype,"conditionalExpression",void 0),o.a([Object(i.Input)(),o.c("design:type",Array)],t.prototype,"appApis",void 0),o.a([Object(i.Input)(),o.c("design:type",bt.a)],t.prototype,"loadedWorkflow",void 0),o.a([Object(i.Output)(),o.c("design:type",Object)],t.prototype,"createVariable",void 0),t=o.a([Object(i.Component)({selector:"playbook-conditional-expression-component",template:n(1021),styles:[],encapsulation:i.ViewEncapsulation.None,providers:[]}),o.c("design:paramtypes",[])],t)})(),Et=(function(){function t(t,e,n,a,o){var i=this;this.settingsService=t,this.modalService=e,this.toastyService=n,this.toastyConfig=a,this.utils=o,this.availableResourceActions=[],this.roles=[],this.displayRoles=[],this.filterQuery=new l.FormControl,this.toastyConfig.theme="bootstrap",this.getAvailableResourceActions(),this.getRoles(),this.filterQuery.valueChanges.debounceTime(500).subscribe((function(t){return i.filterRoles()}))}return t.prototype.filterRoles=function(){var t=this.filterQuery.value?this.filterQuery.value.toLocaleLowerCase():"";this.displayRoles=this.roles.filter((function(e){return e.name.toLocaleLowerCase().includes(t)}))},t.prototype.getAvailableResourceActions=function(){var t=this;this.settingsService.getAvailableResourceActions().then((function(e){return t.availableResourceActions=e})).catch((function(e){return t.toastyService.error(e.message)}))},t.prototype.getRoles=function(){var t=this;this.settingsService.getRoles().then((function(e){return t.displayRoles=t.roles=e})).catch((function(e){return t.toastyService.error(e.message)}))},t.prototype.addRole=function(){var t=this.modalService.open(ht);t.componentInstance.title="Add New Role",t.componentInstance.submitText="Add Role",t.componentInstance.availableResourceActions=this.availableResourceActions,t.componentInstance.workingRole=new mt.a,this._handleModalClose(t)},t.prototype.editRole=function(t){var e=this.modalService.open(ht);e.componentInstance.title="Edit Role: "+t.name,e.componentInstance.submitText="Save Changes",e.componentInstance.availableResourceActions=this.availableResourceActions,e.componentInstance.workingRole=this.utils.cloneDeep(t),this._handleModalClose(e)},t.prototype.deleteRole=function(t){var e=this;confirm('Are you sure you want to delete the role "'+t.name+'"?')&&this.settingsService.deleteRole(t.id).then((function(){e.roles=e.roles.filter((function(e){return e.id!==t.id})),e.filterRoles(),e.toastyService.success('Role "'+t.name+'" successfully deleted.')})).catch((function(t){return e.toastyService.error(t.message)}))},t.prototype.getFriendlyPermissions=function(t){var e=t.resources.reduce((function(t,e){var n=e.name;return e.app_name&&(n+=" - "+e.app_name),t[n]=e.permissions,t}),{}),n=JSON.stringify(e,null,1);return n=n.replace(/[\{\}"]/g,"").trim()},t.prototype._handleModalClose=function(t){var e=this;t.result.then((function(t){if(t&&t.role)if(t.isEdit){var n=e.roles.find((function(e){return e.id===t.role.id}));Object.assign(n,t.role),e.filterRoles(),e.toastyService.success('Role "'+t.role.name+'" successfully edited.')}else e.roles.push(t.role),e.filterRoles(),e.toastyService.success('Role "'+t.role.name+'" successfully added.')}),(function(t){t&&e.toastyService.error(t.message)}))},t=o.a([Object(i.Component)({selector:"settings-roles-component",template:n(1022),styles:[n(155)],encapsulation:i.ViewEncapsulation.None,providers:[X.a]}),o.c("design:paramtypes",[X.a,c.b,u.c,u.a,S.a])],t)})(),Mt=(function(){function t(){}return t.prototype.transform=function(t,e){var n=[];for(var a in t)t.hasOwnProperty(a)&&n.push(a);return n},t=o.a([Object(i.Pipe)({name:"keys",pure:!1})],t)})(),jt=(function(){function t(){}return t=o.a([Object(i.NgModule)({imports:[s.BrowserModule,l.FormsModule,l.ReactiveFormsModule,r.HttpModule,lt,c.c.forRoot(),d.NgxDatatableModule,u.b.forRoot(),p.Select2Module,m.DateTimePickerModule,h.a.forRoot()],declarations:[ft,v.a,j,P,V,Y,K.a,at,it,rt.a,M,R,$,tt,ht,H,vt.a,gt.a,kt,St,Tt,At,Et,Mt],providers:[{provide:f.JwtHttp,useFactory:dt,deps:[r.Http,r.RequestOptions]}],entryComponents:[M,R,$,tt,ht,H,gt.a,vt.a],bootstrap:[ft]})],t)})();n(23),n(1023),n(1036),n(1037),n(1044),n(1047),n(1050),n(1056),n(1065),n(1068);document.addEventListener("DOMContentLoaded",(function(t){sessionStorage.getItem("refresh_token")?Object(a.a)().bootstrapModule(jt):location.href="/login"}))},129:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(101),o=(function(){function t(){this.fields={}}return t.prototype.toDevice=function(){var t=this,e=new a.a;return e.id=this.id,e.name=this.name,e.description=this.description,e.app_name=this.app_name,e.type=this.type,e.fields=[],Object.keys(this.fields).forEach((function(n){e.fields.push({name:n,value:t.fields[n]})})),e},t})()},130:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n(1),o=n(0),i=n(10),r=n(30),s=n(89),l=(function(){function t(t){this.activeModal=t}return t.prototype.execute=function(t){var e=[];this.workflow.referenced_variables.forEach((function(n){if(t.value[n.id]&&""!=t.value[n.id]){var a=new s.a;a.id=n.id,a.value=t.value[n.id],e.push(a)}})),this.activeModal.close(e)},a.a([Object(o.Input)(),a.c("design:type",r.a)],t.prototype,"workflow",void 0),t=a.a([Object(o.Component)({selector:"execution-variable-modal-component",template:n(1008)}),a.c("design:paramtypes",[i.a])],t)})()},155:function(t,e,n){var a=n(1001);t.exports="string"==typeof a?a:a.toString()},158:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return R}));var a=n(1),o=n(0),i=n(6),r=n(47),s=n(100),l=n(96),c=n(486),d=n(3),u=n(10),p=n(76),f=n(487),m=n(488),h=n(489),g=n(490),v=n(491),b=n(213),y=n(52),w=n(8),k=n(60),x=n(90),S=n(37),_=n(40),T=n(30),C=n(167),A=n(161),E=n(24),M=n(51),j=n(163),O=n(492),I=n(107),R=(function(){function e(t,e,n,a,o,i,r){this.playbookService=t,this.authService=e,this.toastyService=n,this.toastyConfig=a,this.cdr=o,this.utils=i,this.modalService=r,this.devices=[],this.relevantDevices=[],this.playbooks=[],this.appApis=[],this.offset={x:-330,y:-170},this.actionStatuses=[],this.consoleLog=[],this.waitingOnData=!1,this.actionStatusStartedRelativeTimes={},this.actionStatusCompletedRelativeTimes={},this.modalParams={title:"",submitText:"",shouldShowPlaybook:!1,shouldShowExistingPlaybooks:!1,selectedPlaybookId:"",newPlaybook:"",shouldShowWorkflow:!1,newWorkflow:"",submit:function(){return null}}}return e.prototype.ngOnInit=function(){var e=this;this.toastyConfig.theme="bootstrap";var n=p();n.clipboard||f(p,t),n.edgehandles||p.use(m),n.gridGuide||p.use(h),n.panzoom||p.use(g),n.undoRedo||p.use(v),this.playbookService.getDevices().then((function(t){return e.devices=t})),this.playbookService.getApis().then((function(t){return e.appApis=t.sort((function(t,e){return t.name>e.name?1:-1}))})),this.getPlaybooksWithWorkflows(),this._addCytoscapeEventBindings(),l.Observable.interval(3e4).subscribe((function(){e.recalculateRelativeTimes()})),this.recalculateConsoleTableCallback=function(t){return e.recalculateConsoleTable(t)},t(document).on("shown.bs.tab",'a[data-toggle="tab"]',this.recalculateConsoleTableCallback)},e.prototype.ngAfterViewChecked=function(){this.workflowResultsTable&&this.workflowResultsTable.recalculate&&this.workflowResultsContainer.nativeElement.clientWidth!==this.executionResultsComponentWidth&&(this.executionResultsComponentWidth=this.workflowResultsContainer.nativeElement.clientWidth,this.workflowResultsTable.recalculate(),this.cdr.detectChanges())},e.prototype.ngOnDestroy=function(){this.eventSource&&this.eventSource.close&&this.eventSource.close(),this.consoleEventSource&&this.consoleEventSource.close&&this.consoleEventSource.close(),this.recalculateConsoleTableCallback&&t(document).off("shown.bs.tab",'a[data-toggle="tab"]',this.recalculateConsoleTableCallback)},e.prototype.getConsoleSSE=function(t){var e=this;this.consoleEventSource&&this.consoleEventSource.close(),this.authService.getAccessTokenRefreshed().then((function(n){var a="api/streams/console/log?access_token="+n+"&workflow_execution_id="+t;e.consoleEventSource=new window.EventSource(a),e.consoleEventSource.addEventListener("log",(function(t){return e.consoleEventHandler(t)})),e.consoleEventSource.onerror=function(t){console.error(t)}}))},e.prototype.consoleEventHandler=function(t){var e=Object(d.plainToClass)(O.a,JSON.parse(t.data)).toNewConsoleLog();this.consoleLog.push(e),this.consoleLog=this.consoleLog.slice()},e.prototype.getActionStatusSSE=function(t){var e=this;this.eventSource&&this.eventSource.close(),this.authService.getAccessTokenRefreshed().then((function(n){var a="api/streams/workflowqueue/actions?access_token="+n+"&workflow_execution_id="+t;e.eventSource=new window.EventSource(a),e.eventSource.addEventListener("started",(function(t){return e.actionStatusEventHandler(t)})),e.eventSource.addEventListener("success",(function(t){return e.actionStatusEventHandler(t)})),e.eventSource.addEventListener("failure",(function(t){return e.actionStatusEventHandler(t)})),e.eventSource.addEventListener("awaiting_data",(function(t){return e.actionStatusEventHandler(t)})),e.eventSource.onerror=function(t){console.error(t)}}))},e.prototype.actionStatusEventHandler=function(t){var e=Object(d.plainToClass)(j.a,JSON.parse(t.data));if(this.cy){var n=this.cy.elements('node[_id="'+e.action_id+'"]');if(n)switch(e.status){case"success":n.addClass("success-highlight"),n.removeClass("failure-highlight"),n.removeClass("executing-highlight"),n.removeClass("awaiting-data-highlight");break;case"failure":n.removeClass("success-highlight"),n.addClass("failure-highlight"),n.removeClass("executing-highlight"),n.removeClass("awaiting-data-highlight");break;case"executing":n.removeClass("success-highlight"),n.removeClass("failure-highlight"),n.addClass("executing-highlight"),n.removeClass("awaiting-data-highlight");break;case"awaiting_data":n.removeClass("success-highlight"),n.removeClass("failure-highlight"),n.removeClass("executing-highlight"),n.addClass("awaiting-data-highlight")}}var a=this.actionStatuses.find((function(t){return t.execution_id===e.execution_id}));if(a){switch(a.status=e.status,t.type){case"started":a.started_at=e.timestamp;break;case"success":case"failure":a.completed_at=e.timestamp,a.result=e.result;break;case"awaiting_data":break;default:this.toastyService.warning("Unknown Action Status SSE Type: "+t.type+".")}this.recalculateRelativeTimes(a),this.calculateLocalizedTimes(a)}else{var o=e.toNewActionStatus();this.calculateLocalizedTimes(o),this.actionStatuses.push(o)}this.actionStatuses=this.actionStatuses.slice()},e.prototype.executeWorkflow=function(){var t=this;this.loadedWorkflow&&(this.clearExecutionHighlighting(),this.playbookService.addWorkflowToQueue(this.loadedWorkflow.id).then((function(e){t.getActionStatusSSE(e.id),t.getConsoleSSE(e.id),t.toastyService.success("Starting execution of "+t.loadedPlaybook.name+" - "+t.loadedWorkflow.name+".")})).catch((function(e){return t.toastyService.error("Error starting execution of "+t.loadedPlaybook.name+" - "+t.loadedWorkflow.name+": "+e.message)})))},e.prototype.loadWorkflow=function(t,e){var n=this;this.closeWorkflow(),t.id&&e.id?this.playbookService.loadWorkflow(e.id).then((function(e){n.loadedPlaybook=t,n.loadedWorkflow=e,n.setupGraph(),n._closeWorkflowsModal()})).catch((function(a){return n.toastyService.error('Error loading workflow "'+t.name+" - "+e.name+'": '+a.message)})):(this.loadedPlaybook=t,this.loadedWorkflow=e,this.setupGraph())},e.prototype.setupGraph=function(){var t=this;this.loadedWorkflow.actions||(this.loadedWorkflow.actions=[]),this.loadedWorkflow.actions.forEach((function(t){t.arguments.forEach((function(t){t.selection&&Array.isArray(t.selection)&&(t.selection=t.selection.join("."))}))})),this.cy=p({container:document.getElementById("cy"),boxSelectionEnabled:!1,autounselectify:!1,wheelSensitivity:.1,layout:{name:"preset"},style:[{selector:"node",css:{content:"data(label)","text-valign":"center","text-halign":"center",shape:"roundrectangle","background-color":"#bbb","selection-box-color":"red","font-family":"Segoe UI, Tahoma, Geneva, Verdana, sans-serif, sans-serif","font-weight":"lighter","font-size":"15px",width:"label",height:"label",padding:"10px"}},{selector:'node[type="action"]',css:{"background-color":"#bbb"}},{selector:'node[type="eventAction"]',css:{shape:"star","background-color":"#edbd21"}},{selector:"node[?isStartNode]",css:{"border-width":"3px","border-color":"#991818"}},{selector:"node[?hasErrors]",css:{color:"#991818","font-style":"italic"}},{selector:"node:selected",css:{"background-color":"#77b0d0"}},{selector:".success-highlight",css:{"background-color":"#399645","transition-property":"background-color","transition-duration":"0.5s"}},{selector:".failure-highlight",css:{"background-color":"#8e3530","transition-property":"background-color","transition-duration":"0.5s"}},{selector:".executing-highlight",css:{"background-color":"#ffef47","transition-property":"background-color","transition-duration":"0.5s"}},{selector:".awaiting-data-highlight",css:{"background-color":"#f4ad42","transition-property":"background-color","transition-duration":"0.5s"}},{selector:"$node > node",css:{"padding-top":"10px","padding-left":"10px","padding-bottom":"10px","padding-right":"10px","text-valign":"top","text-halign":"center"}},{selector:"edge",css:{"target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:"edge[?hasErrors]",css:{"target-arrow-color":"#991818","line-color":"#991818","line-style":"dashed"}},{selector:".eh-handle",style:{"background-color":"#337ab7",width:"1",height:"1",shape:"ellipse","overlay-opacity":"0"}},{selector:".eh-source",style:{"border-width":"3","border-color":"#337ab7"}},{selector:".eh-target",style:{"border-width":"3","border-color":"#337ab7"}},{selector:".eh-preview, .eh-ghost-edge",style:{"background-color":"#337ab7","line-color":"#337ab7","target-arrow-color":"#337ab7","source-arrow-color":"#337ab7"}}]}),this.ur=this.cy.undoRedo({}),this.cy.panzoom({}),this.cy.edgehandles({preview:!1,toggleOffOnLeave:!0,complete:function(e,n,a){t.loadedWorkflow.branches||(t.loadedWorkflow.branches=[]);for(var o=function(o){var i=s.UUID.UUID(),r=e.data("_id"),l=n[o].data("_id");if(a[o].data({_id:i,temp:!0}),t.loadedWorkflow.branches.find((function(t){return t.source_id===r&&t.destination_id===l})))return t.cy.remove(a),{value:void 0};var c=t.loadedWorkflow.actions.find((function(t){return t.id===r})),d=t._getAction(c.app_name,c.action_name),u="";d.default_return?u=d.default_return:d.returns.length&&(u=d.returns[0].status);var p=new A.a;p.id=i,p.source_id=r,p.destination_id=l,p.status=u,p.priority=1,t.loadedWorkflow.branches.push(p)},i=0;i<n.length;i++){var r=o(i);if("object"==typeof r)return r.value}t.cy.remove(a),a.forEach((function(t){return t.data("temp",!1)})),t.ur.do("add",a)}}),this.cy.clipboard(),this.cy.gridGuide({snapToGridDuringDrag:!0,zoomDash:!0,panGrid:!0,centerToEdgeAlignment:!0,distributionGuidelines:!0,geometricGuideline:!0,guidelinesStackOrder:4,guidelinesTolerance:2,guidelinesStyle:{strokeStyle:"#8b7d6b",geometricGuidelineRange:400,range:100,minDistRange:10,distGuidelineOffset:10,horizontalDistColor:"#ff0000",verticalDistColor:"#00ff00",initPosAlignmentColor:"#0000ff",lineDash:[0,0],horizontalDistLine:[0,0],verticalDistLine:[0,0],initPosAlignmentLine:[0,0]}});var e=this.loadedWorkflow.branches.map((function(t){var e={group:"edges"};return e.data={id:t.id,_id:t.id,source:t.source_id,target:t.destination_id,hasErrors:t.has_errors},e})),n=this.loadedWorkflow.actions.map((function(e){var n={group:"nodes",position:t.utils.cloneDeep(e.position)};return n.data={id:e.id,_id:e.id,label:e.name,isStartNode:e.id===t.loadedWorkflow.start,hasErrors:e.has_errors},t._setNodeDisplayProperties(n,e),n}));this.cy.add(n.concat(e)),this.cy.fit(null,50),this.setStartNode(this.loadedWorkflow.start),this.cy.on("select","node",(function(e){return t.onNodeSelect(e)})),this.cy.on("select","edge",(function(e){return t.onEdgeSelect(e)})),this.cy.on("unselect",(function(e){return t.onUnselect(e)})),this.cy.on("add","node",(function(e){return t.onNodeAdded(e)})),this.cy.on("remove","node",(function(e){return t.onNodeRemoved(e)})),this.cy.on("remove","edge",(function(e){return t.onEdgeRemove(e)}))},e.prototype.closeWorkflow=function(){this.loadedPlaybook=null,this.loadedWorkflow=null,this.selectedBranchParams=null,this.selectedAction=null},e.prototype.save=function(){this.saveWorkflow(this.cy.elements().jsons())},e.prototype.saveWorkflow=function(t){var e=this;this.cy.$(":selected").unselect();var n=Object(d.classToClass)(this.loadedWorkflow);if(n.start){var a;if(n.actions.forEach((function(n){n.position=t.find((function(t){return t.data._id===n.id})).position,n.device_id.hasInput()?n.device_id.sanitize():delete n.device_id,e._sanitizeArgumentsForSave(n.arguments),e._sanitizeExpressionAndChildren(n.trigger)})),n.branches.forEach((function(t){e._sanitizeExpressionAndChildren(t.condition)})),this.loadedPlaybook.id)a=this.loadedWorkflow.id?this.playbookService.saveWorkflow(n):this.playbookService.newWorkflow(this.loadedPlaybook.id,n);else{var o=Object(d.classToClass)(this.loadedPlaybook);o.workflows=[n],a=this.playbookService.newPlaybook(o).then((function(t){return e.loadedPlaybook=t,e.playbooks.push(t),e.playbooks.sort((function(t,e){return t.name>e.name?1:-1})),t.workflows[0]}))}a.then((function(t){e.loadedPlaybook.workflows.find((function(e){return e.id===t.id}))||(e.loadedPlaybook.workflows.push(t),e.loadedPlaybook.workflows.sort((function(t,e){return t.name>e.name?1:-1}))),e.loadedWorkflow=t,e.setupGraph(),e.toastyService.success("Successfully saved workflow "+e.loadedPlaybook.name+" - "+n.name+".")})).catch((function(t){return e.toastyService.error("Error saving workflow "+e.loadedPlaybook.name+" - "+n.name+": "+t.message)}))}else this.toastyService.warning("Workflow cannot be saved without a starting action.")},e.prototype.getPlaybooksWithWorkflows=function(){var t=this;this.playbookService.getPlaybooks().then((function(e){return t.playbooks=e}))},e.prototype._sanitizeExpressionAndChildren=function(t){var e=this;t&&(t.conditions&&t.conditions.length&&t.conditions.forEach((function(t){e._sanitizeArgumentsForSave(t.arguments),t.transforms.forEach((function(t){e._sanitizeArgumentsForSave(t.arguments)}))})),t.child_expressions&&t.child_expressions.length&&t.child_expressions.forEach((function(t){t.conditions.forEach((function(t){e._sanitizeArgumentsForSave(t.arguments),t.transforms.forEach((function(t){e._sanitizeArgumentsForSave(t.arguments)}))})),e._sanitizeExpressionAndChildren(t)})))},e.prototype._sanitizeArgumentsForSave=function(t){for(var e=[],n=0,a=t;n<a.length;n++){var o=a[n];"string"==typeof o.value&&(o.value=o.value.trim()),null!=o.value&&""!==o.value||""!==o.reference||e.unshift(t.indexOf(o)),o.reference&&void 0!==o.value&&delete o.value,""===o.reference&&delete o.reference,delete o.errors}for(var i=0,r=e;i<r.length;i++){var s=r[i];t.splice(s,1)}t.forEach((function(t){if(t.reference){if(null==t.selection)t.selection=[];else if("string"==typeof t.selection)if(t.selection=t.selection.trim(),t.selection=t.selection.split("."),""===t.selection[0])t.selection=[];else for(var e=0;e<t.selection.length;e++)isNaN(t.selection[e])||(t.selection[e]=+t.selection[e])}else delete t.selection}))},e.prototype.specifyTrigger=function(t){t.trigger||(t.trigger=new M.a)},e.prototype.removeTrigger=function(t){delete t.trigger},e.prototype.specifyCondition=function(t){t.condition||(t.condition=new M.a)},e.prototype.removeCondition=function(t){delete t.condition},e.prototype.exportPlaybook=function(t,e){var n=this;t.stopPropagation(),this.playbookService.exportPlaybook(e.id).subscribe((function(t){Object(c.saveAs)(t,e.name+".playbook")}),(function(t){return n.toastyService.error('Error exporting playbook "'+e.name+'": '+t.message)}))},e.prototype.onImportSelectChange=function(t){this.playbookToImport=t.srcElement.files[0]},e.prototype.importPlaybook=function(){var t=this;this.playbookToImport&&this.playbookService.importPlaybook(this.playbookToImport).subscribe((function(e){t.playbooks.push(e),t.playbooks.sort((function(t,e){return t.name>e.name?1:-1})),t.toastyService.success('Successfuly imported playbook "'+t.playbookToImport.name+'".'),t.playbookToImport=null,t.importFile.nativeElement.value=""}),(function(e){return t.toastyService.error('Error importing playbook "'+t.playbookToImport.name+'": '+e.message)}))},e.prototype.onNodeSelect=function(t){var e=this;this.selectedBranchParams=null;var n=t.target.data();this.cy.elements('[_id!="'+n._id+'"]').unselect();var a=this.loadedWorkflow.actions.find((function(t){return t.id===n._id}));if(a){var o=this._getAction(a.app_name,a.action_name),i=[];!this.users&&(o.parameters.findIndex((function(t){return"user"===t.schema.type}))>-1||o.parameters.findIndex((function(t){return t.schema.items&&"user"===t.schema.items.type}))>-1)&&(this.waitingOnData=!0,i.push(this.playbookService.getUsers().then((function(t){return e.users=t})))),!this.roles&&(o.parameters.findIndex((function(t){return"role"===t.schema.type}))>-1||o.parameters.findIndex((function(t){return t.schema.items&&"role"===t.schema.items.type}))>-1)&&(this.waitingOnData=!0,i.push(this.playbookService.getRoles().then((function(t){return e.roles=t})))),i.length&&Promise.all(i).then((function(){e.waitingOnData=!1})).catch((function(t){e.waitingOnData=!1,e.toastyService.error("Error grabbing users or roles: "+t.message)})),this.selectedAction=a,this.selectedActionApi=o,this.relevantDevices=this.devices.filter((function(t){return t.app_name===e.selectedAction.app_name}))}},e.prototype.onEdgeSelect=function(t){this.selectedAction=null,this.selectedBranchParams=null;var e=t.target.data("_id");this.cy.elements('[_id!="'+e+'"]').unselect();var n=this.loadedWorkflow.branches.find((function(t){return t.id===e})),a=this.loadedWorkflow.actions.find((function(t){return t.id===n.source_id}));this.selectedBranchParams={branch:n,returnTypes:this._getAction(a.app_name,a.action_name).returns,appName:a.app_name,actionName:a.action_name}},e.prototype.onUnselect=function(t){this.selectedAction&&this.cy.elements('node[_id="'+this.selectedAction.id+'"]').data("label",this.selectedAction.name),this.cy.$(":selected").length||(this.selectedAction=null,this.selectedBranchParams=null)},e.prototype.onEdgeRemove=function(t){var e=t.target.data();if(e&&!e.temp){var n=e.source,a=e.target;this.loadedWorkflow.branches=this.loadedWorkflow.branches.filter((function(t){return!(t.source_id===n&&t.destination_id===a)}))}},e.prototype.onNodeAdded=function(t){var e=t.target;e.isNode()&&1===this.cy.nodes().size()&&this.setStartNode(e.data("_id"))},e.prototype.onNodeRemoved=function(t){var e=t.target,n=e.data();n&&e.isNode()&&this.loadedWorkflow.start===n._id&&this.setStartNode(null),this.selectedAction&&this.selectedAction.id===n._id&&(this.selectedAction=null),this.loadedWorkflow.actions=this.loadedWorkflow.actions.filter((function(t){return t.id!==n._id})),this.loadedWorkflow.branches=this.loadedWorkflow.branches.filter((function(t){return!(t.source_id===n._id||t.destination_id===n._id)}))},e.prototype.handleDropEvent=function(t){if(null!==this.cy){var e=t.dragData.appName,n=t.dragData.actionApi,a={x:t.mouseEvent.layerX,y:t.mouseEvent.layerY};this.insertNode(e,n.name,a,!0)}},e.prototype.handleDoubleClickEvent=function(t,e){if(null!==this.cy){var n=this.cy.extent(),a={x:this.avg(n.x1,n.x2),y:this.avg(n.y1,n.y2)};this.insertNode(t,e,a,!1)}},e.prototype.avg=function(t,e){return(t+e)/2},e.prototype.insertNode=function(t,e,n,a){var o,i=this,r=s.UUID.UUID(),l=[],c=this._getAction(t,e).parameters;c&&c.length&&this._getAction(t,e).parameters.forEach((function(t){l.push(i.getDefaultArgument(t))}));var d=0;this.loadedWorkflow.actions.forEach((function(t){return t.action_name===e?d++:null}));var u=d?e+" "+(d+1):e;t&&e&&(o=new C.a),o.id=r,o.name=u,o.app_name=t,o.action_name=e,o.arguments=l,this.loadedWorkflow.actions.push(o);var p={group:"nodes",data:{id:r,_id:r,label:u},renderedPosition:null,position:null};this._setNodeDisplayProperties(p,o),a?p.renderedPosition=n:p.position=n,this.ur.do("add",p)},e.prototype.copy=function(){this.cy.clipboard().copy(this.cy.$(":selected"))},e.prototype.paste=function(){var t=this;this.ur.do("paste").forEach((function(e){var n=Object(d.classToClass)(t.loadedWorkflow.actions.find((function(t){return t.id===e.data("_id")}))),a=s.UUID.UUID();n.id=a,n.arguments.forEach((function(t){return delete t.id})),e.data({id:a,_id:a,isStartNode:!1}),t.loadedWorkflow.actions.push(n)}))},e.prototype._setNodeDisplayProperties=function(t,e){this._getAction(e.app_name,e.action_name).event?t.type="eventAction":t.type="action"},e.prototype.clearExecutionResults=function(){this.clearExecutionHighlighting(),this.consoleLog=[],this.actionStatuses=[]},e.prototype.clearExecutionHighlighting=function(){this.cy.elements().removeClass("success-highlight failure-highlight executing-highlight")},e.prototype.setStartNode=function(t){if(t)this.loadedWorkflow.start=t;else{var e=this.cy.nodes().roots();e.size()>0&&(this.loadedWorkflow.start=e[0].data("_id"))}this.cy.elements("node[?isStartNode]").data("isStartNode",!1),this.cy.elements('node[_id="'+t+'"]').data("isStartNode",!0)},e.prototype.removeSelectedNodes=function(){var t=this.cy.$(":selected");this.cy.elements(":selected").unselect(),t.length>0&&this.ur.do("remove",t)},e.prototype._addCytoscapeEventBindings=function(){var t=this;document.addEventListener("keydown",(function(e){var n=document.activeElement.tagName;"BODY"!==n&&"BUTTON"!==n||null!==t.cy&&(46===e.which?t.removeSelectedNodes():e.ctrlKey&&(67===e.which?t.copy():86===e.which&&t.paste()))}))},e.prototype.renamePlaybookModal=function(t,e){var n=this;t.stopPropagation(),this._closeWorkflowsModal(),this.modalParams={title:"Rename Existing Playbook",submitText:"Rename Playbook",shouldShowPlaybook:!0,submit:function(){n.playbookService.renamePlaybook(e.id,n.modalParams.newPlaybook).then((function(t){n.playbooks.find((function(e){return e.id===t.id})).name=t.name,n.playbooks.sort((function(t,e){return t.name>e.name?1:-1})),n.toastyService.success('Successfully renamed playbook "'+t.name+'".'),n._closeModal()})).catch((function(t){return n.toastyService.error('Error renaming playbook "'+n.modalParams.newPlaybook+'": '+t.message)}))}},this._openModal()},e.prototype.duplicatePlaybookModal=function(t,e){var n=this;t.stopPropagation(),this._closeWorkflowsModal(),this.modalParams={title:"Duplicate Existing Playbook",submitText:"Duplicate Playbook",shouldShowPlaybook:!0,submit:function(){n.playbookService.duplicatePlaybook(e.id,n.modalParams.newPlaybook).then((function(t){n.playbooks.push(t),n.playbooks.sort((function(t,e){return t.name>e.name?1:-1})),n.toastyService.success('Successfully duplicated playbook "'+e.name+'" as "'+t.name+'".'),n._closeModal()})).catch((function(t){return n.toastyService.error('Error duplicating playbook "'+n.modalParams.newPlaybook+'": '+t.message)}))}},this._openModal()},e.prototype.deletePlaybook=function(t,e){var n=this;t.stopPropagation(),confirm('Are you sure you want to delete playbook "'+e.name+'"?')&&this.playbookService.deletePlaybook(e.id).then((function(){n.playbooks=n.playbooks.filter((function(t){return t.id!==e.id})),n.loadedPlaybook&&e.id===n.loadedPlaybook.id&&n.closeWorkflow(),n.toastyService.success('Successfully deleted playbook "'+e.name+'".')})).catch((function(t){return n.toastyService.error('Error deleting playbook "'+e.name+'": '+t.message)}))},e.prototype.newWorkflowModal=function(){var t=this;this.loadedWorkflow&&!confirm('Are you sure you want to create a new workflow? Any unsaved changes on "'+this.loadedWorkflow.name+'" will be lost!')||(this.modalParams={title:"Create New Workflow",submitText:"Add Workflow",shouldShowExistingPlaybooks:!0,shouldShowPlaybook:!0,shouldShowWorkflow:!0,submit:function(){var e=new T.a;e.name=t.modalParams.newWorkflow;var n=t.playbooks.find((function(e){return e.id===t.modalParams.selectedPlaybookId}));n||((n=new _.a).name=t.modalParams.newPlaybook,n.workflows.push(e)),t.loadWorkflow(n,e),t._closeModal()}},this._openModal())},e.prototype.duplicateWorkflowModal=function(t,e){var n=this;this._closeWorkflowsModal(),this.modalParams={title:"Duplicate Existing Workflow",submitText:"Duplicate Workflow",shouldShowPlaybook:!0,shouldShowExistingPlaybooks:!0,selectedPlaybookId:t,shouldShowWorkflow:!0,submit:function(){var t,a,o=n.playbooks.find((function(t){return t.id===n.modalParams.selectedPlaybookId}));if(o||(t=n.modalParams.newPlaybook),t){var i=new _.a;i.name=t,a=n.playbookService.newPlaybook(i).then((function(t){n.playbooks.push(t),n.playbooks.sort((function(t,e){return t.name>e.name?1:-1})),o=t,n.modalParams.selectedPlaybookId=t.id}))}else a=Promise.resolve();a.then((function(){return n.playbookService.duplicateWorkflow(e,o.id,n.modalParams.newWorkflow)})).then((function(t){o.workflows.push(t),o.workflows.sort((function(t,e){return t.name>e.name?1:-1})),n.toastyService.success('Successfully duplicated workflow "'+o.name+" - "+n.modalParams.newWorkflow+'".'),n._closeModal()})).catch((function(t){return n.toastyService.error('Error duplicating workflow "'+o.name+" - "+n.modalParams.newWorkflow+'": '+t.message)}))}},this._openModal()},e.prototype.deleteWorkflow=function(t,e){var n=this;confirm('Are you sure you want to delete workflow "'+t.name+" - "+e.name+'"?')&&this.playbookService.deleteWorkflow(e.id).then((function(){var a=n.playbooks.find((function(e){return e.id===t.id}));a.workflows=a.workflows.filter((function(t){return t.id!==e.id})),a.workflows.length||(n.playbooks=n.playbooks.filter((function(t){return t.id!==a.id}))),n.loadedPlaybook&&n.loadedWorkflow&&t.id===n.loadedPlaybook.id&&e.id===n.loadedWorkflow.id&&n.closeWorkflow(),n.toastyService.success('Successfully deleted workflow "'+t.name+" - "+e.name+'".')})).catch((function(a){return n.toastyService.error('Error deleting workflow "'+t.name+" - "+e.name+'": '+a.message)}))},e.prototype._openModal=function(){t("#playbookAndWorkflowActionModal").modal("show")},e.prototype._closeModal=function(){t("#playbookAndWorkflowActionModal").modal("hide")},e.prototype._closeWorkflowsModal=function(){t("#workflowsModal").modal("hide")},e.prototype.getPreviousActions=function(){return this.loadedWorkflow.actions},e.prototype._getAction=function(t,e){return this.appApis.find((function(e){return e.name===t})).action_apis.find((function(t){return t.name===e}))},e.prototype.getOrInitializeSelectedActionArgument=function(t){var e=this.selectedAction.arguments.find((function(e){return e.name===t.name}));return e||(e=this.getDefaultArgument(t),this.selectedAction.arguments.push(e),e)},e.prototype.getDefaultArgument=function(t){return Object(d.plainToClass)(E.a,{name:t.name,value:null!=t.schema.default?t.schema.default:null,reference:"",selection:""})},e.prototype.getConditionApis=function(t){return this.appApis.find((function(e){return e.name===t})).condition_apis},e.prototype.getTransformApis=function(t){return this.appApis.find((function(e){return e.name===t})).transform_apis},e.prototype.getDeviceApis=function(t){return this.appApis.find((function(e){return e.name===t})).device_apis},e.prototype.getInputApiArgs=function(t,e,n){return this._getAction(t,e).parameters.find((function(t){return t.name===n}))},e.prototype.getAppsWithActions=function(){return this.appApis.filter((function(t){return t.action_apis&&t.action_apis.length}))},e.prototype.getFriendlyJSON=function(t){if(!t)return"N/A";var e=JSON.stringify(t,null,1);return(e=e.replace(/[\{\[\}\]"]/g,"").trim())||"N/A"},e.prototype.getFriendlyArguments=function(t){if(!t||!t.length)return"N/A";var e={};t.forEach((function(t){if(t.value&&(e[t.name]=t.value),t.reference&&(e[t.name]=t.reference.toString()),t.selection&&t.selection.length){var n=t.selection.join(".");e[t.name]=e[t.name]+" ("+n+")"}}));var n=JSON.stringify(e,null,1);return n=n.replace(/[\{\}"]/g,"")},e.prototype.removeWhitespace=function(t){return t.replace(/\s/g,"")},e.prototype.recalculateRelativeTimes=function(t){var e,n=this;(e=t?[t]:this.actionStatuses)&&e.length&&e.forEach((function(t){t.started_at&&(n.actionStatusStartedRelativeTimes[t.execution_id]=n.utils.getRelativeLocalTime(t.started_at)),t.completed_at&&(n.actionStatusCompletedRelativeTimes[t.execution_id]=n.utils.getRelativeLocalTime(t.completed_at))}))},e.prototype.calculateLocalizedTimes=function(t){t.started_at&&(t.localized_started_at=this.utils.getLocalTime(t.started_at)),t.completed_at&&(t.localized_completed_at=this.utils.getLocalTime(t.completed_at))},e.prototype.getErrors=function(){return this.loadedWorkflow?this.loadedWorkflow.all_errors.map((function(t){return{error:t}})):[]},e.prototype.recalculateConsoleTable=function(t){var e;switch(t.target.getAttribute("href")){case"#console":e=this.consoleTable;break;case"#executionLog":e=this.workflowResultsTable;break;case"#errorLog":e=this.errorLogTable;break;case"#environmentVariableLogA":e=this.environmentVariableTableA;break;case"#environmentVariableLogB":e=this.environmentVariableTableB}e&&e.recalculate&&(this.cdr.detectChanges(),Array.isArray(e.rows)&&(e.rows=e.rows.slice()),e.recalculate())},e.prototype.getVariables=function(){return this.loadedWorkflow?this.loadedWorkflow.environment_variables:[]},e.prototype.deleteVariable=function(e){this.loadedWorkflow.deleteVariable(e),0==this.loadedWorkflow.environment_variables.length&&t('.nav-tabs a[href="#console"], a[href="#errorLog"]').tab("show")},e.prototype.editVariableModal=function(t){var e=this,n=this.modalService.open(I.a);n.componentInstance.existing=!0,n.componentInstance.variable=t,n.result.then((function(t){e.loadedWorkflow.environment_variables=e.loadedWorkflow.environment_variables.slice()})).catch((function(){return null}))},e.prototype.onCreateVariable=function(t){var e=this;this.modalService.open(I.a).result.then((function(n){e.loadedWorkflow.environment_variables.push(n),e.loadedWorkflow.environment_variables=e.loadedWorkflow.environment_variables.slice(),t.reference=n.id})).catch((function(){return t.reference=""}))},e.prototype.search_for_actions=function(t){var e;e=t.target.value;this.apps_actions.nativeElement.querySelectorAll(".panel-title");var n=this.apps_actions.nativeElement.querySelectorAll(".panel-body");if(this.apps_actions.nativeElement.querySelectorAll(".panel").forEach((function(t){t.style.display="block"})),""!=e.trim())for(var a=0,o=n;a<o.length;a++){var i=o[a];i.textContent.toLowerCase().includes(e.toLowerCase().trim())?(i.closest(".panel").closest(".panel").style.display="block",i.closest(".panel").closest(".panel:not(.actionPanel)").style.display="block"):i.closest(".panel").style.display="none"}},a.a([Object(o.ViewChild)("cyRef"),a.c("design:type",o.ElementRef)],e.prototype,"cyRef",void 0),a.a([Object(o.ViewChild)("workflowResultsContainer"),a.c("design:type",o.ElementRef)],e.prototype,"workflowResultsContainer",void 0),a.a([Object(o.ViewChild)("workflowResultsTable"),a.c("design:type",r.DatatableComponent)],e.prototype,"workflowResultsTable",void 0),a.a([Object(o.ViewChild)("consoleContainer"),a.c("design:type",o.ElementRef)],e.prototype,"consoleContainer",void 0),a.a([Object(o.ViewChild)("consoleTable"),a.c("design:type",r.DatatableComponent)],e.prototype,"consoleTable",void 0),a.a([Object(o.ViewChild)("errorLogContainer"),a.c("design:type",o.ElementRef)],e.prototype,"errorLogContainer",void 0),a.a([Object(o.ViewChild)("errorLogTable"),a.c("design:type",r.DatatableComponent)],e.prototype,"errorLogTable",void 0),a.a([Object(o.ViewChild)("environmentVariableContainerA"),a.c("design:type",o.ElementRef)],e.prototype,"environmentVariableContainerA",void 0),a.a([Object(o.ViewChild)("environmentVariableTableA"),a.c("design:type",r.DatatableComponent)],e.prototype,"environmentVariableTableA",void 0),a.a([Object(o.ViewChild)("environmentVariableContainerB"),a.c("design:type",o.ElementRef)],e.prototype,"environmentVariableContainerB",void 0),a.a([Object(o.ViewChild)("environmentVariableTableB"),a.c("design:type",r.DatatableComponent)],e.prototype,"environmentVariableTableB",void 0),a.a([Object(o.ViewChild)("importFile"),a.c("design:type",o.ElementRef)],e.prototype,"importFile",void 0),a.a([Object(o.ViewChild)("accordion"),a.c("design:type",o.ElementRef)],e.prototype,"apps_actions",void 0),e=a.a([Object(o.Component)({selector:"playbook-component",template:n(962),styles:[n(963),n(967),n(970)],encapsulation:o.ViewEncapsulation.None,providers:[b.a,y.a,k.a,S.a,x.a]}),a.c("design:paramtypes",[b.a,y.a,i.c,i.a,o.ChangeDetectorRef,w.a,u.b])],e)})()}).call(this,n(23))},159:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(1),o=n(3),i=n(160),r=n(24),s=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arguments=[],e.transforms=[],e}return a.b(e,t),Object.defineProperty(e.prototype,"all_errors",{get:function(){var t,e;return(t=(e=this.errors).concat.apply(e,this.arguments.map((function(t){return t.all_errors})))).concat.apply(t,this.transforms.map((function(t){return t.all_errors})))},enumerable:!0,configurable:!0}),a.a([Object(o.Type)((function(){return r.a})),a.c("design:type",Array)],e.prototype,"arguments",void 0),a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],e.prototype,"transforms",void 0),e})(n(44).a)},160:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(1),o=n(3),i=n(24),r=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arguments=[],e}return a.b(e,t),Object.defineProperty(e.prototype,"all_errors",{get:function(){var t;return(t=this.errors).concat.apply(t,this.arguments.map((function(t){return t.all_errors})))},enumerable:!0,configurable:!0}),a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],e.prototype,"arguments",void 0),e})(n(44).a)},161:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(1),o=n(3),i=n(51),r=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.b(e,t),Object.defineProperty(e.prototype,"all_errors",{get:function(){return this.errors.concat(this.condition?this.condition.all_errors:[])},enumerable:!0,configurable:!0}),a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",i.a)],e.prototype,"condition",void 0),e})(n(44).a)},162:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(1),o=n(3),i=n(24),r=(function(){function t(){this.arguments=[]}return a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],t.prototype,"arguments",void 0),a.a([Object(o.Exclude)({toPlainOnly:!0}),a.c("design:type",String)],t.prototype,"localized_started_at",void 0),a.a([Object(o.Exclude)({toPlainOnly:!0}),a.c("design:type",String)],t.prototype,"localized_completed_at",void 0),t})()},163:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(1),o=n(3),i=n(24),r=n(162),s=(function(){function t(){this.arguments=[]}return t.prototype.toNewActionStatus=function(){var t=new r.a;return t.workflow_execution_id=this.workflow_execution_id,t.workflow_id=this.workflow_id,t.execution_id=this.execution_id,t.action_id=this.action_id,t.name=this.name,t.app_name=this.app_name,t.action_name=this.action_name,t.status=this.status,t.started_at=this.timestamp,t.arguments=this.arguments,t.result=this.result,t},a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],t.prototype,"arguments",void 0),t})()},164:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c}));var a=n(1),o=n(0),i=n(6),r=(n(86),n(47)),s=n(214),l=n(8),c=(function(){function e(t,e,n,a,o){this.metricsService=t,this.toastyService=e,this.toastyConfig=n,this.utils=a,this.cdr=o,this.appMetrics=[],this.appFilter="",this.workflowMetrics=[],this.availableApps=[]}return e.prototype.ngOnInit=function(){var e=this;this.toastyConfig.theme="bootstrap",this.appSelectConfig={width:"100%",placeholder:"Select an App to view its Metrics"},this.recalculateTableCallback=function(t){e.recalculateTable(t)},t(document).on("shown.bs.tab",'a[data-toggle="tab"]',this.recalculateTableCallback),this.getAppMetrics(),this.getWorkflowMetrics()},e.prototype.ngOnDestroy=function(){this.recalculateTableCallback&&t(document).off("shown.bs.tab",'a[data-toggle="tab"]',this.recalculateTableCallback)},e.prototype.recalculateTable=function(t){var e;switch(t.target.getAttribute("href")){case"#apps":e=this.appMetricsTable;break;case"#workflows":e=this.workflowMetricsTable}e&&e.recalculate&&(this.cdr.detectChanges(),Array.isArray(e.rows)&&(e.rows=e.rows.slice()),e.recalculate())},e.prototype.appSelectChange=function(t){t.value&&""!==t.value?this.appFilter=t.value:this.appFilter=""},e.prototype.getFilteredAppMetrics=function(){var t=this;return this.appFilter&&"all"!=this.appFilter?this.appMetrics.filter((function(e){return e.name==t.appFilter})):this.appMetrics},e.prototype.displayAppMetrics=function(){var t=[];return this.getFilteredAppMetrics().forEach((function(e){e.actions.forEach((function(n){t.push({app:e.name,action:n.name,success:n.success_metrics.display_text,error:n.error_metrics.display_text,total_count:n.success_metrics.count+n.error_metrics.count})}))})),t},e.prototype.getAppMetrics=function(){var t=this;this.metricsService.getAppMetrics().then((function(e){t.appMetrics=e,t.availableApps=[{id:"",text:""},{id:"all",text:"All"}].concat(e.map((function(t){return{id:t.name,text:t.name}}))),t.displayAppMetrics()})).catch((function(e){return t.toastyService.error("Error retrieving app metrics: "+e.message)}))},e.prototype.getWorkflowMetrics=function(){var t=this;this.metricsService.getWorkflowMetrics().then((function(e){t.workflowMetrics=e})).catch((function(e){return t.toastyService.error("Error retrieving workflow metrics: "+e.message)}))},e.prototype.getFriendlyArray=function(t){return t.join(", ")},e.prototype.getFriendlyObject=function(t){var e=JSON.stringify(t,null,1);return e=e.substr(1,e.length-2).replace(/"/g,"")},a.a([Object(o.ViewChild)("appMetricsTable"),a.c("design:type",r.DatatableComponent)],e.prototype,"appMetricsTable",void 0),a.a([Object(o.ViewChild)("workflowMetricsTable"),a.c("design:type",r.DatatableComponent)],e.prototype,"workflowMetricsTable",void 0),e=a.a([Object(o.Component)({selector:"metrics-component",template:n(996),encapsulation:o.ViewEncapsulation.None,styles:[n(997)],providers:[s.a]}),a.c("design:paramtypes",[s.a,i.c,i.a,l.a,o.ChangeDetectorRef])],e)})()}).call(this,n(23))},165:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v}));var a=n(1),o=n(0),i=n(13),r=n(6),s=n(47),l=n(96),c=(n(86),n(3)),d=n(10),u=n(90),p=n(52),f=n(8),m=n(493),h=n(163),g=n(130),v=(function(){function e(t,e,n,a,o,r,s){this.executionService=t,this.authService=e,this.cdr=n,this.toastyService=a,this.toastyConfig=o,this.utils=r,this.modalService=s,this.workflowStatuses=[],this.displayWorkflowStatuses=[],this.workflows=[],this.availableWorkflows=[],this.workflowStatusStartedRelativeTimes={},this.workflowStatusCompletedRelativeTimes={},this.actionStatusStartedRelativeTimes={},this.actionStatusCompletedRelativeTimes={},this.filterQuery=new i.FormControl}return e.prototype.ngOnInit=function(){var e=this;this.toastyConfig.theme="bootstrap",this.workflowSelectConfig={width:"100%",placeholder:"Select a Workflow"},this.workflowStatusActions={resume:"resume",pause:"pause",abort:"abort"},this.getWorkflows(),this.getWorkflowStatuses(),this.getWorkflowStatusSSE(),this.getActionStatusSSE(),this.filterQuery.valueChanges.debounceTime(500).subscribe((function(t){return e.filterWorkflowStatuses()})),l.Observable.interval(3e4).subscribe((function(){e.recalculateRelativeTimes()})),this.recalculateTableCallback=function(t){e.actionStatusTable&&e.actionStatusTable.recalculate&&(Array.isArray(e.actionStatusTable.rows)&&(e.actionStatusTable.rows=e.actionStatusTable.rows.slice()),e.actionStatusTable.recalculate())},t(document).on("shown.bs.modal",".actionStatusModal",this.recalculateTableCallback)},e.prototype.ngAfterViewChecked=function(){this.actionStatusTable&&this.actionStatusTable.recalculate&&this.actionStatusContainer.nativeElement.clientWidth!==this.actionStatusComponentWidth&&(this.actionStatusComponentWidth=this.actionStatusContainer.nativeElement.clientWidth,this.actionStatusTable.recalculate(),this.cdr.detectChanges())},e.prototype.ngOnDestroy=function(){this.workflowStatusEventSource&&this.workflowStatusEventSource.close&&this.workflowStatusEventSource.close(),this.actionStatusEventSource&&this.actionStatusEventSource.close&&this.actionStatusEventSource.close(),this.recalculateTableCallback&&t(document).off("shown.bs.modal",".actionStatusModal",this.recalculateTableCallback)},e.prototype.filterWorkflowStatuses=function(){var t=this.filterQuery.value?this.filterQuery.value.toLocaleLowerCase():"";this.displayWorkflowStatuses=this.workflowStatuses.filter((function(e){return e.name.toLocaleLowerCase().includes(t)||e.status.toLocaleLowerCase().includes(t)||e.current_action&&(e.current_action.name.toLocaleLowerCase().includes(t)||e.current_action.action_name.toLocaleLowerCase().includes(t)||e.current_action.app_name.toLocaleLowerCase().includes(t))}))},e.prototype.getWorkflowStatuses=function(){var t=this;this.executionService.getAllWorkflowStatuses().then((function(e){e.forEach((function(e){t.calculateLocalizedTimes(e)})),t.displayWorkflowStatuses=t.workflowStatuses=e,t.recalculateRelativeTimes()})).catch((function(e){return t.toastyService.error("Error retrieving workflow statuses: "+e.message)}))},e.prototype.getWorkflowStatusSSE=function(){var t=this;this.authService.getAccessTokenRefreshed().then((function(e){t.workflowStatusEventSource=new window.EventSource("api/streams/workflowqueue/workflow_status?access_token="+e),t.workflowStatusEventSource.addEventListener("queued",(function(e){return t.workflowStatusEventHandler(e)})),t.workflowStatusEventSource.addEventListener("started",(function(e){return t.workflowStatusEventHandler(e)})),t.workflowStatusEventSource.addEventListener("paused",(function(e){return t.workflowStatusEventHandler(e)})),t.workflowStatusEventSource.addEventListener("resumed",(function(e){return t.workflowStatusEventHandler(e)})),t.workflowStatusEventSource.addEventListener("awaiting_data",(function(e){return t.workflowStatusEventHandler(e)})),t.workflowStatusEventSource.addEventListener("triggered",(function(e){return t.workflowStatusEventHandler(e)})),t.workflowStatusEventSource.addEventListener("aborted",(function(e){return t.workflowStatusEventHandler(e)})),t.workflowStatusEventSource.addEventListener("completed",(function(e){return t.workflowStatusEventHandler(e)})),t.workflowStatusEventSource.onerror=function(t){console.error(t)}}))},e.prototype.workflowStatusEventHandler=function(t){var e=Object(c.plainToClass)(m.a,JSON.parse(t.data)),n=this.workflowStatuses.find((function(t){return t.execution_id===e.execution_id}));if(n){switch(n.status=e.status,t.type){case"queued":delete n.current_action;break;case"started":n.started_at||(n.started_at=e.timestamp,this.workflowStatusStartedRelativeTimes[n.execution_id]=this.utils.getRelativeLocalTime(e.timestamp)),n.current_action=e.current_action;break;case"paused":case"resumed":case"awaiting_data":case"triggered":n.current_action=e.current_action;break;case"completed":n.completed_at=e.timestamp,this.workflowStatusCompletedRelativeTimes[n.execution_id]=this.utils.getRelativeLocalTime(e.timestamp),delete n.current_action;break;case"aborted":n.completed_at=e.timestamp,this.workflowStatusCompletedRelativeTimes[n.execution_id]=this.utils.getRelativeLocalTime(e.timestamp);break;default:this.toastyService.warning("Unknown Workflow Status SSE Type: "+t.type+".")}this.calculateLocalizedTimes(n)}else{var a=e.toNewWorkflowStatus();this.calculateLocalizedTimes(a),this.workflowStatuses.push(a),this.workflowStatuses=this.workflowStatuses.slice()}this.filterWorkflowStatuses()},e.prototype.getActionStatusSSE=function(t){var e=this;void 0===t&&(t=null),this.actionStatusEventSource&&this.actionStatusEventSource.close(),this.authService.getAccessTokenRefreshed().then((function(n){var a="api/streams/workflowqueue/actions?summary=true&access_token="+n;t&&(a+="&workflow_execution_id="+t),e.actionStatusEventSource=new window.EventSource(a),e.actionStatusEventSource.addEventListener("started",(function(t){return e.actionStatusEventHandler(t)})),e.actionStatusEventSource.addEventListener("success",(function(t){return e.actionStatusEventHandler(t)})),e.actionStatusEventSource.addEventListener("failure",(function(t){return e.actionStatusEventHandler(t)})),e.actionStatusEventSource.addEventListener("awaiting_data",(function(t){return e.actionStatusEventHandler(t)})),e.actionStatusEventSource.onerror=function(t){console.error(t)}}))},e.prototype.actionStatusEventHandler=function(t){var e=Object(c.plainToClass)(h.a,JSON.parse(t.data)),n=this.workflowStatuses.find((function(t){return t.execution_id===e.workflow_execution_id}));if(n&&(n.current_action={execution_id:e.execution_id,id:e.action_id,name:e.name,app_name:e.app_name,action_name:e.action_name}),this.loadedWorkflowStatus&&this.loadedWorkflowStatus.execution_id===e.workflow_execution_id){var a=this.loadedWorkflowStatus.action_statuses.find((function(t){return t.execution_id===e.execution_id}));if(a){switch(a.status=e.status,t.type){case"started":a.started_at=e.timestamp,this.actionStatusStartedRelativeTimes[a.execution_id]=this.utils.getRelativeLocalTime(e.timestamp);break;case"success":case"failure":a.completed_at=e.timestamp,a.result=e.result,this.actionStatusCompletedRelativeTimes[a.execution_id]=this.utils.getRelativeLocalTime(e.timestamp);break;case"awaiting_data":break;default:this.toastyService.warning("Unknown Action Status SSE Type: "+t.type+".")}this.calculateLocalizedTimes(a)}else{var o=e.toNewActionStatus();this.calculateLocalizedTimes(o),this.loadedWorkflowStatus.action_statuses.push(o),this.loadedWorkflowStatus.action_statuses=this.loadedWorkflowStatus.action_statuses.slice()}}this.filterWorkflowStatuses()},e.prototype.performWorkflowStatusAction=function(t,e){var n=this;this.executionService.performWorkflowStatusAction(t.execution_id,e).then((function(){return n.toastyService.success("Successfully told "+t.name+" to  "+e)})).catch((function(t){return n.toastyService.error("Error performing "+e+" on workflow: "+t.message)}))},e.prototype.getWorkflows=function(){var t=this;this.executionService.getPlaybooks().then((function(e){t.workflows=e.map((function(t){return t.workflows})).reduce((function(t,e){return t.concat(e)}),[]);var n=[{id:"",text:""}];e.forEach((function(t){t.workflows.forEach((function(e){n.push({id:e.id,text:t.name+" - "+e.name})}))})),t.availableWorkflows=n}))},e.prototype.executeSelectedWorkflow=function(t){var e=this;void 0===t&&(t=[]),this.executionService.addWorkflowToQueue(this.selectedWorkflow.id,t).then((function(t){e.toastyService.success('Successfully started execution of "'+e.selectedWorkflow.name+'"')})).catch((function(t){return e.toastyService.error("Error executing workflow: "+t.message)}))},e.prototype.workflowSelectChange=function(t){var e=this;t.value&&""!==t.value?(this.selectedWorkflow=this.workflows.find((function(e){return e.id===t.value})),this.executionService.loadWorkflow(this.selectedWorkflow.id).then((function(t){e.selectedWorkflow.id==t.id&&(e.selectedWorkflow=t)}))):this.selectedWorkflow=null},e.prototype.openVariableModal=function(){var t=this,e=this.modalService.open(g.a);e.componentInstance.workflow=this.selectedWorkflow,e.result.then((function(e){t.executeSelectedWorkflow(e)})).catch((function(){return null}))},e.prototype.openActionStatusModal=function(e,n){var a=this;e.preventDefault(),(this.loadedWorkflowStatus&&this.loadedWorkflowStatus.execution_id===n.execution_id?Promise.resolve():this.executionService.getWorkflowStatus(n.execution_id).then((function(t){a.calculateLocalizedTimes(t),t.action_statuses.forEach((function(t){a.calculateLocalizedTimes(t)})),a.loadedWorkflowStatus=t,a.recalculateRelativeTimes()})).catch((function(t){return a.toastyService.error('Error loading action results for "'+n.name+'": '+t.message)}))).then((function(){t(".actionStatusModal").modal("show")}))},e.prototype.getFriendlyJSON=function(t){if(!t)return"N/A";var e=JSON.stringify(t,null,1);return(e=e.replace(/[\{\[\}\]"]/g,"").trim())||"N/A"},e.prototype.getFriendlyArguments=function(t){if(!t||!t.length)return"N/A";var e={};t.forEach((function(t){if(t.value&&(e[t.name]=t.value),t.reference&&(e[t.name]=t.reference.toString()),t.selection&&Array.isArray(t.selection)){var n=Array.from(t.selection).join(".");e[t.name]=e[t.name]+" ("+n+")"}}));var n=JSON.stringify(e,null,1);return n=n.replace(/[\{\}"]/g,"")},e.prototype.getAppName=function(t){return t?t.app_name:"N/A"},e.prototype.getActionName=function(t){if(!t)return"N/A";var e=t.name;return e!==t.action_name&&(e=e+" ("+t.action_name+")"),e},e.prototype.appNameComparator=function(t,e){return t?e?t.app_name.toLowerCase()<e.app_name.toLowerCase()?-1:t.app_name.toLowerCase()>e.app_name.toLowerCase()?1:void 0:-1:1},e.prototype.actionNameComparator=function(t,e){return t?e?t.action_name.toLowerCase()<e.action_name.toLowerCase()?-1:t.action_name.toLowerCase()>e.action_name.toLowerCase()?1:void 0:-1:1},e.prototype.recalculateRelativeTimes=function(){var t=this;this.workflowStatuses&&this.workflowStatuses.length&&(this.workflowStatuses.forEach((function(e){e.started_at&&(t.workflowStatusStartedRelativeTimes[e.execution_id]=t.utils.getRelativeLocalTime(e.started_at)),e.completed_at&&(t.workflowStatusCompletedRelativeTimes[e.execution_id]=t.utils.getRelativeLocalTime(e.completed_at))})),this.loadedWorkflowStatus&&this.loadedWorkflowStatus.action_statuses&&this.loadedWorkflowStatus.action_statuses.length&&this.loadedWorkflowStatus.action_statuses.forEach((function(e){e.started_at&&(t.actionStatusStartedRelativeTimes[e.execution_id]=t.utils.getRelativeLocalTime(e.started_at)),e.completed_at&&(t.actionStatusCompletedRelativeTimes[e.execution_id]=t.utils.getRelativeLocalTime(e.completed_at))})))},e.prototype.calculateLocalizedTimes=function(t){t.started_at&&(t.localized_started_at=this.utils.getLocalTime(t.started_at)),t.completed_at&&(t.localized_completed_at=this.utils.getLocalTime(t.completed_at))},a.a([Object(o.ViewChild)("actionStatusContainer"),a.c("design:type",o.ElementRef)],e.prototype,"actionStatusContainer",void 0),a.a([Object(o.ViewChild)("actionStatusTable"),a.c("design:type",s.DatatableComponent)],e.prototype,"actionStatusTable",void 0),e=a.a([Object(o.Component)({selector:"execution-component",template:n(1009),styles:[n(1010)],encapsulation:o.ViewEncapsulation.None,providers:[u.a,p.a]}),a.c("design:paramtypes",[u.a,p.a,o.ChangeDetectorRef,r.c,r.a,f.a,d.b])],e)})()}).call(this,n(23))},166:function(t,e,n){"use strict";var a=n(1),o=n(3),i=n(75),r=(function(){return function(){}})(),s=(function(){function t(){this.failure=!1}return a.a([Object(o.Type)((function(){return r})),a.c("design:type",r)],t.prototype,"schema",void 0),t})(),l=(function(){function t(){this.parameters=[],this.returns=[]}return a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],t.prototype,"parameters",void 0),a.a([Object(o.Type)((function(){return s})),a.c("design:type",Array)],t.prototype,"returns",void 0),t})(),c=(function(){function t(){this.parameters=[],this.returns=[]}return a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],t.prototype,"parameters",void 0),a.a([Object(o.Type)((function(){return s})),a.c("design:type",Array)],t.prototype,"returns",void 0),t})(),d=(function(){function t(){this.parameters=[],this.returns=[]}return a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],t.prototype,"parameters",void 0),a.a([Object(o.Type)((function(){return s})),a.c("design:type",Array)],t.prototype,"returns",void 0),t})(),u=(function(){function t(){this.required=!1}return a.a([Object(o.Type)((function(){return r})),a.c("design:type",r)],t.prototype,"schema",void 0),t})(),p=(function(){function t(){this.fields=[]}return a.a([Object(o.Type)((function(){return u})),a.c("design:type",Array)],t.prototype,"fields",void 0),t})();n.d(e,"a",(function(){return f}));var f=(function(){function t(){this.action_apis=[],this.condition_apis=[],this.transform_apis=[],this.device_apis=[]}return a.a([Object(o.Type)((function(){return l})),a.c("design:type",Array)],t.prototype,"action_apis",void 0),a.a([Object(o.Type)((function(){return c})),a.c("design:type",Array)],t.prototype,"condition_apis",void 0),a.a([Object(o.Type)((function(){return d})),a.c("design:type",Array)],t.prototype,"transform_apis",void 0),a.a([Object(o.Type)((function(){return p})),a.c("design:type",Array)],t.prototype,"device_apis",void 0),t})()},167:function(t,e,n){"use strict";var a=n(1),o=n(3),i=n(24),r=(function(){return function(){}})(),s=n(51),l=n(44);n.d(e,"a",(function(){return c}));var c=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.device_id=new i.a,e.arguments=[],e}return a.b(e,t),Object.defineProperty(e.prototype,"all_errors",{get:function(){var t;return(t=this.errors).concat.apply(t,this.arguments.map((function(t){return t.all_errors}))).concat(this.trigger?this.trigger.all_errors:[])},enumerable:!0,configurable:!0}),a.a([Object(o.Type)((function(){return r})),a.c("design:type",r)],e.prototype,"position",void 0),a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",i.a)],e.prototype,"device_id",void 0),a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],e.prototype,"arguments",void 0),a.a([Object(o.Type)((function(){return s.a})),a.c("design:type",s.a)],e.prototype,"trigger",void 0),e})(l.a)},213:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n(1),o=n(0),i=n(27),r=n(21),s=n(3),l=n(30),c=n(40),d=n(166),u=n(60),p=n(90),f=n(37),m=n(8),h=n(2),g=(function(){function t(t,e,n,a,o){this.authHttp=t,this.utils=e,this.executionService=n,this.devicesService=a,this.settingsService=o}return t.prototype.getPlaybooks=function(){return this.authHttp.get("/api/playbooks").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(s.plainToClass)(c.a,t)})).catch(this.utils.handleResponseError)},t.prototype.newPlaybook=function(t){return this.authHttp.post("/api/playbooks",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(s.plainToClass)(c.a,t)})).catch(this.utils.handleResponseError)},t.prototype.renamePlaybook=function(t,e){return this.authHttp.patch("/api/playbooks",{id:t,name:e}).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(s.plainToClass)(c.a,t)})).catch(this.utils.handleResponseError)},t.prototype.duplicatePlaybook=function(t,e){return this.authHttp.post("/api/playbooks?source="+t,{name:e}).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(s.plainToClass)(c.a,t)})).catch(this.utils.handleResponseError)},t.prototype.deletePlaybook=function(t){return this.authHttp.delete("/api/playbooks/"+t).toPromise().then(this.utils.extractResponseData).catch(this.utils.handleResponseError)},t.prototype.exportPlaybook=function(t){var e=new i.RequestOptions({responseType:i.ResponseContentType.Blob});return this.authHttp.get("/api/playbooks/"+t+"?mode=export",e).map((function(t){return t.blob()})).catch(this.utils.handleResponseError)},t.prototype.importPlaybook=function(t){var e=new FormData;e.append("file",t,t.name);var n=new i.Headers;n.append("Accept","application/json");var a=new i.RequestOptions({headers:n});return this.authHttp.post("/api/playbooks",e,a).map((function(t){return Object(s.plainToClass)(c.a,t.json())})).catch((function(t){return h.Observable.throw(t)}))},t.prototype.duplicateWorkflow=function(t,e,n){return this.authHttp.post("/api/workflows?source="+t,{playbook_id:e,name:n}).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(s.plainToClass)(l.a,t)})).catch(this.utils.handleResponseError)},t.prototype.deleteWorkflow=function(t){return this.authHttp.delete("/api/workflows/"+t).toPromise().then(this.utils.extractResponseData).catch(this.utils.handleResponseError)},t.prototype.newWorkflow=function(t,e){return e.playbook_id=t,this.authHttp.post("/api/workflows",Object(s.classToPlain)(e)).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(s.plainToClass)(l.a,t)})).catch(this.utils.handleResponseError)},t.prototype.saveWorkflow=function(t){return this.authHttp.put("/api/workflows",Object(s.classToPlain)(t)).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(s.plainToClass)(l.a,t)})).catch(this.utils.handleResponseError)},t.prototype.loadWorkflow=function(t){return this.authHttp.get("/api/workflows/"+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(s.plainToClass)(l.a,t)})).catch(this.utils.handleResponseError)},t.prototype.addWorkflowToQueue=function(t){return this.executionService.addWorkflowToQueue(t)},t.prototype.getDevices=function(){return this.devicesService.getAllDevices()},t.prototype.getApis=function(){return this.authHttp.get("/api/apps/apis").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(s.plainToClass)(d.a,t)})).catch(this.utils.handleResponseError)},t.prototype.getUsers=function(){return this.settingsService.getAllUsers()},t.prototype.getRoles=function(){return this.settingsService.getRoles()},t=a.a([Object(o.Injectable)(),a.c("design:paramtypes",[r.JwtHttp,m.a,p.a,u.a,f.a])],t)})()},214:function(t,e,n){"use strict";var a=n(1),o=n(0),i=n(27),r=n(21),s=(n(153),n(126),n(3)),l=n(4),c=(function(){function t(){this.count=0,this.avg_time="0:00:00.000000"}return Object.defineProperty(t.prototype,"display_avg_time",{get:function(){var t=l.duration(this.avg_time);return t.asSeconds()>=1?t.asSeconds()+" s":t.asMilliseconds()+" ms"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"display_text",{get:function(){return this.count>0?this.count+" ("+this.display_avg_time+")":"0"},enumerable:!0,configurable:!0}),t})(),d=(function(){function t(){this.success_metrics=new c,this.error_metrics=new c}return a.a([Object(s.Type)((function(){return c})),a.c("design:type",c)],t.prototype,"success_metrics",void 0),a.a([Object(s.Type)((function(){return c})),a.c("design:type",c)],t.prototype,"error_metrics",void 0),t})(),u=(function(){function t(){this.actions=[]}return a.a([Object(s.Type)((function(){return d})),a.c("design:type",Array)],t.prototype,"actions",void 0),t})(),p=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.b(e,t),e})(c);n.d(e,"a",(function(){return f}));var f=(function(){function t(t){this.authHttp=t}return t.prototype.getAppMetrics=function(){return this.authHttp.get("/api/metrics/apps").toPromise().then(this.extractData).then((function(t){return Object(s.plainToClass)(u,t.apps)})).catch(this.handleError)},t.prototype.getWorkflowMetrics=function(){return this.authHttp.get("/api/metrics/workflows").toPromise().then(this.extractData).then((function(t){return Object(s.plainToClass)(p,t.workflows)})).catch(this.handleError)},t.prototype.extractData=function(t){return t.json()||{}},t.prototype.handleError=function(t){var e,n;if(t instanceof i.Response){var a=t.json()||"";n=a.error||a.detail||JSON.stringify(a),e=t.status+" - "+(t.statusText||"")+" "+n}else n=e=t.message?t.message:t.toString();throw console.error(e),new Error(n)},t=a.a([Object(o.Injectable)(),a.c("design:paramtypes",[r.JwtHttp])],t)})()},24:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=(function(){function t(){this.errors=[]}return Object.defineProperty(t.prototype,"all_errors",{get:function(){return this.errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"has_errors",{get:function(){return this.all_errors.length>0},enumerable:!0,configurable:!0}),t.prototype.hasInput=function(){return this.reference||this.value},t.prototype.sanitize=function(){if(delete this.errors,"string"==typeof this.value&&(this.value=this.value.trim()),this.reference&&void 0!==this.value&&delete this.value,""===this.reference&&delete this.reference,this.value||this.reference)if(this.reference){if(null==this.selection)this.selection=[];else if("string"==typeof this.selection)if(this.selection=this.selection.trim(),this.selection=this.selection.split("."),""===this.selection[0])this.selection=[];else for(var t=0;t<this.selection.length;t++)isNaN(this.selection[t])||(this.selection[t]=+this.selection[t])}else delete this.selection},t})()},259:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=259},30:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(1),o=n(3),i=n(167),r=n(161),s=n(44),l=n(89),c=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actions=[],e.branches=[],e.environment_variables=[],e}return a.b(e,t),Object.defineProperty(e.prototype,"all_errors",{get:function(){var t,e;return(t=(e=this.errors).concat.apply(e,this.actions.map((function(t){return t.all_errors})))).concat.apply(t,this.branches.map((function(t){return t.all_errors})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"all_arguments",{get:function(){var t=[],e=function(n){n.conditions.forEach((function(e){t=t.concat(e.arguments),e.transforms.forEach((function(e){return t=t.concat(e.arguments)}))})),n.child_expressions.forEach(e)};return this.actions.forEach((function(n){t=t.concat(n.arguments),n.trigger&&e(n.trigger)})),this.branches.forEach((function(t){t.condition&&e(t.condition)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"referenced_variables",{get:function(){var t=this;return this.environment_variables.filter((function(e){return t.all_arguments.some((function(t){return t.reference==e.id}))}))},enumerable:!0,configurable:!0}),e.prototype.listBranchCounters=function(){var t=this;return this.branches.map((function(e){var n=t.findActionById(e.source_id),a=t.findActionById(e.destination_id);return{id:e.id,text:(n||{name:null}).name+" > "+(a||{name:null}).name}}))},e.prototype.findActionById=function(t){return this.actions.find((function(e){return e.id==t}))},e.prototype.deleteVariable=function(t){this.environment_variables=this.environment_variables.filter((function(e){return e.id!==t.id})),this.all_arguments.filter((function(e){return e.reference==t.id})).forEach((function(t){return t.reference=""}))},a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],e.prototype,"actions",void 0),a.a([Object(o.Type)((function(){return r.a})),a.c("design:type",Array)],e.prototype,"branches",void 0),a.a([Object(o.Type)((function(){return l.a})),a.c("design:type",Array)],e.prototype,"environment_variables",void 0),e})(s.a)},37:function(t,e,n){"use strict";var a=n(1),o=n(0),i=n(21),r=n(3),s=n(104),l=n(106),c=n(61),d=(function(){return function(){this.actions=[]}})(),u=n(8);n.d(e,"a",(function(){return p}));var p=(function(){function t(t,e){this.authHttp=t,this.utils=e}return t.prototype.getConfiguration=function(){return this.authHttp.get("/api/configuration").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(s.a,t)})).catch(this.utils.handleResponseError)},t.prototype.updateConfiguration=function(t){return this.authHttp.put("/api/configuration",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(s.a,t)})).catch(this.utils.handleResponseError)},t.prototype.getAllUsers=function(){return this.utils.paginateAll(this.getUsers.bind(this))},t.prototype.getUsers=function(t){return void 0===t&&(t=1),this.authHttp.get("/api/users?page="+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(l.a,t)})).catch(this.utils.handleResponseError)},t.prototype.addUser=function(t){return this.authHttp.post("/api/users",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(l.a,t)})).catch(this.utils.handleResponseError)},t.prototype.editUser=function(t){return this.authHttp.put("/api/users",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(l.a,t)})).catch(this.utils.handleResponseError)},t.prototype.deleteUser=function(t){return this.authHttp.delete("/api/users/"+t).toPromise().then((function(){return null})).catch(this.utils.handleResponseError)},t.prototype.getRoles=function(){return this.authHttp.get("/api/roles").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(c.a,t)})).catch(this.utils.handleResponseError)},t.prototype.addRole=function(t){return this.authHttp.post("/api/roles",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(c.a,t)})).catch(this.utils.handleResponseError)},t.prototype.editRole=function(t){return this.authHttp.put("/api/roles",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(c.a,t)})).catch(this.utils.handleResponseError)},t.prototype.deleteRole=function(t){return this.authHttp.delete("/api/roles/"+t).toPromise().then((function(){return null})).catch(this.utils.handleResponseError)},t.prototype.getAvailableResourceActions=function(){return this.authHttp.get("/api/availableresourceactions").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(d,t)})).catch(this.utils.handleResponseError)},t=a.a([Object(o.Injectable)(),a.c("design:paramtypes",[i.JwtHttp,u.a])],t)})()},40:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(1),o=n(3),i=n(30),r=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.workflows=[],e}return a.b(e,t),Object.defineProperty(e.prototype,"all_errors",{get:function(){var t;return(t=this.errors).concat.apply(t,this.workflows.map((function(t){return t.all_errors})))},enumerable:!0,configurable:!0}),a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",Array)],e.prototype,"workflows",void 0),e})(n(44).a)},44:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=(function(){function t(){this.errors=[]}return Object.defineProperty(t.prototype,"all_errors",{get:function(){return this.errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"has_errors",{get:function(){return this.all_errors.length>0},enumerable:!0,configurable:!0}),t})()},479:function(t,e,n){var a=n(974);t.exports="string"==typeof a?a:a.toString()},480:function(t,e,n){var a=n(981);t.exports="string"==typeof a?a:a.toString()},481:function(t,e,n){var a=n(985);t.exports="string"==typeof a?a:a.toString()},492:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=(function(){function t(){}return t.prototype.toNewConsoleLog=function(){var e=new t;return e.message=this.message,e.action_name=this.action_name,e.app_name=this.app_name,e.workflow=this.workflow,e.level=this.level,e},t})()},493:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(1),o=n(3),i=n(103),r=n(102),s=(function(){function t(){}return t.prototype.toNewWorkflowStatus=function(){var t=new r.a;return t.execution_id=this.execution_id,t.workflow_id=this.workflow_id,t.name=this.name,t.status=this.status,t.current_action=this.current_action,t},a.a([Object(o.Type)((function(){return i.a})),a.c("design:type",i.a)],t.prototype,"current_action",void 0),t})()},51:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(1),o=n(3),i=n(44),r=n(159),s=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.conditions=[],e.child_expressions=[],e}return a.b(e,t),Object.defineProperty(e.prototype,"all_errors",{get:function(){var t,e;return(t=(e=this.errors).concat.apply(e,this.conditions.map((function(t){return t.all_errors})))).concat.apply(t,this.child_expressions.map((function(t){return t.all_errors})))},enumerable:!0,configurable:!0}),a.a([Object(o.Type)((function(){return r.a})),a.c("design:type",Array)],e.prototype,"conditions",void 0),a.a([Object(o.Type)((function(){return e})),a.c("design:type",Array)],e.prototype,"child_expressions",void 0),e})(i.a)},52:function(t,e,n){"use strict";var a=n(1),o=n(0),i=n(27),r=n(66),s=n(21),l=n(3),c=(function(){return function(){}})(),d=(function(){function t(){}return a.a([Object(l.Type)((function(){return c})),a.c("design:type",c)],t.prototype,"user_claims",void 0),t})();n.d(e,"a",(function(){return u}));var u=(function(){function t(t,e){this.authHttp=t,this.http=e,this.jwtHelper=new r.JwtHelper}return t.prototype.login=function(t,e){return this.authHttp.post("/api/auth",{username:t,password:e}).toPromise().then(this.extractData).then((function(t){sessionStorage.setItem("access_token",t.access_token),sessionStorage.setItem("refresh_token",t.refresh_token),location.href="/"})).catch(this.handleError)},t.prototype.logout=function(){var t=this;return this.authHttp.post("/api/auth/logout",{refresh_token:sessionStorage.getItem("refresh_token")}).toPromise().then((function(){t.clearTokens()})).catch(this.handleError)},t.prototype.clearTokens=function(){sessionStorage.removeItem("access_token"),sessionStorage.removeItem("refresh_token")},t.prototype.canAccess=function(t,e){return!1},t.prototype.getRefreshToken=function(){return sessionStorage.getItem("refresh_token")},t.prototype.getAccessToken=function(){return sessionStorage.getItem("access_token")},t.prototype.getAccessTokenRefreshed=function(){var t=this.getAccessToken();if(!this.jwtHelper.isTokenExpired(t))return Promise.resolve(t);var e=this.getRefreshToken();if(!e||this.jwtHelper.isTokenExpired(e))return Promise.reject("Refresh token does not exist or has expired. Please log in again.");var n=new i.Headers({Authorization:"Bearer "+this.getRefreshToken()});return this.http.post("/api/auth/refresh",{},{headers:n}).toPromise().then(this.extractData).then((function(t){return t.access_token})).catch(this.handleError)},t.prototype.getAndDecodeRefreshToken=function(){return Object(l.plainToClass)(d,this.jwtHelper.decodeToken(this.getRefreshToken()))},t.prototype.getAndDecodeAccessToken=function(){return Object(l.plainToClass)(d,this.jwtHelper.decodeToken(this.getAccessToken()))},t.prototype.isAccessTokenFresh=function(){return!!this.getAndDecodeAccessToken().fresh},t.prototype.extractData=function(t){return t.json()||{}},t.prototype.handleError=function(t){var e,n;if(t instanceof i.Response){var a=t.json()||"";n=a.error||a.detail||JSON.stringify(a),e=t.status+" - "+(t.statusText||"")+" "+n}else n=e=t.message?t.message:t.toString();throw console.error(e),new Error(n)},t=a.a([Object(o.Injectable)(),a.c("design:paramtypes",[s.JwtHttp,i.Http])],t)})()},60:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(1),o=n(0),i=n(21),r=n(3),s=n(101),l=n(166),c=n(8),d=(function(){function t(t,e){this.authHttp=t,this.utils=e}return t.prototype.getAllDevices=function(){return this.utils.paginateAll(this.getDevices.bind(this))},t.prototype.getDevices=function(t){return void 0===t&&(t=1),this.authHttp.get("/api/devices?page="+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(s.a,t)})).catch(this.utils.handleResponseError)},t.prototype.addDevice=function(t){return this.authHttp.post("/api/devices",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(s.a,t)})).catch(this.utils.handleResponseError)},t.prototype.editDevice=function(t){return this.authHttp.patch("/api/devices",t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(s.a,t)})).catch(this.utils.handleResponseError)},t.prototype.deleteDevice=function(t){return this.authHttp.delete("/api/devices/"+t).toPromise().then((function(){return null})).catch(this.utils.handleResponseError)},t.prototype.getDeviceApis=function(){return this.authHttp.get("api/apps/apis?field_name=device_apis").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(l.a,t)})).then((function(t){return t.filter((function(t){return t.device_apis&&t.device_apis.length}))})).catch(this.utils.handleResponseError)},t=a.a([Object(o.Injectable)(),a.c("design:paramtypes",[i.JwtHttp,c.a])],t)})()},61:function(t,e,n){"use strict";var a=n(1),o=n(3),i=(function(){return function(){this.permissions=[]}})();n.d(e,"a",(function(){return r}));var r=(function(){function t(){this.resources=[]}return a.a([Object(o.Type)((function(){return i})),a.c("design:type",Array)],t.prototype,"resources",void 0),t})()},75:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=(function(){return function(){this.required=!1}})()},8:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(1),o=n(0),i=n(27),r=n(4),s=(function(){function t(){}return t.prototype.getTruncatedString=function(t,e,n){return(t=this.getDefaultString(t,n)).length<=e?t:t.substr(0,e)+"..."},t.prototype.getDefaultString=function(t,e){t||(t="");var n=t.trim();return n||(e||"")},t.prototype.getCurrentIsoString=function(){return r.utc().toISOString()},t.prototype.getLocalTime=function(t){return r.utc(t).local().toLocaleString()},t.prototype.getRelativeLocalTime=function(t){return r.utc(t).local().fromNow()},t.prototype.cloneDeep=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.paginateAll=function(t,e,n){var a=this;return void 0===e&&(e=1),void 0===n&&(n=[]),t(e).then((function(o){return o.length>0?a.paginateAll(t,e+1,n.concat(o)):n}))},t.prototype.extractResponseData=function(t){return t.json()||{}},t.prototype.handleResponseError=function(t){var e,n;if(t instanceof i.Response){var a=t.json()||"";n=a.error||a.detail||JSON.stringify(a),e=t.status+" - "+(t.statusText||"")+" "+n}else n=e=t.message?t.message:t.toString();throw console.error(e),new Error(n)},t=a.a([Object(o.Injectable)()],t)})()},89:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(100),o=(function(){return function(){this.id=a.UUID.UUID()}})()},90:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(1),o=n(0),i=n(21),r=(n(126),n(3)),s=n(102),l=n(40),c=n(30),d=n(8),u=(function(){function t(t,e){this.authHttp=t,this.utils=e}return t.prototype.addWorkflowToQueue=function(t,e){void 0===e&&(e=[]);var n={workflow_id:t};return e.length>0&&(n.environment_variables=Object(r.classToPlain)(e)),this.authHttp.post("api/workflowqueue",n).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(s.a,t)})).catch(this.utils.handleResponseError)},t.prototype.performWorkflowStatusAction=function(t,e){return this.authHttp.patch("api/workflowqueue",{execution_id:t,status:e}).toPromise().then((function(){return null})).catch(this.utils.handleResponseError)},t.prototype.getAllWorkflowStatuses=function(){return this.utils.paginateAll(this.getWorkflowStatuses.bind(this))},t.prototype.getWorkflowStatuses=function(t){return void 0===t&&(t=1),this.authHttp.get("api/workflowqueue?page="+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(s.a,t)})).catch(this.utils.handleResponseError)},t.prototype.getWorkflowStatus=function(t){return this.authHttp.get("api/workflowqueue/"+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(s.a,t)})).catch(this.utils.handleResponseError)},t.prototype.getPlaybooks=function(){return this.authHttp.get("/api/playbooks").toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(l.a,t)})).catch(this.utils.handleResponseError)},t.prototype.loadWorkflow=function(t){return this.authHttp.get("/api/workflows/"+t).toPromise().then(this.utils.extractResponseData).then((function(t){return Object(r.plainToClass)(c.a,t)})).catch(this.utils.handleResponseError)},t=a.a([Object(o.Injectable)(),a.c("design:paramtypes",[i.JwtHttp,d.a])],t)})()},929:function(t,e,n){var a={"./af":358,"./af.js":358,"./ar":359,"./ar-dz":360,"./ar-dz.js":360,"./ar-kw":361,"./ar-kw.js":361,"./ar-ly":362,"./ar-ly.js":362,"./ar-ma":363,"./ar-ma.js":363,"./ar-sa":364,"./ar-sa.js":364,"./ar-tn":365,"./ar-tn.js":365,"./ar.js":359,"./az":366,"./az.js":366,"./be":367,"./be.js":367,"./bg":368,"./bg.js":368,"./bm":369,"./bm.js":369,"./bn":370,"./bn.js":370,"./bo":371,"./bo.js":371,"./br":372,"./br.js":372,"./bs":373,"./bs.js":373,"./ca":374,"./ca.js":374,"./cs":375,"./cs.js":375,"./cv":376,"./cv.js":376,"./cy":377,"./cy.js":377,"./da":378,"./da.js":378,"./de":379,"./de-at":380,"./de-at.js":380,"./de-ch":381,"./de-ch.js":381,"./de.js":379,"./dv":382,"./dv.js":382,"./el":383,"./el.js":383,"./en-au":384,"./en-au.js":384,"./en-ca":385,"./en-ca.js":385,"./en-gb":386,"./en-gb.js":386,"./en-ie":387,"./en-ie.js":387,"./en-nz":388,"./en-nz.js":388,"./eo":389,"./eo.js":389,"./es":390,"./es-do":391,"./es-do.js":391,"./es-us":392,"./es-us.js":392,"./es.js":390,"./et":393,"./et.js":393,"./eu":394,"./eu.js":394,"./fa":395,"./fa.js":395,"./fi":396,"./fi.js":396,"./fo":397,"./fo.js":397,"./fr":398,"./fr-ca":399,"./fr-ca.js":399,"./fr-ch":400,"./fr-ch.js":400,"./fr.js":398,"./fy":401,"./fy.js":401,"./gd":402,"./gd.js":402,"./gl":403,"./gl.js":403,"./gom-latn":404,"./gom-latn.js":404,"./gu":405,"./gu.js":405,"./he":406,"./he.js":406,"./hi":407,"./hi.js":407,"./hr":408,"./hr.js":408,"./hu":409,"./hu.js":409,"./hy-am":410,"./hy-am.js":410,"./id":411,"./id.js":411,"./is":412,"./is.js":412,"./it":413,"./it.js":413,"./ja":414,"./ja.js":414,"./jv":415,"./jv.js":415,"./ka":416,"./ka.js":416,"./kk":417,"./kk.js":417,"./km":418,"./km.js":418,"./kn":419,"./kn.js":419,"./ko":420,"./ko.js":420,"./ky":421,"./ky.js":421,"./lb":422,"./lb.js":422,"./lo":423,"./lo.js":423,"./lt":424,"./lt.js":424,"./lv":425,"./lv.js":425,"./me":426,"./me.js":426,"./mi":427,"./mi.js":427,"./mk":428,"./mk.js":428,"./ml":429,"./ml.js":429,"./mr":430,"./mr.js":430,"./ms":431,"./ms-my":432,"./ms-my.js":432,"./ms.js":431,"./mt":433,"./mt.js":433,"./my":434,"./my.js":434,"./nb":435,"./nb.js":435,"./ne":436,"./ne.js":436,"./nl":437,"./nl-be":438,"./nl-be.js":438,"./nl.js":437,"./nn":439,"./nn.js":439,"./pa-in":440,"./pa-in.js":440,"./pl":441,"./pl.js":441,"./pt":442,"./pt-br":443,"./pt-br.js":443,"./pt.js":442,"./ro":444,"./ro.js":444,"./ru":445,"./ru.js":445,"./sd":446,"./sd.js":446,"./se":447,"./se.js":447,"./si":448,"./si.js":448,"./sk":449,"./sk.js":449,"./sl":450,"./sl.js":450,"./sq":451,"./sq.js":451,"./sr":452,"./sr-cyrl":453,"./sr-cyrl.js":453,"./sr.js":452,"./ss":454,"./ss.js":454,"./sv":455,"./sv.js":455,"./sw":456,"./sw.js":456,"./ta":457,"./ta.js":457,"./te":458,"./te.js":458,"./tet":459,"./tet.js":459,"./th":460,"./th.js":460,"./tl-ph":461,"./tl-ph.js":461,"./tlh":462,"./tlh.js":462,"./tr":463,"./tr.js":463,"./tzl":464,"./tzl.js":464,"./tzm":465,"./tzm-latn":466,"./tzm-latn.js":466,"./tzm.js":465,"./uk":467,"./uk.js":467,"./ur":468,"./ur.js":468,"./uz":469,"./uz-latn":470,"./uz-latn.js":470,"./uz.js":469,"./vi":471,"./vi.js":471,"./x-pseudo":472,"./x-pseudo.js":472,"./yo":473,"./yo.js":473,"./zh-cn":474,"./zh-cn.js":474,"./zh-hk":475,"./zh-hk.js":475,"./zh-tw":476,"./zh-tw.js":476};function o(t){var e=i(t);return n(e)}function i(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}o.keys=function(){return Object.keys(a)},o.resolve=i,t.exports=o,o.id=929},961:function(t,e){t.exports='<div class="modal-header">\n    <h4 class="modal-title">{{ existing ? \'Edit\' : \'Add\' }} Environment Variable</h4>\n</div>\n<div class="modal-body">\n    <div class="container-fluid">\n        <div class="row">\n            <div class="col-xs-6">\n                <div class="form-group">\n                    <label for="name">Name</label>\n                    <input name="name" type="text" [(ngModel)]="variable.name" class="form-control">\n                </div>\n            </div>\n            <div class="col-xs-6">\n                <div class="form-group">\n                    <label for="value">Default Value</label>\n                    <input name="value" type="text" [(ngModel)]="variable.value" class="form-control">\n                </div>\n            </div>\n            <div class="col-xs-12">\n                <div class="form-group">\n                    <label for="description">Description (optional)</label>\n                    <textarea name="description" rows="2" [(ngModel)]="variable.description" class="form-control"></textarea>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="modal-footer">\n    <button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Close</button>\n    <button type="button" class="btn btn-primary" (click)="activeModal.close(variable)">Save</button>\n</div>'},962:function(t,e){t.exports='<div id="main" class="playbookMain">\n    \x3c!-- Graph editor toolbar --\x3e\n    <div id="playbookToolbar" class=btn-toolbar role=toolbar>\n        <div class="btn-group" role="group">\n            <button id="new-button" type="button" class="btn btn-default" data-toggle="tooltip" title="New Workflow" (click)="newWorkflowModal()">\n                <i class="fa fa-file-o"></i>\n            </button>\n        </div>\n        <div class="btn-group" role="group">\n            <button id="load-button" type="button" class="btn btn-default" data-toggle="modal" data-target="#workflowsModal" title="Load Workflow">\n                <i class="fa fa-folder-open-o"></i>\n            </button>\n        </div>\n        <div class="btn-group" role="group">\n            <button id="save-button" type="button" class="btn btn-default" data-toggle="tooltip" title="Save Workflow" [disabled]="!loadedWorkflow"\n                (click)="save()">\n                <i class="fa fa-save"></i>\n            </button>\n        </div>\n        <div class="btn-group" role="group">\n            <button id="remove-button" type="button" class="btn btn-default" data-toggle="tooltip" title="Delete Selected Nodes" [disabled]="!loadedWorkflow"\n                (click)="removeSelectedNodes()">\n                <i class="fa fa-trash-o"></i>\n            </button>\n        </div>\n        <div class="btn-group" role="group">\n            <button id="undo-button" type="button" class="btn btn-default" data-toggle="tooltip" title="Undo" [disabled]="!loadedWorkflow || (ur && ur.isUndoStackEmpty())"\n                (click)="ur.undo()">\n                <i class="fa fa-undo"></i>\n            </button>\n        </div>\n        <div class="btn-group" role="group">\n            <button id="redo-button" type="button" class="btn btn-default" data-toggle="tooltip" title="Redo" [disabled]="!loadedWorkflow || (ur && ur.isRedoStackEmpty())"\n                (click)="ur.redo()">\n                <i class="fa fa-repeat"></i>\n            </button>\n        </div>\n        \x3c!-- <div class="btn-group" role="group">\n            <button id="cut-button" type="button" class="btn btn-default" data-toggle="tooltip" title="Cut" [disabled]="!loadedWorkflow"\n                (click)="cut()">\n                <span class="fa fa-cut" style="transform: rotate(-90deg);"></span>\n            </button>\n        </div> --\x3e\n        <div class="btn-group" role="group">\n            <button id="copy-button" type="button" class="btn btn-default" data-toggle="tooltip" title="Copy" [disabled]="!loadedWorkflow"\n                (click)="copy()">\n                <i class="fa fa-copy"></i>\n            </button>\n        </div>\n        <div class="btn-group" role="group">\n            <button id="paste-button" type="button" class="btn btn-default" data-toggle="tooltip" title="Paste" [disabled]="!loadedWorkflow"\n                (click)="paste()">\n                <i class="fa fa-paste"></i>\n            </button>\n        </div>\n        <div class="btn-group" role="group">\n            <button id="execute-button" type="button" class="btn btn-default" data-toggle="tooltip" title="Execute Workflow" [disabled]="!loadedWorkflow || !loadedWorkflow.is_valid"\n                (click)="executeWorkflow()">\n                <i class="fa fa-play-circle"></i>\n            </button>\n        </div>\n        <div class="btn-group" role="group">\n            <button id="clear-execution-highlighting-button" type="button" class="btn btn-default" data-toggle="tooltip" title="Clear Execution Results"\n                [disabled]="!loadedWorkflow || !loadedWorkflow.is_valid" (click)="clearExecutionResults()">\n                <i class="fa fa-eraser"></i>\n            </button>\n        </div>\n        <label *ngIf="loadedWorkflow" id="currentWorkflowText">{{loadedPlaybook.name}} -</label>\n        <input *ngIf="loadedWorkflow" type="text" class="form-control workflowNameInput" [(ngModel)]="loadedWorkflow.name" name="name"\n            required>\n        <label *ngIf="loadedWorkflow && !loadedWorkflow?.is_valid" id="currentWorkflowText">(In Progress)</label>\n    </div>\n    \x3c!-- Graph editor --\x3e\n    <div class="row graphEditorRow">\n        \x3c!-- Column for app/action display for drag and drop --\x3e\n\n        <div class="col-md-2 graphEditorColumn">\n            <div class="panel-group" id="accordion" #accordion [hidden]="!loadedWorkflow">\n                <div id="app_search_bar_container">\n                    <input type="search" id="app_search_bar" placeholder="Search" (keyup)="search_for_actions($event)"/>\n                </div>\n                <div *ngFor="let app of getAppsWithActions()" class="panel panel-default">\n                    <div class="panel-heading playbook-heading collapsed" data-toggle="collapse" [attr.data-target]="\'#actionsCollapse\' + removeWhitespace(app.name)"\n                        [title]="app.info ? app.info.description : \'\'">\n                        <h4 class="panel-title">{{app.name}}</h4>\n                    </div>\n                    <div id="actionsCollapse{{removeWhitespace(app.name)}}" class="panel-collapse collapse">\n                        <div class="panel-body">\n                            <div *ngFor="let actionApi of app.action_apis" class="panel panel-default actionPanel" dnd-draggable [dragEnabled]="true"\n                                [dragData]="{ appName: app.name, actionApi: actionApi }" (dblclick)="handleDoubleClickEvent(app.name, actionApi.name)"\n                                [title]="actionApi.description">\n                                <div class="panel-body">\n                                    <span>{{actionApi.name}}</span>\n                                    \x3c!-- <i class="fa fa-bars pull-right" aria-hidden="true"></i> --\x3e\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- Actual cytoscape graph editor --\x3e\n        <div class="col-md-6 graphEditorColumn">\n            <div id="cy" #cyRef dnd-droppable (onDropSuccess)="handleDropEvent($event)" [hidden]="!loadedWorkflow" tabindex="0"></div>\n            <div id="cy-instructions" [hidden]="loadedWorkflow">\n                <p>Instructions:</p>\n                <p>\n                    <button class="btn btn-primary" data-toggle="modal" data-target="#workflowsModal">Load Workflow</button>\n                </p>\n                <p>\n                    Use this button to load the workflow into the graph. After loading an initial workflow you may use the Load Workflow button\n                    on the toolbar.\n                </p>\n                <p>\n                    <b>Drag and drop</b> items from Actions tab into the graph to create a new workflow action.\n                    <b>Double click</b> also works.\n                </p>\n            </div>\n        </div>\n\n        \x3c!-- Parameter editors --\x3e\n        <div class="col-md-4 graphEditorColumn">\n            \x3c!-- Editor for Actions --\x3e\n            <div *ngIf="!waitingOnData && selectedAction" class="parametersEditor">\n                <h3>Action Parameters</h3>\n                <div class="row">\n                    <div class="col-xs-4">\n                        <label>App:</label>\n                        <span>{{selectedAction.app_name}}</span>\n                    </div>\n                    <div class="col-xs-4">\n                        <label>Action:</label>\n                        <span>{{selectedAction.action_name}}</span>\n                    </div>\n                    <div class="col-xs-4">\n                        <button [disabled]="selectedAction.id === loadedWorkflow.start" class="btn btn-primary pull-right" (click)="setStartNode(selectedAction.id)">Set as Start Action</button>\n                    </div>\n                </div>\n                <div class="row">\n                    <div>\n                        <label>Description:</label>\n                        <span>{{selectedActionApi.description}}</span>\n                    </div>\n                    <div>\n                        <label>Returns:</label>\n                        <div  *ngFor="let i of selectedActionApi.returns">\n                            <div class="col-xs-16 col-xs-offset-1">\n                                <label>{{i.status}}</label>\n                                <span>{{i.description}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label for="name">Name\n                        <i class="fa fa-asterisk required" title="This field is required."></i>\n                    </label>\n                    <input type="text" class="form-control" [(ngModel)]="selectedAction.name" name="name" required>\n                </div>\n                <div *ngIf="!selectedActionApi.global" class="form-group deviceArgument">\n                    <label for="device_id">Device\n                        <i class="fa fa-asterisk required" title="This field is required."></i>\n                    </label>\n                    <playbook-argument-component [loadedWorkflow]="loadedWorkflow"\n                        [argument]="selectedAction.device_id" [id]="id"\n                        [users]="users" [roles]="roles" [devices]="relevantDevices"></playbook-argument-component>\n                </div>\n                \x3c!-- Inputs --\x3e\n                <div *ngIf="selectedActionApi.parameters.length">\n                    <h4>Arguments</h4>\n                    <playbook-argument-component *ngFor="let parameterApi of selectedActionApi.parameters; let id = index" [loadedWorkflow]="loadedWorkflow"\n                        [argument]="getOrInitializeSelectedActionArgument(parameterApi)" [parameterApi]="parameterApi" [id]="id"\n                        [users]="users" [roles]="roles" (createVariable)="onCreateVariable($event)"></playbook-argument-component>\n                </div>\n                \x3c!-- Triggers --\x3e\n                <div>\n                    <div class="row">\n                        <div class="col-xs-6">\n                            <h4>Trigger Condition</h4>\n                        </div>\n                        <div class="col-xs-6">\n                            <div class="form-group">\n                                <button *ngIf="!selectedAction.trigger" class="btn btn-primary pull-right" (click)="specifyTrigger(selectedAction)">\n                                    <i class="fa fa-plus"></i>Specify Trigger Condition\n                                </button>\n                                <button *ngIf="selectedAction.trigger" class="btn btn-danger pull-right" (click)="removeTrigger(selectedAction)">\n                                    <i class="fa fa-close"></i>Remove Trigger Condition\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <playbook-conditional-expression-component *ngIf="selectedAction.trigger" [conditionalExpression]="selectedAction.trigger"\n                        [appApis]="appApis" [selectedAppName]="selectedAction.app_name" [loadedWorkflow]="loadedWorkflow"\n                        (createVariable)="onCreateVariable($event)" ></playbook-conditional-expression-component>\n                </div>\n            </div>\n            \x3c!-- Editor for Branches (edges) --\x3e\n            <div *ngIf="selectedBranchParams && selectedBranchParams.branch" class="parametersEditor">\n                <h3>Branch Parameters</h3>\n                <div class="form-group">\n                    <label for="status">Return Type\n                        <i class="fa fa-asterisk required" title="This field is required."></i>\n                    </label>\n                    <select class="form-control" [(ngModel)]="selectedBranchParams.branch.status" name="status">\n                        <option *ngFor="let i of selectedBranchParams.returnTypes" [value]="i.status" [label]="i.status" [class.failure]="i.failure">{{i.status}}</option>\n                    </select>\n                </div>\n                <div class="form-group">\n                    <label for="priority">Priority\n                        <i class="fa fa-asterisk required" title="This field is required."></i>\n                    </label>\n                    <input type="number" max="999" min="1" class="form-control" [(ngModel)]="selectedBranchParams.branch.priority" name="priority"\n                        required>\n                </div>\n                <div>\n                    <div class="row">\n                        <div class="col-xs-6">\n                            <h4>Condition</h4>\n                        </div>\n                        <div class="col-xs-6">\n                            <div class="form-group">\n                                <button *ngIf="!selectedBranchParams.branch.condition" class="btn btn-primary pull-right" (click)="specifyCondition(selectedBranchParams.branch)">\n                                    <i class="fa fa-plus"></i>Specify Condition\n                                </button>\n                                <button *ngIf="selectedBranchParams.branch.condition" class="btn btn-danger pull-right" (click)="removeCondition(selectedBranchParams.branch)">\n                                    <i class="fa fa-close"></i>Remove Condition\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <playbook-conditional-expression-component *ngIf="selectedBranchParams.branch.condition" [conditionalExpression]="selectedBranchParams.branch.condition"\n                        [appApis]="appApis" [selectedAppName]="selectedBranchParams.appName" [loadedWorkflow]="loadedWorkflow"\n                        (createVariable)="onCreateVariable($event)"></playbook-conditional-expression-component>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="row consoleRow" *ngIf="loadedWorkflow?.id">\n        <ul class="nav nav-tabs">\n            <li *ngIf="!loadedWorkflow?.has_errors" class="active"><a data-toggle="tab" href="#console"> Console </a></li>\n            <li *ngIf="!loadedWorkflow?.has_errors"><a data-toggle="tab" href="#executionLog"> Execution </a></li>\n            <li *ngIf="loadedWorkflow?.has_errors" class="active"><a data-toggle="tab" href="#errorLog"> Workflow Errors ({{ loadedWorkflow?.all_errors.length }}) </a></li>\n            <li *ngIf="loadedWorkflow?.environment_variables?.length > 0"><a data-toggle="tab" href="#environmentVariableLogA">Environment Variables</a></li>\n        </ul>\n        <div class="tab-content">\n            <div id="console" #consoleContainer class="tab-pane fade in active" *ngIf="!loadedWorkflow?.has_errors">\n                 <ngx-datatable #consoleTable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="consoleLog" [sortType]="\'multi\'"\n                        [footerHeight]="25" [rowHeight]="undefined" [sorts]="[]"\n                        [limit]="10">\n\n                     <ngx-datatable-column name="Level" prop="level" [flexGrow]="1">\n                         <ng-template let-row="row" ngx-datatable-cell-template>\n                             {{row.level}}\n                         </ng-template>\n                     </ngx-datatable-column>\n\n                     <ngx-datatable-column name="App Name" prop="app_name" [flexGrow]="2">\n                        <ng-template let-row="row" ngx-datatable-cell-template>\n                            {{row.app_name}}\n                        </ng-template>\n                    </ngx-datatable-column>                     \n\n                     <ngx-datatable-column name="Action Name" prop="action_name" [flexGrow]="2">\n                         <ng-template let-row="row" ngx-datatable-cell-template>\n                            {{row.action_name}}\n                         </ng-template>\n                     </ngx-datatable-column>\n\n                     <ngx-datatable-column name="Message" prop="message" [flexGrow]="4">\n                         <ng-template let-row="row" ngx-datatable-cell-template>\n                             {{row.message}}\n                         </ng-template>\n                     </ngx-datatable-column>\n         \n                 </ngx-datatable>\n            </div>\n            <div id="executionLog" class="tab-pane fade" *ngIf="!loadedWorkflow?.has_errors">\n                <div id="executionResultsModal">\n                    <div #workflowResultsContainer>\n                        <ngx-datatable #workflowResultsTable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="actionStatuses" [sortType]="\'multi\'"\n                        [footerHeight]="25" [rowHeight]="undefined" [sorts]="[]" [limit]="10">\n                        \x3c!-- Column Templates --\x3e\n                        <ngx-datatable-column name="Action IDs" prop="action_id" [flexGrow]="1"></ngx-datatable-column>\n                        <ngx-datatable-column name="App Name" prop="app_name" [flexGrow]="1"></ngx-datatable-column>\n                        <ngx-datatable-column name="Action Name" prop="action_name" [flexGrow]="1"></ngx-datatable-column>\n                        <ngx-datatable-column name="Started At" prop="started_at" [flexGrow]="1">\n                            <ng-template let-row="row" ngx-datatable-cell-template>\n                                <span [title]="row.localized_started_at">\n                                    {{actionStatusStartedRelativeTimes[row.execution_id]}}\n                                </span>\n                            </ng-template>\n                        </ngx-datatable-column>\n                        <ngx-datatable-column name="Completed At" prop="completed_at" [flexGrow]="1">\n                            <ng-template let-row="row" ngx-datatable-cell-template>\n                                <span [title]="row.localized_completed_at">\n                                    {{actionStatusCompletedRelativeTimes[row.execution_id]}}\n                                </span>\n                            </ng-template>\n                        </ngx-datatable-column>\n                        <ngx-datatable-column name="Status" prop="status" [flexGrow]="1"></ngx-datatable-column>\n                        <ngx-datatable-column name="Arguments" [sortable]="false" [flexGrow]="2">\n                            <ng-template let-row="row" ngx-datatable-cell-template>\n                                {{getFriendlyArguments(row.arguments)}}\n                            </ng-template>\n                        </ngx-datatable-column>\n                        <ngx-datatable-column name="Result" [sortable]="false" [flexGrow]="4">\n                            <ng-template let-row="row" ngx-datatable-cell-template>\n                                {{getFriendlyJSON(row.result)}}\n                            </ng-template>\n                        </ngx-datatable-column>\n                        </ngx-datatable>\n                    </div>\n                </div>\n            </div>\n            <div id="errorLog" #errorLogContainer class="tab-pane fade in active" *ngIf="loadedWorkflow?.has_errors">\n                <ngx-datatable #errorLogTable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="getErrors()" [sortType]="\'multi\'"\n                       [footerHeight]="25" [rowHeight]="undefined" [sorts]="[]"\n                       [limit]="10">\n                    <ngx-datatable-column name="Error"  prop="error" [sortable]="false" [flexGrow]="1"></ngx-datatable-column>\n                </ngx-datatable>\n           </div>\n           <div id="environmentVariableLogA" #environmentVariableContainerA class="tab-pane fade">\n                <ngx-datatable #environmentVariableTable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="getVariables()" [sortType]="\'multi\'"\n                    [footerHeight]="25" [rowHeight]="undefined" [sorts]="[]" [limit]="10">\n                    <ngx-datatable-column name="Namea"  prop="name" [sortable]="false" [flexGrow]="1"></ngx-datatable-column>\n                    <ngx-datatable-column name="Default Value"  prop="value" [sortable]="false" [flexGrow]="1"></ngx-datatable-column>\n                    <ngx-datatable-column name="Description"  prop="description" [sortable]="false" [flexGrow]="3"></ngx-datatable-column>\n                    <ngx-datatable-column name="Actions" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="2">\n                        <ng-template let-row="row" ngx-datatable-cell-template>\n                            <button (click)="editVariableModal(row)" class="btn btn-primary" title="Edit Variable"><i class="fa fa-edit"></i></button>\n                            <button (click)="deleteVariable(row)" class="btn btn-danger" title="Delete Variable"><i class="fa fa-times"></i></button>\n                        </ng-template>\n                    </ngx-datatable-column>\n                </ngx-datatable>\n            </div>\n        </div>\n    </div>\n\n    <div class="row consoleRow" *ngIf="!loadedWorkflow?.id && loadedWorkflow?.environment_variables?.length > 0">\n        <ul class="nav nav-tabs">\n            <li class="active"><a data-toggle="tab" href="#environmentVariableLogB">Environment Variables</a></li>\n        </ul>\n        <div class="tab-content">\n           <div id="environmentVariableLogB" #environmentVariableContainerB class="tab-pane fade in active">\n                <ngx-datatable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="getVariables()" [sortType]="\'multi\'"\n                    [footerHeight]="25" [rowHeight]="undefined" [sorts]="[]"\n                    [limit]="10">\n                    <ngx-datatable-column name="Name"  prop="name" [sortable]="false" [flexGrow]="1"></ngx-datatable-column>\n                    <ngx-datatable-column name="Default Value"  prop="value" [sortable]="false" [flexGrow]="1"></ngx-datatable-column>\n                    <ngx-datatable-column name="Description"  prop="description" [sortable]="false" [flexGrow]="3"></ngx-datatable-column>\n                    <ngx-datatable-column name="Actions" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="2">\n                        <ng-template let-row="row" ngx-datatable-cell-template>\n                            <button (click)="editVariableModal(row)" class="btn btn-primary" title="Edit Variable"><i class="fa fa-edit"></i></button>\n                            <button (click)="deleteVariable(row)" class="btn btn-danger" title="Delete Variable"><i class="fa fa-times"></i></button>\n                        </ng-template>\n                    </ngx-datatable-column>\n                </ngx-datatable>\n            </div>\n        </div>\n    </div>\n\n    <div class="modal fade" id="playbookAndWorkflowActionModal" role="dialog" aria-labelledby="playbookAndWorkflowActionModalTitle"\n        aria-hidden="true">\n        <div class="modal-dialog" role="document">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h4 class="modal-title" id="playbookAndWorkflowActionModalTitle">{{modalParams.title}}</h4>\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                </div>\n                <div class="modal-body">\n                    <div *ngIf="modalParams.shouldShowPlaybook" class="form-group">\n                        <h6>{{modalParams.shouldShowExistingPlaybooks ? \'Select a Playbook\' : \'Enter a Playbook\'}}</h6>\n                        <select *ngIf="modalParams.shouldShowExistingPlaybooks" name="playbookSelect" id="playbookSelect" [(ngModel)]="modalParams.selectedPlaybookId"\n                            class="form-control">\n                            <option [ngValue]="\'\'">-- Create new Playbook --</option>\n                            <option *ngFor="let i of playbooks" [ngValue]="i.id" [label]="i.name">{{i.name}}</option>\n                        </select>\n                        <input type="text" *ngIf="modalParams.selectedPlaybookId === \'\' || !modalParams.shouldShowExistingPlaybooks" [(ngModel)]="modalParams.newPlaybook"\n                            class="form-control" placeholder="Enter a new playbook name">\n                    </div>\n                    <div *ngIf="modalParams.shouldShowWorkflow" class="form-group">\n                        <h6>Enter a Workflow</h6>\n                        <input type="text" [(ngModel)]="modalParams.newWorkflow" class="form-control" placeholder="Enter a new workflow name">\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n                    <button type="button" class="btn btn-primary" (click)="modalParams.submit()">{{modalParams.submitText}}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="modal fade" id="workflowsModal" role="dialog" aria-labelledby="workflowModalTitle" aria-hidden="true">\n        <div class="modal-dialog" role="document">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h4 class="modal-title" id="workflowModalTitle">Playbooks and Workflows</h4>\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                </div>\n                <div class="modal-body">\n                    <div class="importContainer">\n                        <h4>Import Playbook</h4>\n                        <div class="pull-right">\n                            <input #importFile type="file" name="file" id="file" class="importPlaybookInput" (change)="onImportSelectChange($event)"/>\n                            <button [disabled]="!playbookToImport" (click)="importPlaybook()" class="btn btn-primary" title="Import Playbook">\n                                <i class="fa fa-upload"></i>\n                            </button>\n                        </div>\n                    </div>\n                    <div class="panel-group" id="workflowAccordion">\n                        <div *ngFor="let playbook of playbooks" class="panel panel-default">\n                            <div class="panel-heading playbook-heading" data-toggle="collapse" [attr.data-target]="\'#loadWorkflowCollapse\' + removeWhitespace(playbook.name)">\n                                <h4 class="panel-title">\n                                    {{playbook.name}}\n                                    <div class="pull-right">\n                                        <button (click)="renamePlaybookModal($event, playbook)" class="btn btn-primary" title="Rename Playbook">\n                                            <i class="fa fa-i-cursor"></i>\n                                        </button>\n                                        <button (click)="duplicatePlaybookModal($event, playbook)" class="btn btn-primary" title="Duplicate Playbook">\n                                            <i class="fa fa-copy"></i>\n                                        </button>\n                                        <button (click)="exportPlaybook($event, playbook)" class="btn btn-primary" title="Export Playbook">\n                                            <i class="fa fa-download"></i>\n                                        </button>\n                                        <button (click)="deletePlaybook($event, playbook)" class="btn btn-danger" title="Delete Playbook">\n                                            <i class="fa fa-times"></i>\n                                        </button>\n                                    </div>\n                                </h4>\n                            </div>\n                            <div id="loadWorkflowCollapse{{removeWhitespace(playbook.name)}}" class="panel-collapse collapse">\n                                <div class="panel-body">\n                                    <div *ngFor="let workflow of playbook.workflows" class="panel panel-default workflowPanel">\n                                        <div class="panel-body">\n                                            <a (click)="loadWorkflow(playbook, workflow)">{{workflow.name}}</a>\n                                            <div class="pull-right">\n                                                \x3c!-- <button (click)="renameWorkflowModal(playbook.id, workflow.id)" class="btn btn-primary" title="Rename Workflow">\n                                                    <i class="fa fa-i-cursor"></i>\n                                                </button> --\x3e\n                                                <button (click)="duplicateWorkflowModal(playbook.id, workflow.id)" class="btn btn-primary" title="Duplicate Workflow">\n                                                    <i class="fa fa-copy"></i>\n                                                </button>\n                                                <button (click)="deleteWorkflow(playbook, workflow)" class="btn btn-danger" title="Delete Workflow">\n                                                    <i class="fa fa-times"></i>\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},963:function(t,e,n){var a=n(964);t.exports="string"==typeof a?a:a.toString()},964:function(t,e,n){var a=n(965);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},965:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,'/* @import \'/client/node_modules/cytoscape-panzoom/cytoscape.js-panzoom.css\';\n@import \'/client/node_modules/ng2-dnd/bundles/style.css\'; */\n\n#main.playbookMain {\n\tpadding: 10px 15px 0 15px;\n}\n\n.playbookMain .parametersEditor .failure {\n    color: crimson;\n}\n\n#playbookToolbar {\n\tbackground-color: #aecbdc;\n\tmargin-left: 0;\n\tmargin-bottom: 5px;\n\tborder: 1px solid #8b9aa3;\n\tborder-radius: 5px;\n}\n\n#playbookToolbar .btn-default {\n\tbackground-color: #aecbdc;\n\tborder-color: #aecbdc;\n}\n\n#playbookToolbar .btn-default:hover {\n\tbackground-color: #eaf2f6;\n\tborder-color: #eaf2f6;\n\tmargin: 0;\n\tborder-radius: 0;\n}\n\n#playbookToolbar .btn-group {\n\tborder-right: 1px solid #8b9aa3;\n}\n\n#playbookToolbar .btn-group>.btn:first-child {\n\tmargin: 0;\n\tpadding: 10px;\n}\n\n#playbookToolbar .btn-toolbar>.btn, .btn-toolbar>.btn-group, .btn-toolbar>.input-group {\n\tmargin-left: 0;\n}\n\n#playbookToolbar .form-control.workflowNameInput {\n\tdisplay: inline-block;\n\twidth: auto;\n}\n\n#currentWorkflowText {\n\tmargin-left: 20px;\n\tmargin-top: 10px;\n\tfont-size: 18px;\n}\n\n.consoleRow {\n    padding:10px;\n}\n\n/* Console Row = 200px */\n.playbookMain .graphEditorRow, .playbookMain .graphEditorColumn {\n\theight: calc(100vh - 310px);\n\toverflow: auto;\n}\n\n.playbookMain .panel-heading.playbook-heading {\n\tcursor: pointer;\n}\n\n#playbookEditorTabs {\n\tdisplay: inline-block;\n\tvertical-align: top;\n\theight: 100%;\n\twidth:100%;\n\tposition: inherit;\n\tbackground: transparent;\n}\n\n#cy {\n\t/* display: inline-block; */\n\t/* vertical-align: top; */\n\twidth: 100%;\n\theight: 100%;\n}\n\n/* Need to do this else panzoom appears above modals */\n#cy .cy-panzoom {\n\tz-index: 10;\n}\n\n#cy-instructions {\n\tpadding: 20px;\n\tfont-size: 25px;\n}\n\n#cy-json-data {\n\tbackground-color: white;\n\tcolor: black;\n\tfont-weight: normal;\n\theight: 630px;\n\twidth: 500px;\n\tresize: none;\n}\n\n.playbookMain #accordion .panel-heading .panel-title:after {\n\t/* symbol for "opening" panels */\n\tfont: normal normal normal 14px/1 FontAwesome;\n\tfont-size: inherit;\n\ttext-rendering: auto;\n\tcontent: "\\F078";    /* adjust as needed, taken from bootstrap.css */\n\tfloat: right;        /* adjust as needed */\n\tcolor: grey;         /* adjust as needed */\n}\n\n#app_search_bar_container {\n  position: relative;\n  &:after {\n    content: \'\\E003\';\n    width: 18px;\n    height: 18px;\n    position: absolute;\n    right: 10px;\n    bottom: 10px;\n  }\n}\n#app_search_bar {\n    display: block;\n    margin: 10px auto;\n    width: 100%;\n    padding: 7px 10px;\n    border: 1px solid $grey;\n    border-radius: 25px;\n    outline: 0;\n}\n.playbookMain #accordion .panel-heading.collapsed .panel-title:after {\n\t/* symbol for "collapsed" panels */\n\tcontent: "\\F054";    /* adjust as needed, taken from bootstrap.css */\n}\n\n.playbookMain .panel-default>.panel-heading {\n\tbackground-color: #eaf2f6;\n\tfont-weight: bolder;\n}\n\n.playbookMain .parametersEditor input[type=checkbox].form-control {\n\twidth: 34px;\n\tmargin: 0 5px;\n}\n\n.playbookMain .parametersEditor .form-group.argument {\n\tmargin-bottom: 5px;\n\tpadding: 5px;\n}\n\n.playbookMain .parametersEditor .form-group.argument.odd {\n\tbackground-color: #EEE;\n}\n\n.playbookMain .parametersEditor .indent {\n\tborder-left: 3px solid #DDD;\n\tborder-top: 1px solid #DDD;\n\tborder-bottom: 1px solid #DDD;\n\tpadding: 5px 0 5px 15px;\n\tmargin-top: 5px;\n\tmargin-bottom: 5px;\n}\n\n.playbookMain .parametersEditor .addBar {\n\tmargin-bottom: 10px;\n}\n\n.playbookMain .parametersEditor .addBar button {\n\tmargin-top: 25px;\n}\n\n.playbookMain .parametersEditor .propertyHeader {\n\tmargin-bottom: 5px;\n}\n\n.playbookMain .parametersEditor .required {\n\tcolor: crimson;\n\tmargin-left: 5px;\n}\n\n.playbookMain ngx-datatable datatable-body datatable-body-row datatable-body-cell .datatable-body-cell-label {\n\twhite-space: initial;\n}\n\n#workflowsModal .workflowPanel a {\n\tcursor: pointer;\n}\n\n#workflowsModal .panel-heading h4 {\n\tmin-height: 30px;\n}\n\n#workflowsModal .importContainer {\n\tmargin-bottom: 5px;\n}\n\n#workflowsModal .importContainer h4 {\n\tdisplay: inline-block;\n}\n\n#workflowsModal .importPlaybookInput {\n\tdisplay: inline-block;\n}\n\n#workflowsModal .modal-title,\n#executionResultsModal .modal-title,\n#playbookAndWorkflowActionModal .modal-title {\n\tdisplay: inline-block;\n}\n\n#executionResultsModal > .modal-dialog {\n\twidth: 95%;\n}',""])},97:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(106),o=(function(){function t(){this.role_ids=[]}return t.prototype.toSave=function(){var t=new a.a;return t.id=this.id,t.username=this.username,t.roles=this.role_ids.map((function(t){return{id:t}})),t.active=this.active,t.old_password=this.currentPassword,t.password=this.newPassword,t},t})()},973:function(t,e){t.exports='<div class="modal-header">\n\t<h4 class="modal-title">{{title}}</h4>\n</div>\n<div class="modal-body">\n\t<div class="container-fluid">\n\t\t<div class="form-group">\n\t\t\t<label for="name">Workflow(s)</label>\n\t\t\t\x3c!--No two-way binding available - ng-select2 package has it but requires transpiling--\x3e\n\t\t\t<select2 [data]="availableWorkflows" [value]="workingScheduledTask.workflows" [options]="workflowSelectConfig"\n\t\t\t\tname="workflows" tabindex="2" (valueChanged)="workflowsSelectChanged($event)"></select2>\n\t\t</div>\n\t\t<div class="row">\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="name">Name</label>\n\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingScheduledTask.name" name="name" required tabindex="1">\n\t\t\t\t</div>\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="name">Trigger Type</label>\n\t\t\t\t\t<select class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.type" name="type" tabindex="4" (change)="changeType($event.target.value)">\n\t\t\t\t\t\t<option value=""></option>\n\t\t\t\t\t\t<option *ngFor="let i of scheduledItemTriggerTypes" [value]="i" [label]="i">{{i}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="col-xs-6">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="name">Description</label>\n\t\t\t\t\t<textarea class="form-control" [(ngModel)]="workingScheduledTask.description" name="port" required tabindex="2" rows="5"></textarea>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="row" *ngIf="workingScheduledTask.task_trigger.type === \'date\'">\n\t\t\t<div class="col-xs-12">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="name">Run Datetime</label>\n\t\t\t\t\t<input class="form-control" [value]="workingScheduledTask.task_trigger.args.run_date | date: \'short\'" [(ngModel)]="workingScheduledTask.task_trigger.args.run_date"\n\t\t\t\t\t\tname="run_date" [minMoment]="getToday()" dateTimePicker required />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div *ngIf="workingScheduledTask.task_trigger.type === \'interval\'">\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Start Datetime</label>\n\t\t\t\t\t\t<input class="form-control" [value]="workingScheduledTask.task_trigger.args.start_date | date: \'short\'" [(ngModel)]="workingScheduledTask.task_trigger.args.start_date"\n\t\t\t\t\t\t\tname="start_date" [minMoment]="getToday()" dateTimePicker required />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">End Datetime</label>\n\t\t\t\t\t\t<input class="form-control" [value]="workingScheduledTask.task_trigger.args.end_date | date: \'short\'" [(ngModel)]="workingScheduledTask.task_trigger.args.end_date"\n\t\t\t\t\t\t\tname="end_date" [minMoment]="getToday()" dateTimePicker />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-2">\n\t\t\t\t\t<h3>Occur every...</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-2">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Weeks</label>\n\t\t\t\t\t\t<input type="number" min="0" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.weeks" name="weeks" required>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-2">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Days</label>\n\t\t\t\t\t\t<input type="number" min="0" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.days" name="days" required>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-2">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Hours</label>\n\t\t\t\t\t\t<input type="number" min="0" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.hours" name="hours" required>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-2">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Minutes</label>\n\t\t\t\t\t\t<input type="number" min="0" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.minutes" name="minutes"\n\t\t\t\t\t\t\trequired>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-2">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Seconds</label>\n\t\t\t\t\t\t<input type="number" min="0" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.seconds" name="seconds"\n\t\t\t\t\t\t\trequired>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div *ngIf="workingScheduledTask.task_trigger.type === \'cron\'">\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Start Datetime</label>\n\t\t\t\t\t\t<input class="form-control" [value]="workingScheduledTask.task_trigger.args.start_date | date: \'short\'" [(ngModel)]="workingScheduledTask.task_trigger.args.start_date"\n\t\t\t\t\t\t\tname="start_date" [minMoment]="getToday()" dateTimePicker required />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">End Datetime</label>\n\t\t\t\t\t\t<input class="form-control" [value]="workingScheduledTask.task_trigger.args.end_date | date: \'short\'" [(ngModel)]="workingScheduledTask.task_trigger.args.end_date"\n\t\t\t\t\t\t\tname="end_date" [minMoment]="getToday()" dateTimePicker />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-3">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Year</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.year" name="year">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Day</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.day" name="day">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-3">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Month</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.month" name="month">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Hour</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.hour" name="hour">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-3">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Week</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.week" name="week">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Minute</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.minute" name="minute">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-3">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Day of Week</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.day_of_week" name="day_of_week">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Second</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingScheduledTask.task_trigger.args.second" name="second">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<div class="modal-footer">\n\t<button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Undo Changes and Close</button>\n\t<button type="button" class="btn btn-primary" (click)="submit()">{{submitText}}</button>\n</div>'},974:function(t,e,n){var a=n(975);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},975:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"/* @import '/client/node_modules/ng-pick-datetime/styles/picker.min.css'; */\n\n.schedulerMain {\n\tpadding: 10px 15px;\n}\n\n.schedulerMain #schedulerStatus {\n\tdisplay: inline-block;\n}\n\n.schedulerMain ngx-datatable datatable-body datatable-body-row datatable-body-cell .datatable-body-cell-label {\n\twhite-space: initial;\n}",""])},976:function(t,e){t.exports='<div id="main" class="schedulerMain">\n\t<h1>Scheduler</h1>\n\n\t<div class="row">\n\t\t<div class="col-xs-2">\n\t\t\t<button (click)="addScheduledTask()" class="btn btn-primary"><i class="fa fa-plus"></i>Add To Schedule</button>\n\t\t</div>\n\n\t\t<div class="col-xs-4">\n\t\t\t<div id="schedulerStatus">\n\t\t\t\t<h4>Scheduler Status: <span id="status">{{schedulerStatus}}</span></h4>\n\t\t\t</div>\n\t\t\t<button *ngIf="schedulerStatus && schedulerStatus !== \'running\'" (click)="changeSchedulerStatus(\'start\')" class="btn btn-primary"\n\t\t\t\tid="startSchedulerBtn" title="Start Scheduler">\n\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t</button>\n\t\t\t<button *ngIf="schedulerStatus && schedulerStatus === \'running\'" (click)="changeSchedulerStatus(\'pause\')" class="btn btn-warning"\n\t\t\t\tid="pauseSchedulerBtn" title="Pause Scheduler">\n\t\t\t\t<i class="fa fa-pause"></i>\n\t\t\t</button>\n\t\t\t<button *ngIf="schedulerStatus && schedulerStatus === \'running\'" (click)="changeSchedulerStatus(\'stop\')" class="btn btn-danger"\n\t\t\t\tid="stopSchedulerBtn" title="Stop Scheduler">\n\t\t\t\t<i class="fa fa-stop"></i>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class="col-xs-6">\n\t\t\t<div class="form-group row">\n\t\t\t\t<label class="col-xs-2 col-form-label">Search Filter</label>\n\t\t\t\t<div class="col-xs-10">\n\t\t\t\t\t<input class="form-control" [formControl]="filterQuery" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<ngx-datatable #scheduleTable class=\'material expandable scheduledTasksTable\' [columnMode]="\'flex\'" [rows]="displayScheduledTasks"\n\t [sorts]="[{prop: \'name\', dir: \'asc\'}]" [sortType]="\'multi\'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [limit]="25">\n\t\t\x3c!-- Column Templates --\x3e\n\t\t<ngx-datatable-column name="Name" prop="name" [flexGrow]="2">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t<span title="{{row.description}}">{{row.name}}</span>\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Workflow(s)" [flexGrow]="3" [sortable]="false">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t{{getFriendlyWorkflows(row)}}\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Status" prop="status" [flexGrow]="1"></ngx-datatable-column>\n\t\t<ngx-datatable-column name="Type" prop="task_trigger.type" [flexGrow]="1"></ngx-datatable-column>\n\t\t<ngx-datatable-column name="Rule" [sortable]="false" [flexGrow]="4">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t{{getRule(row)}}\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Actions" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="2">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t<button *ngIf="row.status === \'stopped\' || row.status === \'paused\'" (click)="changeScheduledTaskStatus(row, \'start\')" title="Start Scheduled Task"\n\t\t\t\t\tclass="btn btn-primary">\n\t\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\t</button>\n\t\t\t\t\x3c!--<button *ngIf="row.status === \'running\'\'" (click)="changeScheduledTaskStatus(row, \'pause\')" title="Pause Scheduled Task"\n\t\t\t\t\tclass="btn btn-warning">\n\t\t\t\t\t<i class="fa fa-pause"></i>\n\t\t\t\t</button>--\x3e\n\t\t\t\t<button *ngIf="row.status === \'running\' || row.status === \'paused\'" (click)="changeScheduledTaskStatus(row, \'stop\')" title="Stop Scheduled Task"\n\t\t\t\t\tclass="btn btn-danger">\n\t\t\t\t\t<i class="fa fa-stop"></i>\n\t\t\t\t</button>\n\t\t\t\t<button (click)="editScheduledTask(row)" class="btn btn-primary" title="Edit Scheduled Task">\n\t\t\t\t\t<i class="fa fa-edit"></i>\n\t\t\t\t</button>\n\t\t\t\t<button (click)="deleteScheduledTask(row)" class="btn btn-danger" title="Delete Scheduled Task">\n\t\t\t\t\t<i class="fa fa-times"></i>\n\t\t\t\t</button>\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t</ngx-datatable>\n</div>'},980:function(t,e){t.exports='<div class="modal-header">\n\t<h4 class="modal-title">{{title}}</h4>\n</div>\n<div class="modal-body">\n\t<div class="container-fluid">\n\t\t<form id="deviceForm" #deviceForm="ngForm" (ngSubmit)="submit()">\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Name<i class="fa fa-asterisk required" title="This field is required."></i></label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingDevice.name" #name="ngModel" name="name" required tabindex="1">\n\t\t\t\t\t\t<div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger">\n\t\t\t\t\t\t\t<div [hidden]="!name.errors.required">\n\t\t\t\t\t\t\t\tName is required.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="app_name">Associated App<i class="fa fa-asterisk required" title="This field is required."></i></label>\n\t\t\t\t\t\t<select class="form-control" [ngModel]="workingDevice.app_name" #app="ngModel" (change)="handleAppSelection($event, $event.target.value)" \n\t\t\t\t\t\t [disabled]="workingDevice.id" name="app_name" tabindex="3" required>\n\t\t\t\t\t\t\t<option value=""></option>\n\t\t\t\t\t\t\t<option *ngFor="let i of appNames" [value]="i" [label]="i">{{i}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<div *ngIf="app.errors && (app.dirty || app.touched)" class="alert alert-danger">\n\t\t\t\t\t\t\t<div [hidden]="!app.errors.required">\n\t\t\t\t\t\t\t\tApp is required.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="description">Description</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingDevice.description" name="ip" tabindex="2">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="type">Device Type<i class="fa fa-asterisk required" title="This field is required."></i></label>\n\t\t\t\t\t\t<select class="form-control" [ngModel]="workingDevice.type" #typeRef #type="ngModel" (change)="handleDeviceTypeSelection(event, $event.target.value)"\n\t\t\t\t\t\t name="type" tabindex="4" required>\n\t\t\t\t\t\t\t<option value=""></option>\n\t\t\t\t\t\t\t<option *ngFor="let i of deviceTypesForApp" [value]="i.name" [label]="i.name">{{i.name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<div *ngIf="type.errors && (type.dirty || type.touched)" class="alert alert-danger">\n\t\t\t\t\t\t\t<div [hidden]="!type.errors.required">\n\t\t\t\t\t\t\t\tDevice type is required.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ng-container *ngIf="selectedDeviceType">\n\t\t\t\t<div *ngFor="let i of selectedDeviceType.fields" class="form-group">\n\t\t\t\t\t<label for="{{i.name}}">\n\t\t\t\t\t\t{{i.name}}\n\t\t\t\t\t\t<i *ngIf="i.description != null" class="fa fa-info-circle" [title]="i.description"></i>\n\t\t\t\t\t\t<i *ngIf="i.required" class="fa fa-asterisk required" title="This field is required."></i>\n\t\t\t\t\t\t<i *ngIf="i.encrypted" class="fa fa-lock"\n\t\t\t\t\t\t title="This field will be encrypted at rest and will not be returned to the client for viewing or editing."></i>\n\t\t\t\t\t\t\x3c!-- If we have an encrypted field AND this is an edit AND there is an encrypted value on the server, allow the user to clear it if it\'s not required --\x3e\n\t\t\t\t\t\t<div *ngIf="workingDevice.id && i.encrypted && workingDevice.fields[i.name] !== undefined" class="form-check form-check-inline">\n\t\t\t\t\t\t\t<label class="form-check-label">\n\t\t\t\t\t\t\t\tClear Existing Value\n\t\t\t\t\t\t\t\t<input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1" \n\t\t\t\t\t\t\t\t(change)="handleEncryptedFieldClear(i.name, $event.target.checked)">\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\n\t\t\t\t\t\x3c!-- Normal string text entries --\x3e\n\t\t\t\t\t<input *ngIf="i.schema.type === \'string\' && !i.schema.enum" class="form-control" name="{{i.name}}" [(ngModel)]="workingDevice.fields[i.name]"\n\t\t\t\t\t [attr.type]="i.encrypted ? \'password\' : \'text\'" [attr.minlength]="i.schema.minLength > 0 ? i.schema.minLength : null"\n\t\t\t\t\t [attr.maxlength]="i.schema.maxLength > 0 ? i.schema.maxLength : null"\n\t\t\t\t\t [attr.pattern]="i.schema.pattern ? i.schema.pattern : null" [attr.required]="i.required"\n\t\t\t\t\t [disabled]="encryptedFieldsToBeCleared[i.name]" [attr.placeholder]="i.placeholder">\n\n\t\t\t\t\t\x3c!-- Enum types, make a select box --\x3e\n\t\t\t\t\t<select *ngIf="i.schema.enum" class="form-control" name="{{i.name}}" [(ngModel)]="workingDevice.fields[i.name]"\n\t\t\t\t\t[attr.required]="i.required">\n\t\t\t\t\t\t<option *ngIf="!i.required" value=""></option>\n\t\t\t\t\t\t<option *ngFor="let i of i.schema.enum" [value]="i" [label]="i">{{i}}</option>\n\t\t\t\t\t</select>\n\n\t\t\t\t\t\x3c!-- For numbers enter number info --\x3e\n\t\t\t\t\t<input *ngIf="i.schema.type === \'number\' || i.schema.type === \'integer\'" class="form-control" name="{{i.name}}"\n\t\t\t\t\t [(ngModel)]="workingDevice.fields[i.name]" type="number" [attr.min]="getMin(i.schema)" [attr.max]="getMax(i.schema)"\n\t\t\t\t\t [attr.step]="i.schema.multipleOf > 0 ? i.schema.multipleOf : null" [attr.required]="i.required"\n\t\t\t\t\t [attr.placeholder]="i.placeholder">\n\n\t\t\t\t\t\x3c!-- Checkbox for boolean values --\x3e\n\t\t\t\t\t<input *ngIf="i.schema.type === \'boolean\'" type="checkbox" class="form-control" name="{{i.name}}" [(ngModel)]="workingDevice.fields[i.name]">\n\n\t\t\t\t\t\x3c!-- Repeat input for encrypted fields --\x3e\n\t\t\t\t\t<ng-container *ngIf="encryptedConfirmFields[i.name] !== undefined">\n\t\t\t\t\t\t<label for="_{{i.name}}" class="confirmLabel">Repeat {{i.name}}</label>\n\t\t\t\t\t\t<input type="password" class="form-control" name="_{{i.name}}" [(ngModel)]="encryptedConfirmFields[i.name]"\n\t\t\t\t\t\t[disabled]="encryptedFieldsToBeCleared[i.name]" placeholder="Enter the value for {{i.name}} again" required>\n\t\t\t\t\t</ng-container>\n\n\t\t\t\t\t\x3c!-- Validation errors go here if they exist --\x3e\n\t\t\t\t\t<div *ngIf="validationErrors[i.name]" class="alert alert-danger">\n\t\t\t\t\t\t{{validationErrors[i.name]}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\t\t</form>\n\t</div>\n</div>\n<div class="modal-footer">\n\t<button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Undo Changes and Close</button>\n\t<button type="button" class="btn btn-primary" [disabled]="!isBasicInfoValid()" (click)="submit()">{{submitText}}</button>\n</div>'},981:function(t,e,n){var a=n(982);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},982:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"#main.devicesMain {\n\tpadding: 10px 15px;\n}\n\n.devicesMain ngx-datatable datatable-body datatable-body-row datatable-body-cell .datatable-body-cell-label {\n\twhite-space: initial;\n}\n\n#deviceForm input[type=checkbox].form-control {\n\twidth: 34px;\n\tmargin: 0 5px;\n}\n\n#deviceForm .confirmLabel {\n\tmargin-top: 15px;\n}\n\n#deviceForm .required {\n\tcolor: crimson;\n}\n\n#deviceForm .fa {\n\tmargin-left: 5px;\n}",""])},983:function(t,e){t.exports='<div id="main" class="devicesMain">\n    <h1>Device Management</h1>\n\n    <div class="row">\n        <div class="col-xs-2">\n            <button (click)="addDevice()" class="btn btn-primary"><i class="fa fa-plus"></i>Add Device</button>\n        </div>\n        <div class="col-xs-5">\n            <select2 [data]="availableApps" [options]="appSelectConfig" (valueChanged)="appSelectChange($event)"></select2>\n        </div>\n        <div class="col-xs-5">\n            <div class="form-group row">\n                <label class="col-xs-2 col-form-label">Search Filter</label>\n                <div class="col-xs-10">\n                    <input class="form-control" [formControl]="filterQuery" />\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <ngx-datatable #deviceTable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="displayDevices" [sortType]="\'multi\'"\n     [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [sorts]="[{prop: \'name\', dir: \'asc\'}]" [limit]="25">\n        \x3c!-- Column Templates --\x3e\n        <ngx-datatable-column name="Name" prop="name" [flexGrow]="2"></ngx-datatable-column>\n        <ngx-datatable-column name="App" prop="app_name" [flexGrow]="2"></ngx-datatable-column>\n        <ngx-datatable-column name="Type" prop="type" [flexGrow]="2"></ngx-datatable-column>\n        <ngx-datatable-column name="Fields" [sortable]="false" [flexGrow]="5">\n            <ng-template let-row="row" ngx-datatable-cell-template>\n                {{getCustomFields(row)}}\n            </ng-template>\n        </ngx-datatable-column>\n        <ngx-datatable-column name="Actions" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="2">\n            <ng-template let-row="row" ngx-datatable-cell-template>\n                <button (click)="editDevice(row)" class="btn btn-primary" title="Edit Device"><i class="fa fa-edit"></i></button>\n                <button (click)="deleteDevice(row)" class="btn btn-danger" title="Delete Device"><i class="fa fa-times"></i></button>\n            </ng-template>\n        </ngx-datatable-column>\n    </ngx-datatable>\n</div>'},984:function(t,e){t.exports='<div class="modal-header">\n\t<h4 class="modal-title">\n\t\t{{message.subject}}\n\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="dismiss()">\n\t\t  <span aria-hidden="true">&times;</span>\n\t\t</button>\n\t</h4>\n</div>\n<div id="messageModalBody" class="modal-body">\n\t<div class="container-fluid">\n\t\t<div *ngIf="message.read_by && message.read_by.length">\n\t\t\t<i>Read by: {{message.read_by.join(\', \')}}</i>\n\t\t</div>\n\t\t<div *ngIf="message.responded_by">\n\t\t\t<i>\n\t\t\t\tResponded by: {{message.responded_by}}\n\t\t\t\t<span [title]="utils.getLocalTime(message.responded_at)">({{utils.getRelativeLocalTime(message.responded_at)}})</span>\n\t\t\t</i>\n\t\t</div>\n\t\t<div *ngFor="let body of message.body">\n\t\t\t<p *ngIf="body.type === \'text\'">{{body.data.text}}</p>\n\t\t\t<a *ngIf="body.type === \'url\'" [href]="body.data.url">{{body.data.title ? body.data.title : body.data.url}}</a>\n\t\t\t<div *ngIf="body.type === \'accept_decline\'">\n\t\t\t\t<button type="button" class="btn btn-secondary" (click)="performMessageAction(\'decline\')" [disabled]="!message.awaiting_response">Decline</button>\n\t\t\t\t<button type="button" class="btn btn-primary" (click)="performMessageAction(\'accept\')" [disabled]="!message.awaiting_response">Accept</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\x3c!-- <div class="modal-footer">\n\t<button type="button" class="btn btn-secondary" (click)="dismiss()">Undo Changes and Close</button>\n\t<button type="button" class="btn btn-primary" [disabled]="!roleForm.form.valid" (click)="submit()">{{submitText}}</button>\n</div> --\x3e'},985:function(t,e,n){var a=n(986);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},986:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".messagesMain {\n\tpadding: 10px 15px;\n}\n\n.messagesMain .unread {\n\tfont-weight: bold;\n}\n\n.messagesMain .required {\n\tcolor: crimson;\n}",""])},987:function(t,e){t.exports='<div id="main" class="messagesMain">\n\t<h1>Messages</h1>\n\n\t<div class="row">\n\t\t<div class="col-xs-6">\n\t\t\t<button (click)="deleteSelected()" class="btn btn-secondary" title="Delete Selected">\n\t\t\t\t<i class="fa fa-trash-o"></i>\n\t\t\t</button>\n\t\t\t<button (click)="markSelectedAsRead()" class="btn btn-secondary" title="Mark Selected as Read">\n\t\t\t\t<i class="fa fa-envelope-open-o"></i>\n\t\t\t</button>\n\t\t\t<button (click)="markSelectedAsUnread()" class="btn btn-secondary" title="Mark Selected as Unread">\n\t\t\t\t<i class="fa fa-envelope-o"></i>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="col-xs-6">\n\t\t\t<div class="form-group row">\n\t\t\t\t<label class="col-xs-2 col-form-label">Search Filter</label>\n\t\t\t\t<div class="col-xs-10">\n\t\t\t\t\t<input class="form-control" [formControl]="filterQuery" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<template ngbModalContainer></template>\n\t<ngx-datatable #messagesTable class=\'material expandable\' [columnMode]="\'flex\'" [rows]="displayMessages" [sortType]="\'multi\'"\n\t [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [sorts]="[{prop: \'created_at\', dir: \'desc\'}]" [limit]="25">\n\t\t\x3c!-- Column Templates --\x3e\n\t\t<ngx-datatable-column name="" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="0">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t<input type="checkbox" [(ngModel)]="selectMapping[row.id]">\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Subject" prop="subject" [flexGrow]="2">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t<div>\n\t\t\t\t\t<i *ngIf="row.awaiting_response" class="fa fa-exclamation required" title="This message is awaiting response."></i>\n\t\t\t\t\t<a href="#" class="messageLink" [class.unread]="!row.is_read" (click)="openMessage($event, row)">\n\t\t\t\t\t\t{{utils.getDefaultString(row.subject, \'(no subject)\')}}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t\t<ngx-datatable-column name="Sent" prop="created_at" [flexGrow]="1">\n\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t<span [title]="utils.getLocalTime(row.created_at)">\n\t\t\t\t\t{{messageRelativeTimes[row.id]}}\n\t\t\t\t</span>\n\t\t\t</ng-template>\n\t\t</ngx-datatable-column>\n\t</ngx-datatable>\n</div>'},988:function(t,e){t.exports='<div class="modal-header">\n\t<h4 class="modal-title">{{title}}</h4>\n</div>\n<div class="modal-body">\n\t<div class="container-fluid">\n\t\t<div class="row">\n\t\t\t<form #caseForm="ngForm" (ngSubmit)="submit()">\n\t\t\t\t<div class="col-xs-3">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Name</label>\n\t\t\t\t\t\t<input type="text" class="form-control" [(ngModel)]="workingCase.name" name="name" #name="ngModel" required>\n\t\t\t\t\t\t<div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger">\n\t\t\t\t\t\t\t<div [hidden]="!name.errors.required">\n\t\t\t\t\t\t\t\tName is required.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-9">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="name">Note</label>\n\t\t\t\t\t\t<input type="textarea" class="form-control" [(ngModel)]="workingCase.note" #note="ngModel" name="note">\n\t\t\t\t\t\t\x3c!--<div *ngIf="note.errors && (note.dirty || note.touched)" class="alert alert-danger">\n\t\t\t\t\t\t\t<div [hidden]="!note.errors.required">\n\t\t\t\t\t\t\t\tThe note is required.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>--\x3e\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t\t<div class="row">\n\t\t\t<div class="col-xs-10 caseSubscriptionCol">\n\t\t\t\t<svg overflow="scroll" id="caseSubscriptionsTree"></svg>\n\t\t\t</div>\n\t\t\t<div class="col-xs-2 caseSubscriptionCol">\n\t\t\t\t<h3 [hidden]="!selectedNode.name">Selected events for {{selectedNode.type}} node "{{selectedNode.name}}"</h3>\n\t\t\t\t<ul class="eventsList">\n\t\t\t\t\t<li *ngFor="let event of workingEvents">\n\t\t\t\t\t\t<input type="checkbox" [value]="event.isChecked" [checked]="event.isChecked"\n\t\t\t\t\t\t\t(change)="handleEventSelectionChange(event, $event.target.checked)"> {{event.name}}\n\t\t\t\t\t</li>\n\t\t\t\t\t<li *ngIf="selectedNode.name && !workingEvents.length">\n\t\t\t\t\t\t<i>No events available for this node.</i>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<div class="modal-footer">\n\t<button type="button" class="btn btn-secondary" (click)="activeModal.dismiss()">Undo Changes and Close</button>\n\t<button type="button" class="btn btn-primary" [disabled]="!caseForm.form.valid" (click)="submit()">{{submitText}}</button>\n</div>'},989:function(t,e,n){var a=n(990);t.exports="string"==typeof a?a:a.toString()},990:function(t,e,n){var a=n(991);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},991:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".casesModal > .modal-dialog {\n\twidth: 95%;\n}\n.caseSubscriptionCol {\n\toverflow: auto;\n}\n.eventsList {\n\tlist-style: none;\n\tpadding-left: 0;\n}\n#caseSubscriptionsTree {\n\tuser-select: none;\n\t-webkit-user-select: none;  /* Chrome all / Safari all */\n\t-moz-user-select: none;     /* Firefox all */\n\t-ms-user-select: none;      /* IE 10+ */\n}\n\t#caseSubscriptionsTree .node circle {\n\t\tfill: #fff;\n\t\tstroke: steelblue;\n\t\tstroke-width: 3px;\n\t\tcursor: pointer;\n\t}\n\t#caseSubscriptionsTree .node.highlighted circle, \n\t#caseSubscriptionsTree .node.highlighted.included circle{\n\t\tstroke: red;\n\t}\n\t#caseSubscriptionsTree .node.included circle {\n\t\tstroke: black;\n\t}\n\t#caseSubscriptionsTree .node text {\n\t\tfont: 12px sans-serif;\n\t\tcursor: pointer;\n\t}\n\t#caseSubscriptionsTree .node.included text {\n\t\tfont-weight: bold;\n\t}\n\t#caseSubscriptionsTree .link {\n\t\tfill: none;\n\t\tstroke: #ccc;\n\t\tstroke-width: 2px;\n\t}",""])},992:function(t,e){t.exports='<div id="main" class="casesMain">\n\t<ul class="nav nav-tabs" role="tablist">\n\t\t<li class="active"><a href="#events" data-toggle="tab" role="tab">Case Event Log</a></li>\n\t\t<li><a href="#cases" data-toggle="tab" role="tab">Case Management</a></li>\n\t</ul>\n\t<div class="tab-content">\n\t\t<div id="events" class="tab-pane fade in active">\n\t\t\t<h1>Case Event Log</h1>\n\n\t\t\t<div class="row">\n\t\t\t\t<div class="box-header col-xs-2">\n\t\t\t\t\t<h3 class="box-title">Events</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-5">\n\t\t\t\t\t<select2 [data]="availableCases" [value]="" [options]="caseSelectConfig" (valueChanged)="caseSelectChange($event)"></select2>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-5">\n\t\t\t\t\t<div class="form-group row">\n\t\t\t\t\t\t<label class="col-xs-2 col-form-label">Search Filter</label>\n\t\t\t\t\t\t<div class="col-xs-10">\n\t\t\t\t\t\t\t<input class="form-control" [formControl]="eventFilterQuery" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ngx-datatable #eventsTable class=\'material expandable eventsTable\' [columnMode]="\'flex\'" [rows]="displayCaseEvents" [sortType]="\'multi\'"\n\t\t\t [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [sorts]="[{prop: \'timestamp\', dir: \'desc\'}]" [limit]="25">\n\t\t\t\t\x3c!-- Column Templates --\x3e\n\t\t\t\t<ngx-datatable-column name="ID" prop="id" [flexGrow]="1"></ngx-datatable-column>\n\t\t\t\t<ngx-datatable-column name="Timestamp" prop="timestamp" [flexGrow]="2"></ngx-datatable-column>\n\t\t\t\t<ngx-datatable-column name="Type" prop="type" [flexGrow]="2"></ngx-datatable-column>\n\t\t\t\t<ngx-datatable-column name="Originator" prop="originator" [flexGrow]="2"></ngx-datatable-column>\n\t\t\t\t<ngx-datatable-column name="Data" [sortable]="false" [flexGrow]="4">\n\t\t\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t\t\t{{getFriendlyObject(row.data)}}\n\t\t\t\t\t</ng-template>\n\t\t\t\t</ngx-datatable-column>\n\t\t\t\t<ngx-datatable-column name="Message" prop="message" [flexGrow]="3"></ngx-datatable-column>\n\t\t\t</ngx-datatable>\n\t\t</div>\n\t\t<div id="cases" class="tab-pane fade">\n\t\t\t<h1>Case Management</h1>\n\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<button (click)="addCase()" class="btn btn-primary"><i class="fa fa-plus"></i>Add Case</button>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-xs-6">\n\t\t\t\t\t<div class="form-group row">\n\t\t\t\t\t\t<label class="col-xs-2 col-form-label">Search Filter</label>\n\t\t\t\t\t\t<div class="col-xs-10">\n\t\t\t\t\t\t\t<input class="form-control" [formControl]="caseFilterQuery" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ngx-datatable #casesTable class=\'material expandable casesTable\' [columnMode]="\'flex\'" [rows]="displayCases"\n\t\t\t [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [sorts]="[{prop: \'name\', dir: \'asc\'}]" [limit]="25">\n\t\t\t\t\x3c!-- Column Templates --\x3e\n\t\t\t\t<ngx-datatable-column name="Name" prop="name" [flexGrow]="1"></ngx-datatable-column>\n\t\t\t\t<ngx-datatable-column name="Note" prop="note" [flexGrow]="2"></ngx-datatable-column>\n\t\t\t\t<ngx-datatable-column name="Actions" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="2">\n\t\t\t\t\t<ng-template let-row="row" ngx-datatable-cell-template>\n\t\t\t\t\t\t<button (click)="editCase(row)" class="btn btn-primary" title="Edit Case"><i class="fa fa-edit"></i></button>\n\t\t\t\t\t\t<button (click)="deleteCase(row)" class="btn btn-danger" title="Delete Case"><i class="fa fa-times"></i></button>\n\t\t\t\t\t</ng-template>\n\t\t\t\t</ngx-datatable-column>\n\t\t\t</ngx-datatable>\n\t\t</div>\n\t</div>\n</div>'},993:function(t,e,n){var a=n(994);t.exports="string"==typeof a?a:a.toString()},994:function(t,e,n){var a=n(995);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},995:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"#main.casesMain {\n\tpadding: 10px 15px;\n}\n\n.casesMain .box-title {\n\tfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n\tfont-weight: bold;\n}\n\n.casesMain .form-control.input-sm {\n\tmargin-left: 10px;\n}\n\n.casesMain ngx-datatable datatable-body datatable-body-row datatable-body-cell .datatable-body-cell-label {\n\twhite-space: initial;\n}",""])},996:function(t,e){t.exports='<div id="main" class="metricsMain">\n\t<ul class="nav nav-tabs" role="tablist">\n\t\t<li class="active"><a href="#workflows" data-toggle="tab" role="tab">Workflow Metrics</a></li>\n\t\t<li><a href="#apps" data-toggle="tab" role="tab">App Metrics</a></li>\n\t</ul>\n\t<div class="tab-content">\n\t\t<div id="workflows" class="tab-pane fade in active">\n\t\t\t<h1>Workflow Metrics</h1>\n\n\t\t\t<ngx-datatable #workflowMetricsTable class=\'material expandable workflowMetricsTable\' [columnMode]="\'flex\'" [rows]="workflowMetrics"\n\t\t\t [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [sorts]="[{prop: \'name\', dir: \'asc\'}]" [limit]="25">\n\t\t\t\t\x3c!-- Column Templates --\x3e\n\t\t\t\t<ngx-datatable-column name="Name" prop="name" [flexGrow]="4"></ngx-datatable-column>\n                <ngx-datatable-column name="Executions (Average Time)" prop="display_text" [flexGrow]="1"></ngx-datatable-column>\n\t\t\t</ngx-datatable>\n\t\t</div>\n\t\t<div id="apps" class="tab-pane fade">\n\t\t\t\t<h1>App Metrics</h1>\n\t\n\t\t\t\t<div class="row">\n\t\t\t\t\t<div class="col-xs-offset-7 col-xs-5">\n\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t<select2 [data]="availableApps" [value]="" [options]="appSelectConfig" (valueChanged)="appSelectChange($event)"></select2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\n\t\t\t\t<ngx-datatable #appMetricsTable class=\'material expandable appMetricsTable\' [columnMode]="\'flex\'" [rows]="displayAppMetrics()" [sortType]="\'multi\'"\n\t\t\t\t [headerHeight]="50" [footerHeight]="50" [rowHeight]="undefined" [sorts]="[{prop: \'app\', dir: \'asc\'}, {prop: \'action\', dir: \'asc\'}]" [limit]="25">\n\t\t\t\t\t\x3c!-- Column Templates --\x3e\n\t\t\t\t\t<ngx-datatable-column name="App" prop="app" [flexGrow]="2"></ngx-datatable-column>\n\t\t\t\t\t<ngx-datatable-column name="Action" prop="action" [flexGrow]="2"></ngx-datatable-column>\n\t\t\t\t\t<ngx-datatable-column name="Successful Executions (Average Time)" prop="success" [flexGrow]="1"></ngx-datatable-column>\n\t\t\t\t\t<ngx-datatable-column name="Failed Executions (Average Time)" prop="error" [flexGrow]="1"></ngx-datatable-column>\n\t\t\t\t</ngx-datatable>\n\t\t\t</div>\n\t</div>\n</div>'},997:function(t,e,n){var a=n(998);t.exports="string"==typeof a?a:a.toString()},998:function(t,e,n){var a=n(999);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},999:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"#main.metricsMain {\n\tpadding: 10px 15px;\n}\n\n.metricsMain .box-title {\n\tfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n\tfont-weight: bold;\n}\n\n.metricsMain .form-control.input-sm {\n\tmargin-left: 10px;\n}\n\n.metricsMain ngx-datatable datatable-body datatable-body-row datatable-body-cell .datatable-body-cell-label {\n\twhite-space: initial;\n}",""])}});